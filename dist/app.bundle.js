!function(e){var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,n){if(!$[e]||!x[e])return;for(var t in x[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--v&&0===b&&k()}(e,t),n&&n(e,t)};var t,i=!0,o="16745b703522c5c5b3d4",a=1e4,r={},s=[],l=[];function c(e){var n=E[e];if(!n)return I;var i=function(i){return n.hot.active?(E[i]?-1===E[i].parents.indexOf(e)&&E[i].parents.push(e):(s=[e],t=i),-1===n.children.indexOf(i)&&n.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+e),s=[]),I(i)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return I[e]},set:function(n){I[e]=n}}};for(var a in I)Object.prototype.hasOwnProperty.call(I,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(i,a,o(a));return i.e=function(e){return"ready"===u&&h("prepare"),b++,I.e(e).then(n,function(e){throw n(),e});function n(){b--,"prepare"===u&&(y[e]||j(e),0===b&&0===v&&k())}},i.t=function(e,n){return 1&n&&(e=i(e)),I.t(e,-2&n)},i}function d(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)n._acceptedDependencies[e[i]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:_,apply:O,status:function(e){if(!e)return u;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var n=p.indexOf(e);n>=0&&p.splice(n,1)},data:r[e]};return t=void 0,n}var p=[],u="idle";function h(e){u=e;for(var n=0;n<p.length;n++)p[n].call(null,e)}var f,m,g,v=0,b=0,y={},x={},$={};function w(e){return+e+""===e?+e:e}function _(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return i=e,h("check"),(n=a,n=n||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var i=new XMLHttpRequest,a=I.p+""+o+".hot-update.json";i.open("GET",a,!0),i.timeout=n,i.send(null)}catch(e){return t(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)t(new Error("Manifest request to "+a+" timed out."));else if(404===i.status)e();else if(200!==i.status&&304!==i.status)t(new Error("Manifest request to "+a+" failed."));else{try{var n=JSON.parse(i.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return h("idle"),null;x={},y={},$=e.c,g=e.h,h("prepare");var n=new Promise(function(e,n){f={resolve:e,reject:n}});m={};return j(0),"prepare"===u&&0===b&&0===v&&k(),n});var n}function j(e){$[e]?(x[e]=!0,v++,function(e){var n=document.createElement("script");n.charset="utf-8",n.src=I.p+""+e+"."+o+".hot-update.js",document.head.appendChild(n)}(e)):y[e]=!0}function k(){h("ready");var e=f;if(f=null,e)if(i)Promise.resolve().then(function(){return O(i)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(w(t));e.resolve(n)}}function O(n){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var t,i,a,l,c;function d(e){for(var n=[e],t={},i=n.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var o=i.pop(),a=o.id,r=o.chain;if((l=E[a])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:r,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:r,moduleId:a};for(var s=0;s<l.parents.length;s++){var c=l.parents[s],d=E[c];if(d){if(d.hot._declinedDependencies[a])return{type:"declined",chain:r.concat([c]),moduleId:a,parentId:c};-1===n.indexOf(c)&&(d.hot._acceptedDependencies[a]?(t[c]||(t[c]=[]),p(t[c],[a])):(delete t[c],n.push(c),i.push({chain:r.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function p(e,n){for(var t=0;t<n.length;t++){var i=n[t];-1===e.indexOf(i)&&e.push(i)}}n=n||{};var f={},v=[],b={},y=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){var _;c=w(x);var j=!1,k=!1,O=!1,S="";switch((_=m[x]?d(c):{type:"disposed",moduleId:x}).chain&&(S="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(j=new Error("Aborted because of self decline: "+_.moduleId+S));break;case"declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+S));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(j=new Error("Aborted because "+c+" is not accepted"+S));break;case"accepted":n.onAccepted&&n.onAccepted(_),k=!0;break;case"disposed":n.onDisposed&&n.onDisposed(_),O=!0;break;default:throw new Error("Unexception type "+_.type)}if(j)return h("abort"),Promise.reject(j);if(k)for(c in b[c]=m[c],p(v,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,c)&&(f[c]||(f[c]=[]),p(f[c],_.outdatedDependencies[c]));O&&(p(v,[_.moduleId]),b[c]=y)}var D,C=[];for(i=0;i<v.length;i++)c=v[i],E[c]&&E[c].hot._selfAccepted&&C.push({module:c,errorHandler:E[c].hot._selfAccepted});h("dispose"),Object.keys($).forEach(function(e){!1===$[e]&&function(e){delete installedChunks[e]}(e)});for(var M,T,U=v.slice();U.length>0;)if(c=U.pop(),l=E[c]){var A={},P=l.hot._disposeHandlers;for(a=0;a<P.length;a++)(t=P[a])(A);for(r[c]=A,l.hot.active=!1,delete E[c],delete f[c],a=0;a<l.children.length;a++){var H=E[l.children[a]];H&&((D=H.parents.indexOf(c))>=0&&H.parents.splice(D,1))}}for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=E[c]))for(T=f[c],a=0;a<T.length;a++)M=T[a],(D=l.children.indexOf(M))>=0&&l.children.splice(D,1);for(c in h("apply"),o=g,b)Object.prototype.hasOwnProperty.call(b,c)&&(e[c]=b[c]);var L=null;for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=E[c])){T=f[c];var R=[];for(i=0;i<T.length;i++)if(M=T[i],t=l.hot._acceptedDependencies[M]){if(-1!==R.indexOf(t))continue;R.push(t)}for(i=0;i<R.length;i++){t=R[i];try{t(T)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:c,dependencyId:T[i],error:e}),n.ignoreErrored||L||(L=e)}}}for(i=0;i<C.length;i++){var z=C[i];c=z.module,s=[c];try{I(c)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:t,originalError:e}),n.ignoreErrored||L||(L=t),L||(L=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:c,error:e}),n.ignoreErrored||L||(L=e)}}return L?(h("fail"),Promise.reject(L)):(h("idle"),new Promise(function(e){e(v)}))}var E={};function I(n){if(E[n])return E[n].exports;var t=E[n]={i:n,l:!1,exports:{},hot:d(n),parents:(l=s,s=[],l),children:[]};return e[n].call(t.exports,t,t.exports,c(n)),t.l=!0,t.exports}I.m=e,I.c=E,I.d=function(e,n,t){I.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},I.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},I.t=function(e,n){if(1&n&&(e=I(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(I.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)I.d(t,i,function(n){return e[n]}.bind(null,i));return t},I.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return I.d(n,"a",n),n},I.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},I.p="",I.h=function(){return o},c("./index.js")(I.s="./index.js")}({"../node_modules/css-loader/dist/cjs.js!./css/style.css":function(e,n,t){(e.exports=t("../node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,'\n* {\n    margin:0;\n    padding:0;\n    box-sizing: border-box;\n}\n\na {\n    text-decoration: none;\n    color:#333;\n}\n\nul li {\n    list-style: none;\n}\n\nbody {\n    font-size: 12px;\n    line-height: 1.2;\n    background-color:#fff;\n    font-family: "Helvetica Neue",Helvetica,Roboto,Arial,sans-serif;\n}\n\nmain {\n    height: calc(100vh - 50px);\n    overflow:scroll;\n    -webkit-overflow-scrolling: touch;\n}\n\nmain > section {\n    padding:10px;\n    display: none;\n}\nmain > section:first-child {\n    display: block;\n}\n\n\n.item {\n    border-bottom: 1px solid #ccc;\n    padding-bottom:10px;\n    padding-top:10px;\n}\n\n.item>a {\n    display: block;\n    display: flex;\n}\n\n.item>a .cover, .item>a img {\n    width:70px;\n}\n\n.item .detail {\n    padding-left:10px;\n    flex:1;\n}\n\n.item .detail h2 {\n    font-size: 16px;\n}\n\n.item .detail .extra {\n    color:#999;\n    margin-top:4px;\n}\n\n.item .detail .score {\n    color:#ff5722;\n    /* margin-right:8px; */\n}\n\n.loading .iconfont {\n    display: inline-block;\n    font-size: 3em;\n    color:lightpink;\n    animation: 1s rotate linear infinite;\n\n}\n\n.loading {\n    padding:5px;\n    text-align: center;\n    display: none;\n}\n\n\nsection .search-area {\n    color: #333;\n    padding-bottom: 10px;\n    border-bottom: 1px solid #ccc;\n    position: relative;\n}\n\nsection .search-area input {\n    width: calc(100% - 50px);\n    padding: 8px;\n    background-color: #eee;\n    border: none;\n    border-radius: 2px;\n    box-shadow: none;\n    outline: none;\n}\n\nsection .search-area .button {\n    position: absolute;\n    right: 0;\n    padding: 8px 10px;\n    background: #FF5722;\n    color: #fff;\n    border-radius: 2px;\n    cursor: pointer;\n}\n\nsection #us {\n    position: relative;\n}\n\n/* section #us img {\n    width:80px;\n    margin: 2px;\n    position: absolute;\n}  */\n\n/* 添加评分 */\nsection #us .img-wrap {\n    width:80px;\n    margin: 2px;\n    display: inline-block;\n    position: absolute;\n}\n\nsection #us img {\n    width:80px;\n}  \nsection #us .score {\n    font-size: .9em;\n    font-weight: 300;\n    right: 2px;\n    bottom: 4px;\n    color: white;\n    position: absolute;\n    background: #ff5722;\n    border-radius: 50%;\n    opacity: .8;\n    padding: 4px;\n}\n\n/* 添加收藏 */\nsection .icon-xihuan {\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-70%);\n    font-size: 2.1em;\n}\n\nsection .icon-xihuan.active {\n    color:red;\n}\n\nsection .no-data {\n    position: absolute;\n    font-size: 1.3em;\n    color: grey;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-250%);\n}\n\n/* 添加收藏结束 */\n\nsection .item .detail {\n    position: relative;\n}\n\n/* 添加评分 结束*/\n\n\n@keyframes rotate {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform:rotate(360deg);\n    }\n}\n\nfooter {\n    height: 50px;\n    border-top:1px solid #ccc;\n    display: flex;\n    \n}\n\nfooter .active {\n    color:#ff5722;\n}\n\nfooter>div {\n    flex:1;\n    text-align: center;\n}\n\nfooter>div>span {\n    display: block;\n    padding-top:5px;\n}\n\n/* \n电影详情\n*/\n\n#detail {\n    background: rgba(0,0,0,0.4);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    display: none;\n}\n\n#detail .movie_detail {\n    height: 100%;\n    /* margin: 30px 10px 0px 10px; */\n    background:white;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n\n}\n\n#detail .card {\n    padding:0 18px;\n}\n\n#detail .subject {\n    display: flex;\n}\n\n#detail .left {\n    width: calc(100% - 100px);\n}\n\n#detail .right {\n    width: 100px;\n    height: 110px;\n    /* outline: 1px solid red; */\n}\n\n#detail .right img {\n    width:100px;\n}\n\n#detail .channel_tags{\n    margin-bottom: 30px\n    \n}\n\n#detail h2 {\n    color: #aaa;\n    margin: 0 0 15px;\n    font-size: 15px;\n}\n\n#detail h1,#detail h2,#detail h3 {\n    font-wight:normal;\n}\n\n\n\n \n\n#detail h1 {\n    padding-top: 20px;\n    padding-bottom: 5px;\n    font-weight: 400;\n    color: rgb(17,17,17);\n}\n\n#detail .score {\n    color:rgb(73,73,73);\n    margin-right:8px;\n}\n\n#detail .count {\n    color:rgb(170,170,170)\n}\n\n#detail .meta {\n    font-size: 14px;\n    color:rgb(73,73,73);\n    line-height: 22.4px;\n    padding-right: 20px;\n    margin-top: 10px;\n    margin-bottom: 30px;\n    \n}\n\n#detail .channel_tag {\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    display: inline-block;\n    margin-right: 10px;\n    font-size: 13px;\n    padding: 5px 10px;\n    border-radius: 15px;\n    margin-bottom: 10px;\n}\n\n#detail a {\n  color:#42bd56   \n}\n\n#detail .bd {\n    font-size: 15px;\n    line-height: 22px;\n    color: #494949;\n    margin-bottom: 30px;\n    \n}\n\n#detail .celebrities ul {\n    overflow: auto;\n    white-space:nowrap;\n}\n\n#detail .celebrities li {\n    display: inline-block;\n    width: 75px;\n    margin-right:8px;\n}\n\n\n#detail .celebrities .poster {\n    width: 100%;\n    height: 130px;\n    background-size: cover;\n    background-position: center;\n    /* outline: 1px solid pink; */\n    \n}\n\n#detail .celebrities .name , #detail .celebrities .role {\n    margin-top:8px;\n    display: block;\n    text-align: center;\n}\n\n#detail .close {\n    margin:30px 0;\n    text-align: center;\n}\n\n#detail .close button {\n    color: #42bd56;\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    font-size: 14px;\n    padding: 5px 16px;\n    border-radius: 15px;\n}\n\n\n\n\n\n',""])},"../node_modules/css-loader/dist/runtime/api.js":function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var o=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[t].concat(a).concat([o]).join("\n")}var r;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];null!=r[0]&&i[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),n.push(r))}},n}},"../node_modules/style-loader/lib/addStyles.js":function(e,n,t){var i,o,a={},r=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),s=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var i=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}n[e]=i}return n[e]}}(),l=null,c=0,d=[],p=t("../node_modules/style-loader/lib/urls.js");function u(e,n){for(var t=0;t<e.length;t++){var i=e[t],o=a[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(b(i.parts[r],n))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(b(i.parts[r],n));a[i.id]={id:i.id,refs:1,parts:s}}}}function h(e,n){for(var t=[],i={},o=0;o<e.length;o++){var a=e[o],r=n.base?a[0]+n.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(s):t.push(i[r]={id:r,parts:[s]})}return t}function f(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),d.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,t);t.insertBefore(n,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=d.indexOf(e);n>=0&&d.splice(n,1)}function g(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return t.nc}();i&&(e.attrs.nonce=i)}return v(n,e.attrs),f(e,n),n}function v(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,i,o,a;if(n.transform&&e.css){if(!(a="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=a}if(n.singleton){var r=c++;t=l||(l=g(n)),i=$.bind(null,t,r,!1),o=$.bind(null,t,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(n,e.attrs),f(e,n),n}(n),i=function(e,n,t){var i=t.css,o=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||a)&&(i=p(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}.bind(null,t,n),o=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=g(n),i=function(e,n){var t=n.css,i=n.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){m(t)});return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=r()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=h(e,n);return u(t,n),function(e){for(var i=[],o=0;o<t.length;o++){var r=t[o];(s=a[r.id]).refs--,i.push(s)}e&&u(h(e,n),n);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y,x=(y=[],function(e,n){return y[e]=n,y.filter(Boolean).join("\n")});function $(e,n,t,i){var o=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}},"../node_modules/style-loader/lib/urls.js":function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,i=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var o,a=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"./css/style.css":function(e,n,t){var i=t("../node_modules/css-loader/dist/cjs.js!./css/style.css");"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},a=t("../node_modules/style-loader/lib/addStyles.js")(i,o);i.locals&&(e.exports=i.locals),e.hot.accept("../node_modules/css-loader/dist/cjs.js!./css/style.css",function(){var n=t("../node_modules/css-loader/dist/cjs.js!./css/style.css");if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,i=0;for(t in e){if(!n||e[t]!==n[t])return!1;i++}for(t in n)i--;return 0===i}(i.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(n)}),e.hot.dispose(function(){a()})},"./index.js":function(e,n,t){"use strict";t.r(n);t("./css/style.css");let i={events:{},on(e,n){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(n)},emit(e,n){this.events[e].forEach(e=>{e.call(null,n)})}};function o(e,n){let t="";null!==n&&JSON.parse(n).forEach(n=>{e.id===n.id+""&&(t="active")});let{casts:i,directors:o}=e,a=[],r=[];i.forEach(e=>{a.push(e.name)}),o.forEach(e=>{r.push(e.name)});let s=`            <div class="item" data-movie-id=${e.id}>\n    <a href="#">\n        <div class="cover">\n            <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png" data-src = "${e.images.small}" alt="">\n        </div>\n        <div class="detail">\n            <h2>${e.title}</h2>\n            <div class="extra">\n                <span class="score">${e.rating.average}</span> / ${e.collect_count}收藏\n            </div>\n            <div class="extra">${e.year} / ${e.genres.join("、")}</div>\n            <div class="extra">导演：${r.join("、")}</div>\n            <div class="extra">主演：${a.join("、")}</div>\n            <span class="iconfont icon-xihuan ${t}"></span>\n\n        </div>\n    </a>\n</div>\n`;return $(s)}function a(){$(".cover img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))})}if(!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)){let e=$(window).height()-50;$("main").css({height:e}),console.log("IOS上main的height已重置")}new class{constructor({top250:e,us:n,search:t,fav:i,detail:o}){this.$tabs=$("footer>div"),this.panels=$("section"),this.top250=e,this.us=n,this.search=t,this.fav=i,this.detail=o}init(){this.bind(),this.top250.init(),this.us.init(),this.search.init(),this.fav.init(),this.detail.init()}bind(){let e=this;this.$tabs.click(function(){let n=$(this).index();e.panels.hide().eq(n).fadeIn(),$(this).addClass("active").siblings().removeClass("active"),"xihuan"===$(this).data("id")&&e.fav.render()})}}({top250:new class{constructor(){this.$container=$("#top250"),this.is_lodding=!1,this.moive_index=0,this.clock=null,this.lazy_load_time_id=null,this.event_hub=i,this.data=localStorage.getItem("douban_movies")}init(){this.bind(),this.start()}bind(){let e=this,n=this.$container.parents("main");n.scroll(()=>{"none"===this.$container.parent().css("display")||(this.clock&&clearTimeout(this.clock),this.clock=setTimeout(()=>{this.$container.height()-50<=n.height()+n.scrollTop()&&(console.log("滚动到底部，发起新的请求"),this.start())},300)),this.lazy_load_time_id&&clearTimeout(this.lazy_load_time_id),this.lazy_load_time_id=setTimeout(function(){a()},500)}),this.$container.on("click",".icon-xihuan",function(n){let t=$(this).parents(".item"),i=t.data("movieId");if($(this).hasClass("active"))$(this).removeClass("active"),e.event_hub.emit("unlike",i);else{$(this).addClass("active");let n=t.wrap("<p/>").parent().html();e.event_hub.emit("like",{id:i,html:n})}n.stopPropagation()}),this.event_hub.on("fav_unlike",function(n){e.$container.find(`[data-movie-id=${n}] .icon-xihuan`).removeClass("active")}),this.$container.on("click",":not('.icon-xihuan')",function(n){e.event_hub.emit("show_detail",$(this).parents(".item").data("movieId").toString()),n.stopPropagation()})}start(){this.getData(e=>{this.render(e)})}getData(e){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$container.parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/top250",type:"GET",dataType:"jsonp",data:{start:this.moive_index,count:20}}).done(n=>{console.log("请求电影数据成功:"),e(n),this.moive_index+=20,console.log(n)}).fail(e=>{console.log("请求电影数据失败: "),console.log(e)}).always(()=>{this.is_lodding=!1,this.$container.parent().find(".loading").hide()}))}render(e){e.subjects.forEach(e=>{let n=o(e,this.data);this.$container.append(n)}),a()}},us:new class{constructor(){this.$container=$("#us"),this.col_height_arr=[],this.event_hub=i,this.img_width=$(".waterfall img").outerWidth(!0),this.col_Count=Math.floor($(".waterfall").width()/this.img_width);for(let e=0;e<this.col_Count;e++)this.col_height_arr[e]=0}init(){this.bind()}bind(){let e=this;this.$container.on("click",".img-wrap",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))})}},search:new class{constructor(){this.$element=$("#search"),this.$input=$("#search input"),this.$container=$(".search-reslut .container"),this.data=(()=>localStorage.getItem("douban_movies")),this.event_hub=i}init(){this.bind(),this.start(),this.keyword=null}bind(){let e=this;this.$container.on("click",".item",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))}),this.$element.find(".button").click(()=>{this.keyword=this.$element.find("input").val(),this.$container.empty(),this.getData(e=>{this.render(e,this.data())})}),this.$container.on("click",".icon-xihuan",function(n){let t=$(this).parents(".item"),i=t.data("movieId");if($(this).hasClass("active"))console.log("收藏中...."),$(this).removeClass("active"),e.event_hub.emit("unlike",i);else{console.log("没有收藏..."),$(this).addClass("active");let n=t.wrap("<p/>").parent().html();e.event_hub.emit("like",{id:i,html:n})}n.stopPropagation()}),this.event_hub.on("fav_unlike",function(n){e.$container.find(`[data-movie-id=${n}] .icon-xihuan`).removeClass("active"),console.log("收藏页面取消收藏事件 成功")}),this.$input.on("keypress",function(n){let t=n.keyCode;e.keyword=$(this).val(),13===t&&(e.$container.empty(),e.getData(n=>{e.render(n,e.data())}))})}start(){}getData(e){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$element.find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/search",type:"GET",dataType:"jsonp",data:{q:this.keyword}}).done(n=>{console.log("搜索电影数据成功:"),e(n),console.log(n)}).fail(e=>{console.log("搜索电影数据失败: "),console.log(e)}).always(()=>{this.is_lodding=!1,this.$element.find(".loading").hide()}))}render(e,n){e.subjects.forEach(e=>{let t=o(e,n);this.$container.append(t)}),a()}},fav:new class{constructor(){this.$container=$("#fav"),this.local_storage=localStorage,this.data=this.local_storage.getItem("douban_movies"),this.event_hub=i}init(){console.log("初始化"),null===this.data?this.data=[]:this.data=JSON.parse(this.data),this.bind(),this.render()}bind(){let e=this;this.$container.on("click",".icon-xihuan",function(n){console.log("取消喜欢...");let t=$(this).parents(".item").data("movieId");e.remove_movie(t),e.event_hub.emit("fav_unlike",t),n.stopPropagation()}),this.$container.on("click",".item",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))}),this.event_hub.on("like",function(n){console.log("我监听到了like事件..."),e.data.unshift(n),e.local_storage.setItem("douban_movies",JSON.stringify(e.data))}),this.event_hub.on("unlike",function(n){console.log("我监听到了unlike事件..."),e.remove_movie(n)})}remove_movie(e){let n=null;for(let[t,i]of this.data.entries())if(i.id===e){n=t;break}this.data.splice(n,1),this.local_storage.setItem("douban_movies",JSON.stringify(this.data)),this.render()}render(){this.$container.empty(),0===this.data.length?(console.log("\b\b暂无收藏..."),this.$container.append($('<span class="no-data">\b暂无收藏哦...</span>'))):this.data.forEach(e=>{this.$container.append($(e.html))})}},detail:new class{constructor(){this.$container=$("#detail"),this.$height=$(window).height(),this.event_hub=i,this.data=null}init(){this.bind()}bind(){this.$container.on("click",".close button",()=>{console.log("关闭详情页..."),this.$container.fadeOut()}),this.event_hub.on("show_detail",e=>{console.log(e);let n=`//api.douban.com/v2/movie/subject/${e}`;this.get_data(n,()=>{this.render()})})}get_data(e,n){let t=this;$.ajax({url:e,type:"GET",dataType:"jsonp",data:{apikey:"0b2bdeda43b5688921839c8ecb20399b"}}).done(e=>{console.log("请求电影\b详情数据成功."),t.data=e,t.render()}).fail(e=>{console.log("请求电影\b详情数据失败."),t.data=e})}render(){let e=this.data,n="",t="",i="";console.log(e),e.directors.map(e=>{console.log(e),n+=e.name+"(导演) / ",t+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${e.avatars.small}')"></div>\n                                    <span class="name">${e.name}</span>\n                                    <span class="role">导演</span>\n                                </li>`}),e.casts.map(e=>{console.log(e),i+=e.name+" / ",t+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${e.avatars.small}')"></div>\n                                    <span class="name">${e.name}</span>\n                                    <span class="role">演员</span>\n                                </li>`});let o=e.tags.map(e=>`<li class="channel_tag"><a href="">${e}</a></li>`),a=`${e.durations[0]+" / "+e.genres.join(" / ")+" / "+n+i+this.data.pubdates.join(" / ")}`,r=`\n        <div class="movie_detail" style="height:${this.$height}px">\n            <div class="card">\n                <h1>${e.title}</h1>\n                <div class="subject">\n                    <div class="left">\n                        <p class="ratting">\n                            <span class="star"></span>\n                            <strong class="score">${e.rating.average}</strong>\n                            <span class="count">${e.ratings_count}人评价</span>\n                        </p>\n                        <p class="meta">${a}\n                        </p>\n                    </div>\n                    <div class="right">\n                        <img src="${e.images.small}" alt="">\n                    </div>\n                </div>\n                <div class="channel_tags">\n                    <h2>所属频道</h2>\n                    <ul>\n                        ${o.join("")}\n                    </ul>\n                </div>\n                <div class="intro">\n                    <h2>${e.title}的剧情简介</h2>\n                    <p class="bd">\n                          ${e.summary}  \n                    </p>\n\n                </div>\n                <div class="celebrities">\n                    <h2>影人</h2>\n                    <ul>\n                        ${t}        \n                    </ul>\n                </div>\n            </div>\n            <div class="close">\n                <button>关闭</button>\n            </div>\n        </div>\n        `;this.$container.empty(),this.$container.append(r).fadeIn(),console.log("detail 渲染成功...")}}}).init();function r(e){let n=[70,80,90,120];e.subjects.forEach(e=>{let t=`\n         <div class="img-wrap" data-movie-id=${e.id}>\n            <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png"  data-src = "${e.images.small}" alt="">\n            <span class="score">${Number(e.rating.average).toFixed(1)}<span>\n         </div>\n         `,i=$(t);i.find("img").css("height",n[Math.floor(4*Math.random())]),$(".waterfall").append(i)}),function(){let e=[],n=$(".waterfall .img-wrap").outerWidth(!0),t=Math.floor($(".waterfall").width()/n);for(let n=0;n<t;n++)e[n]=0;console.log(`${e} ${n} ${t}`),$(".waterfall .img-wrap").each(function(){let t=Math.min(...e),i=e.indexOf(t);$(this).css({left:i*n,top:t}),e[i]+=$(this).outerHeight(!0)}),$(".waterfall img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))});let i=$(".waterfall .img-wrap").parents("section").outerWidth(!0),o=$(".waterfall .img-wrap").eq(0).outerWidth(!0)*t,a=Math.floor((i-o)/2);$(".waterfall .img-wrap").parents("section").css({"padding-left":a,"padding-top":a}),console.log(`padding-left is ${a}`)}()}$("footer>div").eq(1).click(()=>{0===$(".waterfall img").length&&function(e){$(".waterfall").parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/in_theaters",type:"GET",dataType:"jsonp"}).done(n=>{e(n),console.log(n)}).fail(e=>{console.log("请求电影数据失败: "),console.log(e)}).always(()=>{$(".waterfall").parent().find(".loading").hide()})}(r)})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY3NzL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL2Nzcy9zdHlsZS5jc3M/ZjY4YyIsIndlYnBhY2s6Ly8vLi9qcy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vanMvdG9wMjUwLmpzIiwid2VicGFjazovLy8uL2pzL3VzLmpzIiwid2VicGFjazovLy8uL2pzL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9mYXZvcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9qcy9kZXRhaWwuanMiXSwibmFtZXMiOlsicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ3aW5kb3ciLCJjaHVua0lkIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRIYXNoIiwiaG90UmVxdWVzdFRpbWVvdXQiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJmbiIsInJlcXVlc3QiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiZXJyIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJ0IiwibW9kZSIsImhvdENyZWF0ZU1vZHVsZSIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX2Rpc3Bvc2VIYW5kbGVycyIsIl9tYWluIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJzdGF0dXMiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJuZXdTdGF0dXMiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJ0b01vZHVsZUlkIiwiaWQiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImRlZmVycmVkIiwicmVzdWx0Iiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwidHlwZSIsInBhcmVudElkIiwicGFyZW50IiwiY29uY2F0IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkaXNwb3NlSGFuZGxlcnMiLCJjaGlsZCIsIm1vZHVsZXMiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImV4cG9ydHMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnkiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiYXRvYiIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiYXR0cnMiLCJub25jZSIsIm5jIiwiZ2V0Tm9uY2UiLCJhZGRBdHRycyIsImVsIiwic2V0QXR0cmlidXRlIiwib2JqIiwicmVtb3ZlIiwidHJhbnNmb3JtIiwiZGVmYXVsdCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiaG1yIiwibG9jYWxzIiwibmV3Q29udGVudCIsIkV2ZW50X2h1YiIsImV2ZW50cyIsIltvYmplY3QgT2JqZWN0XSIsImdlbmVyYXRlX2h0bWxfdG1wIiwibW92aWUiLCJsb2NhbF9kYXRhIiwiY2FzdHMiLCJkaXJlY3RvcnMiLCJjYXN0X25hbWVfYXJyIiwiZGlyZWN0b3JfbmFtZV9hcnIiLCJjYXN0IiwiZGlyZWN0b3IiLCJ0bXAiLCJpbWFnZXMiLCJzbWFsbCIsInRpdGxlIiwicmF0aW5nIiwiYXZlcmFnZSIsImNvbGxlY3RfY291bnQiLCJ5ZWFyIiwiZ2VucmVzIiwiJCIsImxhenlfbG9hZCIsIm5vdCIsImVhY2giLCJoZWlnaHQiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJhdHRyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJtYWluX2hlaWdodCIsImxvZyIsInRvcDI1MCIsInVzIiwic2VhcmNoIiwiZmF2IiwiZGV0YWlsIiwiJHRhYnMiLCJwYW5lbHMiLCJpbml0IiwiX3RoaXMiLCJjbGljayIsImhpZGUiLCJlcSIsImZhZGVJbiIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsInJlbmRlciIsIiRjb250YWluZXIiLCJpc19sb2RkaW5nIiwibW9pdmVfaW5kZXgiLCJjbG9jayIsImxhenlfbG9hZF90aW1lX2lkIiwiZXZlbnRfaHViIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0YXJ0IiwiJG1haW4iLCJzY3JvbGwiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib24iLCJtb3ZpZV9pdGVtIiwibW92aWVfaWQiLCJoYXNDbGFzcyIsImVtaXQiLCJtb3ZpZV9odG1sX3N0ciIsIndyYXAiLCJodG1sIiwic3RvcFByb3BhZ2F0aW9uIiwiZmluZCIsImdldERhdGEiLCJzaG93IiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiY291bnQiLCJkb25lIiwicmVzIiwiZmFpbCIsImFsd2F5cyIsInN1YmplY3RzIiwiJG5vZGUiLCJhcHBlbmQiLCJjb2xfaGVpZ2h0X2FyciIsImltZ193aWR0aCIsIm91dGVyV2lkdGgiLCJjb2xfQ291bnQiLCJNYXRoIiwiZmxvb3IiLCJ3aWR0aCIsIiRlbGVtZW50IiwiJGlucHV0Iiwia2V5d29yZCIsInZhbCIsImVtcHR5Iiwia2V5X2NvZGUiLCJrZXlDb2RlIiwicSIsImxvY2FsX3N0b3JhZ2UiLCJyZW1vdmVfbW92aWUiLCJ1bnNoaWZ0Iiwic2V0SXRlbSIsIm1vdmllX2luZGV4IiwiZW50cmllcyIsIiRoZWlnaHQiLCJmYWRlT3V0IiwiZ2V0X2RhdGEiLCJhcGlrZXkiLCJtZXRhX2RpcmVjdG9ycyIsImNlbGVicml0aWVzIiwibWV0YV9jYXN0cyIsImF2YXRhcnMiLCJ0YWdzIiwidGFnIiwibWV0YSIsImR1cmF0aW9ucyIsInB1YmRhdGVzIiwicmF0aW5nc19jb3VudCIsInN1bW1hcnkiLCJoZWlnaHRfYXJyIiwiTnVtYmVyIiwidG9GaXhlZCIsIiRlbGVtbmV0IiwicmFuZG9tIiwiY29sSGVpZ2h0QXJyYXkiLCJpbWdXaWR0aCIsImNvbENvdW50IiwibWluX3ZhbHVlIiwibWluIiwibWluX2luZGV4IiwibGVmdCIsIm91dGVySGVpZ2h0IiwidG90YWxfd2lkdGgiLCJpbWdzX3dpZHRoIiwicGFkZGluZyIsInBhZGRpbmctbGVmdCIsInBhZGRpbmctdG9wIiwibGF5b3V0Il0sIm1hcHBpbmdzIjoiYUFHQSxJQUFBQSxFQUFBQyxPQUFBLGlCQUNBQSxPQUFBLGlCQUNBLFNBQUFDLEVBQUFDLElBZ1JBLFNBQUFELEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUYsS0FBQUcsRUFBQUgsR0FDQSxPQUVBLFFBQUFJLEtBREFELEVBQUFILElBQUEsRUFDQUMsRUFDQUksT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVAsRUFBQUcsS0FDQUssRUFBQUwsR0FBQUgsRUFBQUcsSUFHQSxLQUFBTSxHQUFBLElBQUFDLEdBQ0FDLElBelJBQyxDQUFBYixFQUFBQyxHQUNBSCxLQUFBRSxFQUFBQyxJQXVEQSxJQUtBYSxFQUxBQyxHQUFBLEVBRUFDLEVBQUEsdUJBQ0FDLEVBQUEsSUFDQUMsRUFBQSxHQUdBQyxFQUFBLEdBRUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBakIsR0FDQSxJQUFBa0IsRUFBQUMsRUFBQW5CLEdBQ0EsSUFBQWtCLEVBQUEsT0FBQUUsRUFDQSxJQUFBQyxFQUFBLFNBQUFDLEdBc0JBLE9BckJBSixFQUFBSyxJQUFBQyxRQUNBTCxFQUFBRyxJQUNBLElBQUFILEVBQUFHLEdBQUFHLFFBQUFDLFFBQUExQixJQUNBbUIsRUFBQUcsR0FBQUcsUUFBQUUsS0FBQTNCLElBR0FlLEVBQUEsQ0FBQWYsR0FDQVUsRUFBQVksSUFFQSxJQUFBSixFQUFBVSxTQUFBRixRQUFBSixJQUNBSixFQUFBVSxTQUFBRCxLQUFBTCxLQUdB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LEtBQUFELEVBQUFKLEVBQ0F0RyxJQUFBd0csSUFFQUgsRUFBQUssSUFBQWpILEVBQUF2SSxNQUFBMFAsYUFBQSxLQUlBbkgsRUFBQSxrQkFBQUUsSUFBQSxtQkFBQUMsS0FBQSxXQUNBSCxFQUFBLFFBQUFJLFNBQUFKLEVBQUEsUUFBQUssWUFBQUwsRUFBQXZJLE1BQUE2SSxTQUFBQyxNQUNBUCxFQUFBdkksTUFBQStJLEtBQUEsTUFBQVIsRUFBQXZJLE1BQUErSSxLQUFBLGFBQ0FSLEVBQUF2SSxNQUFBK0ksS0FBQSxzQkFLQSxJQUFBNEcsRUFBQXBILEVBQUEsd0JBQUF4UyxRQUFBLFdBQUE2VyxZQUFBLEdBQ0FnRCxFQUFBckgsRUFBQSx3QkFBQXlCLEdBQUEsR0FBQTRDLFlBQUEsR0FBQXlDLEVBQ0FRLEVBQUEvQyxLQUFBQyxPQUFBNEMsRUFBQUMsR0FBQSxHQUNBckgsRUFBQSx3QkFBQXhTLFFBQUEsV0FBQTJNLElBQUEsQ0FBc0RvTixlQUFBRCxFQUFBRSxjQUFBRixJQUN0RDFaLFFBQUFpVCx1QkFBbUN5RyxLQXJDbkNHLEdBakRBekgsRUFBQSxjQUFBeUIsR0FBQSxHQUFBRixNQUFBLEtBRUEsSUFBQXZCLEVBQUEsa0JBQUFwUSxRQVFBLFNBQUF4QyxHQUVBNFMsRUFBQSxjQUFBaE0sU0FBQXFQLEtBQUEsWUFBQUUsT0FFQXZELEVBQUF3RCxLQUFBLENBRUFDLElBQUEsd0NBQ0EzUCxLQUFBLE1BQ0E0UCxTQUFBLFVBR0tFLEtBQUFDLElBQ0x6VyxFQUFBeVcsR0FDQWpXLFFBQUFpVCxJQUFBZ0QsS0FDS0MsS0FBQUQsSUFDTGpXLFFBQUFpVCxJQUFBLGNBQ0FqVCxRQUFBaVQsSUFBQWdELEtBQ0tFLE9BQUEsS0FDTC9ELEVBQUEsY0FBQWhNLFNBQUFxUCxLQUFBLFlBQUE3QixTQXpCQThCLENBQUF4QiIsImZpbGUiOiJhcHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdGlmIChudWxsKSBzY3JpcHQuY3Jvc3NPcmlnaW4gPSBudWxsO1xuIFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMTY3NDViNzAzNTIyYzVjNWIzZDRcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XG4gXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmUtYmxvY2tzXG4gXHRcdFx0e1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcblxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xuIFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4gXHRcdFx0KTtcbiBcdFx0fTtcblxuIFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuIFx0XHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuIFx0XHRcdFx0dmFyIHJlc3VsdDtcbiBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdC8qKiBAdHlwZSB7RXJyb3J8ZmFsc2V9ICovXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuIFx0XHRcdFx0aWYgKHJlc3VsdC5jaGFpbikge1xuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdFwiIGluIFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vblVuYWNjZXB0ZWQpIG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRpc3Bvc2VkKSBvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRkZWZhdWx0OlxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoYWJvcnRFcnJvcikge1xuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvQXBwbHkpIHtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHRcdFx0XHRmb3IgKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRcdCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQoXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXVxuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0KVxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XG4gXHRcdFx0XHRcdFx0aWYgKGNiKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoY2IpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcbiBcdFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xuIFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKFwiLi9pbmRleC5qc1wiKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vaW5kZXguanNcIik7XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbioge1xcbiAgICBtYXJnaW46MDtcXG4gICAgcGFkZGluZzowO1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5hIHtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgICBjb2xvcjojMzMzO1xcbn1cXG5cXG51bCBsaSB7XFxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcblxcbmJvZHkge1xcbiAgICBmb250LXNpemU6IDEycHg7XFxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsSGVsdmV0aWNhLFJvYm90byxBcmlhbCxzYW5zLXNlcmlmO1xcbn1cXG5cXG5tYWluIHtcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTBweCk7XFxuICAgIG92ZXJmbG93OnNjcm9sbDtcXG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xcbn1cXG5cXG5tYWluID4gc2VjdGlvbiB7XFxuICAgIHBhZGRpbmc6MTBweDtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxubWFpbiA+IHNlY3Rpb246Zmlyc3QtY2hpbGQge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuXFxuLml0ZW0ge1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcXG4gICAgcGFkZGluZy1ib3R0b206MTBweDtcXG4gICAgcGFkZGluZy10b3A6MTBweDtcXG59XFxuXFxuLml0ZW0+YSB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uaXRlbT5hIC5jb3ZlciwgLml0ZW0+YSBpbWcge1xcbiAgICB3aWR0aDo3MHB4O1xcbn1cXG5cXG4uaXRlbSAuZGV0YWlsIHtcXG4gICAgcGFkZGluZy1sZWZ0OjEwcHg7XFxuICAgIGZsZXg6MTtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCBoMiB7XFxuICAgIGZvbnQtc2l6ZTogMTZweDtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCAuZXh0cmEge1xcbiAgICBjb2xvcjojOTk5O1xcbiAgICBtYXJnaW4tdG9wOjRweDtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCAuc2NvcmUge1xcbiAgICBjb2xvcjojZmY1NzIyO1xcbiAgICAvKiBtYXJnaW4tcmlnaHQ6OHB4OyAqL1xcbn1cXG5cXG4ubG9hZGluZyAuaWNvbmZvbnQge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGZvbnQtc2l6ZTogM2VtO1xcbiAgICBjb2xvcjpsaWdodHBpbms7XFxuICAgIGFuaW1hdGlvbjogMXMgcm90YXRlIGxpbmVhciBpbmZpbml0ZTtcXG5cXG59XFxuXFxuLmxvYWRpbmcge1xcbiAgICBwYWRkaW5nOjVweDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5cXG5zZWN0aW9uIC5zZWFyY2gtYXJlYSB7XFxuICAgIGNvbG9yOiAjMzMzO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuc2VjdGlvbiAuc2VhcmNoLWFyZWEgaW5wdXQge1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gNTBweCk7XFxuICAgIHBhZGRpbmc6IDhweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XFxuICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbnNlY3Rpb24gLnNlYXJjaC1hcmVhIC5idXR0b24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBwYWRkaW5nOiA4cHggMTBweDtcXG4gICAgYmFja2dyb3VuZDogI0ZGNTcyMjtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5zZWN0aW9uICN1cyB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLyogc2VjdGlvbiAjdXMgaW1nIHtcXG4gICAgd2lkdGg6ODBweDtcXG4gICAgbWFyZ2luOiAycHg7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59ICAqL1xcblxcbi8qIOa3u+WKoOivhOWIhiAqL1xcbnNlY3Rpb24gI3VzIC5pbWctd3JhcCB7XFxuICAgIHdpZHRoOjgwcHg7XFxuICAgIG1hcmdpbjogMnB4O1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuc2VjdGlvbiAjdXMgaW1nIHtcXG4gICAgd2lkdGg6ODBweDtcXG59ICBcXG5zZWN0aW9uICN1cyAuc2NvcmUge1xcbiAgICBmb250LXNpemU6IC45ZW07XFxuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICAgIHJpZ2h0OiAycHg7XFxuICAgIGJvdHRvbTogNHB4O1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYmFja2dyb3VuZDogI2ZmNTcyMjtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICBvcGFjaXR5OiAuODtcXG4gICAgcGFkZGluZzogNHB4O1xcbn1cXG5cXG4vKiDmt7vliqDmlLbol48gKi9cXG5zZWN0aW9uIC5pY29uLXhpaHVhbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDEwcHg7XFxuICAgIHRvcDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTcwJSk7XFxuICAgIGZvbnQtc2l6ZTogMi4xZW07XFxufVxcblxcbnNlY3Rpb24gLmljb24teGlodWFuLmFjdGl2ZSB7XFxuICAgIGNvbG9yOnJlZDtcXG59XFxuXFxuc2VjdGlvbiAubm8tZGF0YSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgZm9udC1zaXplOiAxLjNlbTtcXG4gICAgY29sb3I6IGdyZXk7XFxuICAgIGxlZnQ6IDUwJTtcXG4gICAgdG9wOiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTI1MCUpO1xcbn1cXG5cXG4vKiDmt7vliqDmlLbol4/nu5PmnZ8gKi9cXG5cXG5zZWN0aW9uIC5pdGVtIC5kZXRhaWwge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi8qIOa3u+WKoOivhOWIhiDnu5PmnZ8qL1xcblxcblxcbkBrZXlmcmFtZXMgcm90YXRlIHtcXG4gICAgMCUge1xcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICAgIH1cXG4gICAgMTAwJSB7XFxuICAgICAgICB0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7XFxuICAgIH1cXG59XFxuXFxuZm9vdGVyIHtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbiAgICBib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBcXG59XFxuXFxuZm9vdGVyIC5hY3RpdmUge1xcbiAgICBjb2xvcjojZmY1NzIyO1xcbn1cXG5cXG5mb290ZXI+ZGl2IHtcXG4gICAgZmxleDoxO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmZvb3Rlcj5kaXY+c3BhbiB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBwYWRkaW5nLXRvcDo1cHg7XFxufVxcblxcbi8qIFxcbueUteW9seivpuaDhVxcbiovXFxuXFxuI2RldGFpbCB7XFxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC40KTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4jZGV0YWlsIC5tb3ZpZV9kZXRhaWwge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIC8qIG1hcmdpbjogMzBweCAxMHB4IDBweCAxMHB4OyAqL1xcbiAgICBiYWNrZ3JvdW5kOndoaXRlO1xcbiAgICBvdmVyZmxvdzogc2Nyb2xsO1xcbiAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxuXFxufVxcblxcbiNkZXRhaWwgLmNhcmQge1xcbiAgICBwYWRkaW5nOjAgMThweDtcXG59XFxuXFxuI2RldGFpbCAuc3ViamVjdCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbiNkZXRhaWwgLmxlZnQge1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMTAwcHgpO1xcbn1cXG5cXG4jZGV0YWlsIC5yaWdodCB7XFxuICAgIHdpZHRoOiAxMDBweDtcXG4gICAgaGVpZ2h0OiAxMTBweDtcXG4gICAgLyogb3V0bGluZTogMXB4IHNvbGlkIHJlZDsgKi9cXG59XFxuXFxuI2RldGFpbCAucmlnaHQgaW1nIHtcXG4gICAgd2lkdGg6MTAwcHg7XFxufVxcblxcbiNkZXRhaWwgLmNoYW5uZWxfdGFnc3tcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweFxcbiAgICBcXG59XFxuXFxuI2RldGFpbCBoMiB7XFxuICAgIGNvbG9yOiAjYWFhO1xcbiAgICBtYXJnaW46IDAgMCAxNXB4O1xcbiAgICBmb250LXNpemU6IDE1cHg7XFxufVxcblxcbiNkZXRhaWwgaDEsI2RldGFpbCBoMiwjZGV0YWlsIGgzIHtcXG4gICAgZm9udC13aWdodDpub3JtYWw7XFxufVxcblxcblxcblxcbiBcXG5cXG4jZGV0YWlsIGgxIHtcXG4gICAgcGFkZGluZy10b3A6IDIwcHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XFxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICAgIGNvbG9yOiByZ2IoMTcsMTcsMTcpO1xcbn1cXG5cXG4jZGV0YWlsIC5zY29yZSB7XFxuICAgIGNvbG9yOnJnYig3Myw3Myw3Myk7XFxuICAgIG1hcmdpbi1yaWdodDo4cHg7XFxufVxcblxcbiNkZXRhaWwgLmNvdW50IHtcXG4gICAgY29sb3I6cmdiKDE3MCwxNzAsMTcwKVxcbn1cXG5cXG4jZGV0YWlsIC5tZXRhIHtcXG4gICAgZm9udC1zaXplOiAxNHB4O1xcbiAgICBjb2xvcjpyZ2IoNzMsNzMsNzMpO1xcbiAgICBsaW5lLWhlaWdodDogMjIuNHB4O1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xcbiAgICBcXG59XFxuXFxuI2RldGFpbCAuY2hhbm5lbF90YWcge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZmYWYwO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDJiZDU2O1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIG1hcmdpbi1yaWdodDogMTBweDtcXG4gICAgZm9udC1zaXplOiAxM3B4O1xcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuI2RldGFpbCBhIHtcXG4gIGNvbG9yOiM0MmJkNTYgICBcXG59XFxuXFxuI2RldGFpbCAuYmQge1xcbiAgICBmb250LXNpemU6IDE1cHg7XFxuICAgIGxpbmUtaGVpZ2h0OiAyMnB4O1xcbiAgICBjb2xvcjogIzQ5NDk0OTtcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcXG4gICAgXFxufVxcblxcbiNkZXRhaWwgLmNlbGVicml0aWVzIHVsIHtcXG4gICAgb3ZlcmZsb3c6IGF1dG87XFxuICAgIHdoaXRlLXNwYWNlOm5vd3JhcDtcXG59XFxuXFxuI2RldGFpbCAuY2VsZWJyaXRpZXMgbGkge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHdpZHRoOiA3NXB4O1xcbiAgICBtYXJnaW4tcmlnaHQ6OHB4O1xcbn1cXG5cXG5cXG4jZGV0YWlsIC5jZWxlYnJpdGllcyAucG9zdGVyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTMwcHg7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gICAgLyogb3V0bGluZTogMXB4IHNvbGlkIHBpbms7ICovXFxuICAgIFxcbn1cXG5cXG4jZGV0YWlsIC5jZWxlYnJpdGllcyAubmFtZSAsICNkZXRhaWwgLmNlbGVicml0aWVzIC5yb2xlIHtcXG4gICAgbWFyZ2luLXRvcDo4cHg7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbiNkZXRhaWwgLmNsb3NlIHtcXG4gICAgbWFyZ2luOjMwcHggMDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4jZGV0YWlsIC5jbG9zZSBidXR0b24ge1xcbiAgICBjb2xvcjogIzQyYmQ1NjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VmZmFmMDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQyYmQ1NjtcXG4gICAgZm9udC1zaXplOiAxNHB4O1xcbiAgICBwYWRkaW5nOiA1cHggMTZweDtcXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcXG59XFxuXFxuXFxuXFxuXFxuXFxuXCIsIFwiXCJdKTtcblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuICdAbWVkaWEgJyArIGl0ZW1bMl0gKyAneycgKyBjb250ZW50ICsgJ30nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IG1vZHVsZXNbaV07IC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcbiAgICAgIC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG4gICAgICAvLyB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG4gICAgICAvLyBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cbiAgICAgIGlmIChpdGVtWzBdID09IG51bGwgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgaXRlbVsyXSA9ICcoJyArIGl0ZW1bMl0gKyAnKSBhbmQgKCcgKyBtZWRpYVF1ZXJ5ICsgJyknO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuICByZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufSIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdCA/IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpIFxuXHRcdCA6IG9wdGlvbnMudHJhbnNmb3JtLmRlZmF1bHQob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImxldCBFdmVudF9odWI9IHtcbiAgICBldmVudHMgOiB7fSxcbiAgICBvbih0eXBlLGZuKXtcbiAgICAgICAgaWYodGhpcy5ldmVudHNbdHlwZV0gPT09ICB1bmRlZmluZWQpe1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbdHlwZV0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzW3R5cGVdLnB1c2goZm4pXG4gICAgfSxcbiAgICBlbWl0KHR5cGUsZGF0YSl7XG4gICAgICAgIHRoaXMuZXZlbnRzW3R5cGVdLmZvckVhY2goKGZuKT0+e1xuICAgICAgICAgICAgZm4uY2FsbChudWxsLGRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlX2h0bWxfdG1wKG1vdmllLGxvY2FsX2RhdGEpe1xuICAgIC8vIOWkhOeQhueUteW9sWpzb27moLzlvI/mlbDmja7vvIznlJ/miJBodG1s5qih5p2/5a2X56ym5LiyXG4gICAgbGV0IHN0YXR1cyA9IFwiXCJcbiAgICBpZihsb2NhbF9kYXRhICE9PSAgbnVsbCl7XG4gICAgICAgIEpTT04ucGFyc2UobG9jYWxfZGF0YSkuZm9yRWFjaCgobSk9PntcbiAgICAgICAgICAgIGlmKG1vdmllLmlkID09PSBtLmlkKycnKXtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSAnYWN0aXZlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBsZXQge2Nhc3RzLGRpcmVjdG9yc30gPSBtb3ZpZVxuICAgIGxldCBjYXN0X25hbWVfYXJyID0gW11cbiAgICBsZXQgZGlyZWN0b3JfbmFtZV9hcnIgPSBbXVxuICAgIGNhc3RzLmZvckVhY2goKGNhc3QpPT57XG4gICAgICAgIGNhc3RfbmFtZV9hcnIucHVzaChjYXN0Lm5hbWUpXG4gICAgfSlcbiAgICBkaXJlY3RvcnMuZm9yRWFjaCgoZGlyZWN0b3IpPT57XG4gICAgICAgIGRpcmVjdG9yX25hbWVfYXJyLnB1c2goZGlyZWN0b3IubmFtZSlcbiAgICB9KVxuXG4gICAgbGV0IHRtcCA9IGAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbW92aWUtaWQ9JHttb3ZpZS5pZH0+XG4gICAgPGEgaHJlZj1cIiNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvdmVyXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9pbWczLmRvdWJhbmlvLmNvbS9mL21vdmllL2I2ZGM3NjFmNWU0Y2YwNDAzMmZhYTk2OTgyNjk4NmVmYmVjZDU0YmIvcGljcy9tb3ZpZS9tb3ZpZV9kZWZhdWx0X3NtYWxsLnBuZ1wiIGRhdGEtc3JjID0gXCIke21vdmllLmltYWdlcy5zbWFsbH1cIiBhbHQ9XCJcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWxcIj5cbiAgICAgICAgICAgIDxoMj4ke21vdmllLnRpdGxlfTwvaDI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXh0cmFcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNjb3JlXCI+JHttb3ZpZS5yYXRpbmcuYXZlcmFnZX08L3NwYW4+IC8gJHttb3ZpZS5jb2xsZWN0X2NvdW50feaUtuiXj1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXh0cmFcIj4ke21vdmllLnllYXJ9IC8gJHttb3ZpZS5nZW5yZXMuam9pbign44CBJyl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXh0cmFcIj7lr7zmvJTvvJoke2RpcmVjdG9yX25hbWVfYXJyLmpvaW4oJ+OAgScpfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4dHJhXCI+5Li75ryU77yaJHtjYXN0X25hbWVfYXJyLmpvaW4oJ+OAgScpfTwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpY29uZm9udCBpY29uLXhpaHVhbiAke3N0YXR1c31cIj48L3NwYW4+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9hPlxuPC9kaXY+XG5gXG4gICAgcmV0dXJuICQodG1wKVxufVxuXG5mdW5jdGlvbiBsYXp5X2xvYWQoKXtcbiAgICAvLyDmh5LliqDovb1cbiAgICAkKCcuY292ZXIgaW1nJykubm90KCdbZGF0YS1pc0xvYWRlZF0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCAkKCdtYWluJykuaGVpZ2h0KCkrJCgnbWFpbicpLnNjcm9sbFRvcCgpID4gJCh0aGlzKS5vZmZzZXQoKS50b3AgKXtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignc3JjJywkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJykpXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXNMb2FkZWQnLDEpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5leHBvcnQge0V2ZW50X2h1YixnZW5lcmF0ZV9odG1sX3RtcCxsYXp5X2xvYWR9IiwiaW1wb3J0ICcuL2Nzcy9zdHlsZS5jc3MnXG5cbmltcG9ydCB7RXZlbnRfaHViLGdlbmVyYXRlX2h0bWxfdG1wLGxhenlfbG9hZH0gZnJvbSAnLi9qcy9jb21tb24nXG5cbmltcG9ydCB7VG9wMjUwfSBmcm9tICcuL2pzL3RvcDI1MCdcbmltcG9ydCB7U2VhcmNofSBmcm9tICcuL2pzL3NlYXJjaCdcbmltcG9ydCB7RmF2b3JpdGV9IGZyb20gJy4vanMvZmF2b3JpdGUnXG5pbXBvcnQge0RldGFpbH0gZnJvbSAnLi9qcy9kZXRhaWwnXG5pbXBvcnQge1VzfSBmcm9tICcuL2pzL3VzJ1xuXG57XG4gICAgLy8gLy8gXGJcYuS/ruWkjUlPU+S4ilZI55qEYnVnXG4gICAgbGV0IGlPUyA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goLyhpUGFkfGlQaG9uZXxpUG9kKS9nKSA/IHRydWU6ZmFsc2U7XG4gICAgaWYoaU9TKXtcbiAgICAgICAgbGV0IG1haW5faGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gNTBcbiAgICAgICAgJCgnbWFpbicpLmNzcyh7aGVpZ2h0Om1haW5faGVpZ2h0fSlcbiAgICAgICAgY29uc29sZS5sb2coXCJJT1PkuIptYWlu55qEaGVpZ2h05bey6YeN572uXCIpXG4gICAgfVxufVxuXG5cblxuY2xhc3MgQXBwe1xuICAgIGNvbnN0cnVjdG9yKHt0b3AyNTAsdXMsc2VhcmNoLGZhdixkZXRhaWx9KXtcbiAgICAgICAgdGhpcy4kdGFicyA9ICQoJ2Zvb3Rlcj5kaXYnKSAvL1xidGFi5oyJ6ZKuXG4gICAgICAgIHRoaXMucGFuZWxzID0gJCgnc2VjdGlvbicpXG4gICAgICAgIHRoaXMudG9wMjUwID0gdG9wMjUwXG4gICAgICAgIHRoaXMudXMgPSB1c1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNlYXJjaFxuICAgICAgICB0aGlzLmZhdiA9IGZhdlxuICAgICAgICB0aGlzLmRldGFpbCA9IGRldGFpbFxuICAgICAgICBcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICAvLyDliJ3lp4vljJZcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgICAgdGhpcy50b3AyNTAuaW5pdCgpXG4gICAgICAgIHRoaXMudXMuaW5pdCgpXG4gICAgICAgIHRoaXMuc2VhcmNoLmluaXQoKVxuICAgICAgICB0aGlzLmZhdi5pbml0KClcbiAgICAgICAgdGhpcy5kZXRhaWwuaW5pdCgpXG4gICAgICAgIFxuICAgIH1cbiAgICBiaW5kKCl7XG4gICAgICAgIC8vIOe7keWumuS6i+S7tlxuXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgdGhpcy4kdGFicy5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gJCh0aGlzKS5pbmRleCgpXG4gICAgICAgICAgICBfdGhpcy5wYW5lbHMuaGlkZSgpLmVxKGluZGV4KS5mYWRlSW4oKVxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2lkJykgPT09ICd4aWh1YW4nKXtcbiAgICAgICAgICAgICAgICBfdGhpcy5mYXYucmVuZGVyKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuXG4gICAgfVxuXG59XG5cblxubGV0IGFwcCA9IG5ldyBBcHAoXG4gICAge1xuICAgICAgICB0b3AyNTA6bmV3IFRvcDI1MCgpLFxuICAgICAgICB1czpuZXcgVXMoKSxcbiAgICAgICAgc2VhcmNoOm5ldyBTZWFyY2goKSxcbiAgICAgICAgZmF2Om5ldyBGYXZvcml0ZSgpLFxuICAgICAgICBkZXRhaWw6bmV3IERldGFpbCgpXG4gICAgICAgIFxuICAgIH1cbiAgICApLmluaXQoKVxuXG5cblxuJCgnZm9vdGVyPmRpdicpLmVxKDEpLmNsaWNrKCgpPT57XG4gICAgXG4gICAgaWYoJCgnLndhdGVyZmFsbCBpbWcnKS5sZW5ndGggPT09IDApe1xuICAgICAgICBnZXREYXRhKHJlbmRlcilcbiAgICB9XG4gICAgXG4gICAgXG59KVxuXG5cbmZ1bmN0aW9uIGdldERhdGEoZm4pe1xuICAgIC8v6I635Y+W6aG16Z2i5pWw5o2uXG4gICAgJCgnLndhdGVyZmFsbCcpLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAkLmFqYXgoe1xuICAgICAgICAvLyB1cmw6Jy8vYXBpLmRvdWJhbi5jb20vdjIvbW92aWUvdXNfYm94JyxcbiAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL2luX3RoZWF0ZXJzJyxcbiAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgXG4gICAgICAgIFxuICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgZm4ocmVzKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgfSkuZmFpbCgocmVzKT0+e1xuICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2x5pWw5o2u5aSx6LSlOiAnKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpICAgIFxuICAgIH0pLmFsd2F5cygoKT0+e1xuICAgICAgICAkKCcud2F0ZXJmYWxsJykucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5oaWRlKClcblxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIHJlbmRlcihkYXRhKXtcbiAgICBsZXQgaGVpZ2h0X2FyciA9IFs3MCw4MCw5MCwxMjBdXG4gICAgZGF0YS5zdWJqZWN0cy5mb3JFYWNoKChtb3ZpZSk9PntcbiAgICAgICAgLy8gIG1vdmllID0gbW92aWUuc3ViamVjdFxuXG4gICAgICAgICBsZXQgdG1wID0gYFxuICAgICAgICAgPGRpdiBjbGFzcz1cImltZy13cmFwXCIgZGF0YS1tb3ZpZS1pZD0ke21vdmllLmlkfT5cbiAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL2ltZzMuZG91YmFuaW8uY29tL2YvbW92aWUvYjZkYzc2MWY1ZTRjZjA0MDMyZmFhOTY5ODI2OTg2ZWZiZWNkNTRiYi9waWNzL21vdmllL21vdmllX2RlZmF1bHRfc21hbGwucG5nXCIgIGRhdGEtc3JjID0gXCIke21vdmllLmltYWdlcy5zbWFsbH1cIiBhbHQ9XCJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2NvcmVcIj4ke051bWJlcihtb3ZpZS5yYXRpbmcuYXZlcmFnZSkudG9GaXhlZCgxKX08c3Bhbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgYFxuICAgICAgICAgXG4gICAgICAgICBsZXQgJGVsZW1uZXQgPSAkKHRtcClcbiAgICAgICAgICRlbGVtbmV0LmZpbmQoJ2ltZycpLmNzcygnaGVpZ2h0JyxoZWlnaHRfYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo0KV0pXG4gICAgICAgICAkKCcud2F0ZXJmYWxsJykuYXBwZW5kKCRlbGVtbmV0KVxuICAgIH0pXG4gICAgbGF5b3V0KClcbn1cblxuZnVuY3Rpb24gbGF5b3V0KCl7XG4gICAgLy/ngJHluIPmtYHluIPlsYBcbiAgICBsZXQgY29sSGVpZ2h0QXJyYXkgPSBbXVxuICAgIC8vIGxldCBpbWdXaWR0aCA9ICQoJy53YXRlcmZhbGwgaW1nJykub3V0ZXJXaWR0aCh0cnVlKVxuICAgIGxldCBpbWdXaWR0aCA9ICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykub3V0ZXJXaWR0aCh0cnVlKVxuXG4gICAgbGV0IGNvbENvdW50ID0gIE1hdGguZmxvb3IoJCgnLndhdGVyZmFsbCcpLndpZHRoKCkvaW1nV2lkdGgpXG4gICAgZm9yKGxldCBpPTA7IGk8Y29sQ291bnQ7IGkrKyl7XG4gICAgICAgIGNvbEhlaWdodEFycmF5W2ldID0gMFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhgJHtjb2xIZWlnaHRBcnJheX0gJHtpbWdXaWR0aH0gJHtjb2xDb3VudH1gKVxuICAgICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBsZXQgbWluX3ZhbHVlID0gTWF0aC5taW4oLi4uY29sSGVpZ2h0QXJyYXkpXG4gICAgICAgIGxldCBtaW5faW5kZXggPSBjb2xIZWlnaHRBcnJheS5pbmRleE9mKG1pbl92YWx1ZSlcbiAgICAgICAgJCh0aGlzKS5jc3Moe1xuICAgICAgICAgICAgbGVmdDptaW5faW5kZXgqaW1nV2lkdGgsXG4gICAgICAgICAgICB0b3A6bWluX3ZhbHVlXG4gICAgICAgIH0pXG4gICAgICAgIGNvbEhlaWdodEFycmF5W21pbl9pbmRleF0gKz0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKVxuICAgIH0pXG5cbiAgICAvL+aHkuWKoOi9veWbvueJh1xuICAgICQoJy53YXRlcmZhbGwgaW1nJykubm90KCdbZGF0YS1pc0xvYWRlZF0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCAkKCdtYWluJykuaGVpZ2h0KCkrJCgnbWFpbicpLnNjcm9sbFRvcCgpID4gJCh0aGlzKS5vZmZzZXQoKS50b3AgKXtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignc3JjJywkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJykpXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXNMb2FkZWQnLDEpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgLy/lsYXkuK3lr7npvZBcbiAgICBsZXQgdG90YWxfd2lkdGggPSAkKCcud2F0ZXJmYWxsIC5pbWctd3JhcCcpLnBhcmVudHMoJ3NlY3Rpb24nKS5vdXRlcldpZHRoKHRydWUpXG4gICAgbGV0IGltZ3Nfd2lkdGggPSAkKCcud2F0ZXJmYWxsIC5pbWctd3JhcCcpLmVxKDApLm91dGVyV2lkdGgodHJ1ZSkgKiBjb2xDb3VudFxuICAgIGxldCBwYWRkaW5nID0gTWF0aC5mbG9vciggKHRvdGFsX3dpZHRoIC0gaW1nc193aWR0aCkvMiApXG4gICAgJCgnLndhdGVyZmFsbCAuaW1nLXdyYXAnKS5wYXJlbnRzKCdzZWN0aW9uJykuY3NzKHsncGFkZGluZy1sZWZ0JzpwYWRkaW5nLCdwYWRkaW5nLXRvcCc6cGFkZGluZ30pXG4gICAgY29uc29sZS5sb2coYHBhZGRpbmctbGVmdCBpcyAke3BhZGRpbmd9YClcbn1cblxuXG5cbiIsImltcG9ydCB7RXZlbnRfaHViLGdlbmVyYXRlX2h0bWxfdG1wLGxhenlfbG9hZH0gZnJvbSAnLi9jb21tb24nXG5cblxuY2xhc3MgVG9wMjUwe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJyN0b3AyNTAnKVxuICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSBmYWxzZSAvL1xuICAgICAgICB0aGlzLm1vaXZlX2luZGV4ID0gMFxuICAgICAgICB0aGlzLmNsb2NrID0gbnVsbFxuICAgICAgICB0aGlzLmxhenlfbG9hZF90aW1lX2lkID0gbnVsbFxuICAgICAgICB0aGlzLmV2ZW50X2h1YiA9IEV2ZW50X2h1YlxuXG4gICAgICAgIHRoaXMuZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkb3ViYW5fbW92aWVzJylcblxuICAgIH1cbiAgICBcbiAgICBpbml0KCl7XG5cbiAgICAgICAgXG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICAgIHRoaXMuc3RhcnQoKVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgYmluZCgpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzXG4gICAgICAgIGxldCAkbWFpbiA9IHRoaXMuJGNvbnRhaW5lci5wYXJlbnRzKCdtYWluJylcbiAgICAgICAgLy8g5rua5Yqo5LqL5Lu2XG4gICAgICAgICRtYWluLnNjcm9sbCgoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy4kY29udGFpbmVyLnBhcmVudCgpLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpe1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5jbG9jayl7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsb2NrKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNsb2NrID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLiRjb250YWluZXIuaGVpZ2h0KCkgLSA1MCA8PSAkbWFpbi5oZWlnaHQoKSskbWFpbi5zY3JvbGxUb3AoKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIua7muWKqOWIsOW6lemDqO+8jOWPkei1t+aWsOeahOivt+axglwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LDMwMClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5sYXp5X2xvYWRfdGltZV9pZCl7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGF6eV9sb2FkX3RpbWVfaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhenlfbG9hZF90aW1lX2lkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGxhenlfbG9hZCgpXG4gICAgICAgICAgICB9LDUwMClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH0pICBcblxuICAgICAgICAvL+aUtuiXj1xuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLmljb24teGlodWFuJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBtb3ZpZV9pdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpXG4gICAgICAgICAgICBsZXQgbW92aWVfaWQgPSBtb3ZpZV9pdGVtLmRhdGEoJ21vdmllSWQnKVxuICAgICAgICAgICAgaWYoICQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpICl7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgndW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgbGV0IG1vdmllX2h0bWxfc3RyID0gbW92aWVfaXRlbS53cmFwKCc8cC8+JykucGFyZW50KCkuaHRtbCgpXG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRfaHViLmVtaXQoJ2xpa2UnLHtpZDptb3ZpZV9pZCxodG1sOm1vdmllX2h0bWxfc3RyfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8v5pS26JeP6aG16Z2i5Y+W5raI5pS26JeP5LqL5Lu2XG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdmYXZfdW5saWtlJyxmdW5jdGlvbihtb3ZpZV9pZCl7XG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmZpbmQoYFtkYXRhLW1vdmllLWlkPSR7bW92aWVfaWR9XSAuaWNvbi14aWh1YW5gKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgfSlcblxuICAgICAgICAvL+afpeeci+ivpuaDhVxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJyxcIjpub3QoJy5pY29uLXhpaHVhbicpXCIsZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgnc2hvd19kZXRhaWwnLCQodGhpcykucGFyZW50cygnLml0ZW0nKS5kYXRhKCdtb3ZpZUlkJykudG9TdHJpbmcoKSlcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIFxuXG4gICAgfVxuICAgIHN0YXJ0KCl7XG4gICAgICAgIHRoaXMuZ2V0RGF0YSgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKGRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIGdldERhdGEoZm4pe1xuICAgICAgICAvL+iOt+WPlumhtemdouaVsOaNrlxuICAgICAgICBpZih0aGlzLmlzX2xvZGRpbmcpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvZGRpbmfkuK3vvIzkuI3ph43mlrDor7fmsYLmlbDmja4nKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3RvcDI1MCcsXG4gICAgICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTonanNvbnAnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6dGhpcy5tb2l2ZV9pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6MjBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgICAgIGZuKHJlcylcbiAgICAgICAgICAgICAgICB0aGlzLm1vaXZlX2luZGV4ICs9IDIwXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAgICAgfSkuZmFpbCgocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYLnlLXlvbHmlbDmja7lpLHotKU6ICcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKSAgICBcbiAgICAgICAgICAgIH0pLmFsd2F5cygoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuaXNfbG9kZGluZyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG4gICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZW5kZXIoZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUsdGhpcy5kYXRhKVxuICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQoJG5vZGUpXG4gICAgICAgIH0pXG4gICAgICAgIGxhenlfbG9hZCgpXG4gICAgICAgIFxuICAgIH1cbn1cblxuZXhwb3J0IHtUb3AyNTB9IiwiaW1wb3J0IHtFdmVudF9odWIsZ2VuZXJhdGVfaHRtbF90bXAsbGF6eV9sb2FkfSBmcm9tICcuL2NvbW1vbidcblxuXG5jbGFzcyBVc3tcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSAkKCcjdXMnKVxuICAgICAgICB0aGlzLmNvbF9oZWlnaHRfYXJyID0gW11cbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICAgICAgdGhpcy5pbWdfd2lkdGggPSAkKCcud2F0ZXJmYWxsIGltZycpLm91dGVyV2lkdGgodHJ1ZSlcbiAgICAgICAgdGhpcy5jb2xfQ291bnQgPSAgTWF0aC5mbG9vciggJCgnLndhdGVyZmFsbCcpLndpZHRoKCkvdGhpcy5pbWdfd2lkdGggKVxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCB0aGlzLmNvbF9Db3VudDtpKyspe1xuICAgICAgICAgICAgdGhpcy5jb2xfaGVpZ2h0X2FycltpXSA9IDBcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpbml0KCl7XG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBiaW5kKCl7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5pbWctd3JhcCcsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdzaG93X2RldGFpbCcsJCh0aGlzKS5kYXRhKCdtb3ZpZUlkJykpXG4gICAgICAgIH0pXG4gICAgfVxuXG5cblxuXG5cblxufVxuXG5leHBvcnQge1VzfSIsImltcG9ydCB7RXZlbnRfaHViLGdlbmVyYXRlX2h0bWxfdG1wLGxhenlfbG9hZH0gZnJvbSAnLi9jb21tb24nXG5cblxuY2xhc3MgU2VhcmNoe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKCcjc2VhcmNoJylcbiAgICAgICAgdGhpcy4kaW5wdXQgPSAkKCcjc2VhcmNoIGlucHV0JylcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnLnNlYXJjaC1yZXNsdXQgLmNvbnRhaW5lcicpXG4gICAgICAgIHRoaXMuZGF0YSA9ICgpPT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRvdWJhbl9tb3ZpZXNcIilcbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICB9XG4gICAgXG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLmJpbmQoKVxuICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgdGhpcy5rZXl3b3JkID0gbnVsbDtcblxuICAgIH1cbiAgICBcbiAgICBiaW5kKCl7XG5cbiAgICAgICAgbGV0IF90aGlzID0gdGhpc1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuaXRlbScsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdzaG93X2RldGFpbCcsJCh0aGlzKS5kYXRhKCdtb3ZpZUlkJykpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuYnV0dG9uJykuY2xpY2soKCk9PntcbiAgICAgICAgICAgIHRoaXMua2V5d29yZCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKS52YWwoKVxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgoZGF0YSk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcihkYXRhLHRoaXMuZGF0YSgpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvL+e7keWumuaUtuiXj+S6i+S7tlxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLmljb24teGlodWFuJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBpdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpXG4gICAgICAgICAgICBsZXQgbW92aWVfaWQgPSBpdGVtLmRhdGEoJ21vdmllSWQnKVxuICAgICAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pS26JeP5LitLi4uLlwiKVxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgndW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5rKh5pyJ5pS26JePLi4uXCIpXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgIGxldCBtb3ZpZV9odG1sX3N0ciA9IGl0ZW0ud3JhcCgnPHAvPicpLnBhcmVudCgpLmh0bWwoKVxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdsaWtlJyx7aWQ6bW92aWVfaWQsaHRtbDptb3ZpZV9odG1sX3N0cn0pXG5cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdmYXZfdW5saWtlJyxmdW5jdGlvbihtb3ZpZV9pZCl7XG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmZpbmQoYFtkYXRhLW1vdmllLWlkPSR7bW92aWVfaWR9XSAuaWNvbi14aWh1YW5gKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDmlLbol4/pobXpnaLlj5bmtojmlLbol4/kuovku7Yg5oiQ5YqfYClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDnu5Hlrprnoa7orqTkuovku7ZcbiAgICAgICAgdGhpcy4kaW5wdXQub24oJ2tleXByZXNzJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBrZXlfY29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgICAgIF90aGlzLmtleXdvcmQgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgaWYoa2V5X2NvZGUgPT09IDEzKXtcbiAgICAgICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREYXRhKChkYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXIoZGF0YSxfdGhpcy5kYXRhKCkpXG4gICAgICAgICAgICAgICAgfSkgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICB9XG4gICAgc3RhcnQoKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgZ2V0RGF0YShmbil7XG4gICAgICAgIC8v6I635Y+W6aG16Z2i5pWw5o2uXG4gICAgICAgIGlmKHRoaXMuaXNfbG9kZGluZyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbG9kZGluZ+S4re+8jOS4jemHjeaWsOivt+axguaVsOaNricpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTonanNvbnAnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcTp0aGlzLmtleXdvcmRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgICAgIGZuKHJlcylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruWksei0pTogJylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpICAgIFxuICAgICAgICAgICAgfSkuYWx3YXlzKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG4gICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKGRhdGEsbG9jYWxfZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUsbG9jYWxfZGF0YSlcbiAgICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCRub2RlKVxuICAgICAgICB9KVxuICAgICAgICBsYXp5X2xvYWQoKVxuICAgIH1cbn1cblxuZXhwb3J0IHtTZWFyY2h9XG4iLCJpbXBvcnQge0V2ZW50X2h1YixnZW5lcmF0ZV9odG1sX3RtcCxsYXp5X2xvYWR9IGZyb20gJy4vY29tbW9uJ1xuXG5cbmNsYXNzIEZhdm9yaXRlIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnI2ZhdicpXG4gICAgICAgIHRoaXMubG9jYWxfc3RvcmFnZSA9IGxvY2FsU3RvcmFnZVxuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmxvY2FsX3N0b3JhZ2UuZ2V0SXRlbSgnZG91YmFuX21vdmllcycpXG4gICAgICAgIHRoaXMuZXZlbnRfaHViID0gRXZlbnRfaHViXG4gICAgfVxuICAgIGluaXQoKXtcbiAgICAgICAgY29uc29sZS5sb2coXCLliJ3lp4vljJZcIilcbiAgICAgICAgaWYodGhpcy5kYXRhID09PSBudWxsKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IFtdXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0aGlzLmRhdGEpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxuICAgIH1cbiAgICBiaW5kKCl7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcblxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLmljb24teGlodWFuJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+W5raI5Zac5qyiLi4uXCIpXG4gICAgICAgICAgICBsZXQgaXRlbSA9ICQodGhpcykucGFyZW50cygnLml0ZW0nKVxuICAgICAgICAgICAgbGV0IG1vdmllX2lkID0gaXRlbS5kYXRhKCdtb3ZpZUlkJylcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZV9tb3ZpZShtb3ZpZV9pZClcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdmYXZfdW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLml0ZW0nLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgnc2hvd19kZXRhaWwnLCQodGhpcykuZGF0YSgnbW92aWVJZCcpKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdsaWtlJyxmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDmiJHnm5HlkKzliLDkuoZsaWtl5LqL5Lu2Li4uYClcbiAgICAgICAgICAgIF90aGlzLmRhdGEudW5zaGlmdChkYXRhKVxuICAgICAgICAgICAgX3RoaXMubG9jYWxfc3RvcmFnZS5zZXRJdGVtKCdkb3ViYW5fbW92aWVzJyxKU09OLnN0cmluZ2lmeShfdGhpcy5kYXRhKSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmV2ZW50X2h1Yi5vbigndW5saWtlJyxmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg5oiR55uR5ZCs5Yiw5LqGdW5saWtl5LqL5Lu2Li4uYClcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZV9tb3ZpZShpZClcblxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgcmVtb3ZlX21vdmllKGlkKXtcbiAgICAgICAgbGV0IG1vdmllX2luZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIGZvcihsZXQgW2luZGV4LG1vdmllXSBvZiB0aGlzLmRhdGEuZW50cmllcygpKXtcbiAgICAgICAgICAgICAgICBpZihtb3ZpZS5pZCA9PT0gaWQpe1xuICAgICAgICAgICAgICAgICAgICBtb3ZpZV9pbmRleCA9IGluZGV4XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhLnNwbGljZShtb3ZpZV9pbmRleCwxKVxuICAgICAgICB0aGlzLmxvY2FsX3N0b3JhZ2Uuc2V0SXRlbSgnZG91YmFuX21vdmllcycsSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSlcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxuICAgIH1cbiAgICBcbiAgICByZW5kZXIoKXtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgaWYodGhpcy5kYXRhLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlxiXGLmmoLml6DmlLbol48uLi5cIilcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJuby1kYXRhXCI+XGLmmoLml6DmlLbol4/lk6YuLi48L3NwYW4+JykpXG5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBsZXQgbW92aWVfYXJyID0gdGhpcy5kYXRhXG4gICAgICAgICAgICBtb3ZpZV9hcnIuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCgkKG1vdmllLmh0bWwpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG59XG5cbmV4cG9ydCB7RmF2b3JpdGV9IiwiaW1wb3J0IHtFdmVudF9odWIsZ2VuZXJhdGVfaHRtbF90bXAsbGF6eV9sb2FkfSBmcm9tICcuL2NvbW1vbidcblxuY2xhc3MgRGV0YWlse1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJyNkZXRhaWwnKVxuICAgICAgICB0aGlzLiRoZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KClcbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgXG4gICAgfVxuXG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLmJpbmQoKVxuICAgIH1cblxuICAgIGJpbmQoKXtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5jbG9zZSBidXR0b24nLCgpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWFs+mXreivpuaDhemhtS4uLlwiKVxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmZhZGVPdXQoKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdzaG93X2RldGFpbCcsKG1vdmllX2lkKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2cobW92aWVfaWQpXG4gICAgICAgICAgICBsZXQgdXJsID0gYC8vYXBpLmRvdWJhbi5jb20vdjIvbW92aWUvc3ViamVjdC8ke21vdmllX2lkfWBcbiAgICAgICAgICAgIHRoaXMuZ2V0X2RhdGEodXJsLCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICB9ICBcbiAgICBcbiAgICBnZXRfZGF0YSh1cmwscmVuZGVyKXtcbiAgICAgICAgbGV0IF90aGlzID0gdGhpc1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOnVybCxcbiAgICAgICAgICAgIHR5cGU6J0dFVCcsXG4gICAgICAgICAgICBkYXRhVHlwZTonanNvbnAnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGFwaWtleTonMGIyYmRlZGE0M2I1Njg4OTIxODM5YzhlY2IyMDM5OWInXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSkuZG9uZSgocmVzKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9sVxi6K+m5oOF5pWw5o2u5oiQ5YqfLicpXG4gICAgICAgICAgICBfdGhpcy5kYXRhID0gcmVzXG4gICAgICAgICAgICBfdGhpcy5yZW5kZXIoKVxuICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2xXGLor6bmg4XmlbDmja7lpLHotKUuJylcbiAgICAgICAgICAgIF90aGlzLmRhdGEgPSByZXNcblxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbmRlcigpe1xuICAgICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YVxuICAgICAgICBsZXQgbWV0YV9kaXJlY3RvcnMgPSAnJ1xuICAgICAgICBsZXQgY2VsZWJyaXRpZXMgPSAnJ1xuICAgICAgICBsZXQgbWV0YV9jYXN0cyA9ICcnXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXG4gICAgICAgIGxldCBkaXJlY3RvcnMgPSBkYXRhLmRpcmVjdG9ycy5tYXAoKGRpcmVjdG9yKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRpcmVjdG9yKVxuICAgICAgICAgICAgICAgIG1ldGFfZGlyZWN0b3JzICs9IGRpcmVjdG9yLm5hbWUrJyjlr7zmvJQpIC8gJ1xuICAgICAgICAgICAgICAgIGNlbGVicml0aWVzICs9IGA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdGVyXCIgc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtkaXJlY3Rvci5hdmF0YXJzLnNtYWxsfScpXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5hbWVcIj4ke2RpcmVjdG9yLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyb2xlXCI+5a+85ryUPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPmBcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgY2FzdHMgPSBkYXRhLmNhc3RzLm1hcCgoY2FzdCk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhc3QpXG4gICAgICAgICAgICBtZXRhX2Nhc3RzICs9IGNhc3QubmFtZSsnIC8gJ1xuICAgICAgICAgICAgY2VsZWJyaXRpZXMgKz0gYDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0ZXJcIiBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2Nhc3QuYXZhdGFycy5zbWFsbH0nKVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJuYW1lXCI+JHtjYXN0Lm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyb2xlXCI+5ryU5ZGYPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPmBcbiAgICAgICAgfSlcblxuICAgICAgICBsZXQgdGFncyA9IGRhdGEudGFncy5tYXAoKHRhZyk9PntcbiAgICAgICAgICAgIHJldHVybiBgPGxpIGNsYXNzPVwiY2hhbm5lbF90YWdcIj48YSBocmVmPVwiXCI+JHt0YWd9PC9hPjwvbGk+YFxuICAgICAgICB9KVxuXG5cbiAgICAgICAgbGV0IG1ldGEgPSBgJHtkYXRhLmR1cmF0aW9uc1swXSsnIC8gJytkYXRhLmdlbnJlcy5qb2luKCcgLyAnKSsnIC8gJyttZXRhX2RpcmVjdG9ycyttZXRhX2Nhc3RzK3RoaXMuZGF0YS5wdWJkYXRlcy5qb2luKCcgLyAnKX1gXG5cbiAgICAgICAgbGV0IHRtcCA9IGBcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vdmllX2RldGFpbFwiIHN0eWxlPVwiaGVpZ2h0OiR7dGhpcy4kaGVpZ2h0fXB4XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxoMT4ke2RhdGEudGl0bGV9PC9oMT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3ViamVjdFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJyYXR0aW5nXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzdGFyXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdHJvbmcgY2xhc3M9XCJzY29yZVwiPiR7ZGF0YS5yYXRpbmcuYXZlcmFnZX08L3N0cm9uZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNvdW50XCI+JHtkYXRhLnJhdGluZ3NfY291bnR95Lq66K+E5Lu3PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtZXRhXCI+JHttZXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7ZGF0YS5pbWFnZXMuc21hbGx9XCIgYWx0PVwiXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFubmVsX3RhZ3NcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyPuaJgOWxnumikemBkzwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7dGFncy5qb2luKCcnKX1cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW50cm9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyPiR7ZGF0YS50aXRsZX3nmoTliafmg4XnroDku4s8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGF0YS5zdW1tYXJ5fSAgXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjZWxlYnJpdGllc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDI+5b2x5Lq6PC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtjZWxlYnJpdGllc30gICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xvc2VcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uPuWFs+mXrTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBgXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5lbXB0eSgpXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQodG1wKS5mYWRlSW4oKVxuICAgICAgICBjb25zb2xlLmxvZyhcImRldGFpbCDmuLLmn5PmiJDlip8uLi5cIilcblxuXG4gICAgfVxufVxuXG5cbmV4cG9ydCB7RGV0YWlsfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==