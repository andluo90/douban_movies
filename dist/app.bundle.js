!function(e){var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,n){if(!$[e]||!x[e])return;for(var t in x[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--v&&0===b&&k()}(e,t),n&&n(e,t)};var t,i=!0,o="3c72c29ae00df95571ef",a=1e4,r={},s=[],l=[];function c(e){var n=E[e];if(!n)return I;var i=function(i){return n.hot.active?(E[i]?-1===E[i].parents.indexOf(e)&&E[i].parents.push(e):(s=[e],t=i),-1===n.children.indexOf(i)&&n.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+e),s=[]),I(i)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return I[e]},set:function(n){I[e]=n}}};for(var a in I)Object.prototype.hasOwnProperty.call(I,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(i,a,o(a));return i.e=function(e){return"ready"===h&&u("prepare"),b++,I.e(e).then(n,function(e){throw n(),e});function n(){b--,"prepare"===h&&(y[e]||j(e),0===b&&0===v&&k())}},i.t=function(e,n){return 1&n&&(e=i(e)),I.t(e,-2&n)},i}function d(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)n._acceptedDependencies[e[i]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:_,apply:O,status:function(e){if(!e)return h;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var n=p.indexOf(e);n>=0&&p.splice(n,1)},data:r[e]};return t=void 0,n}var p=[],h="idle";function u(e){h=e;for(var n=0;n<p.length;n++)p[n].call(null,e)}var f,m,g,v=0,b=0,y={},x={},$={};function w(e){return+e+""===e?+e:e}function _(e){if("idle"!==h)throw new Error("check() is only allowed in idle status");return i=e,u("check"),(n=a,n=n||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var i=new XMLHttpRequest,a=I.p+""+o+".hot-update.json";i.open("GET",a,!0),i.timeout=n,i.send(null)}catch(e){return t(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)t(new Error("Manifest request to "+a+" timed out."));else if(404===i.status)e();else if(200!==i.status&&304!==i.status)t(new Error("Manifest request to "+a+" failed."));else{try{var n=JSON.parse(i.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return u("idle"),null;x={},y={},$=e.c,g=e.h,u("prepare");var n=new Promise(function(e,n){f={resolve:e,reject:n}});m={};return j(0),"prepare"===h&&0===b&&0===v&&k(),n});var n}function j(e){$[e]?(x[e]=!0,v++,function(e){var n=document.createElement("script");n.charset="utf-8",n.src=I.p+""+e+"."+o+".hot-update.js",document.head.appendChild(n)}(e)):y[e]=!0}function k(){u("ready");var e=f;if(f=null,e)if(i)Promise.resolve().then(function(){return O(i)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(w(t));e.resolve(n)}}function O(n){if("ready"!==h)throw new Error("apply() is only allowed in ready status");var t,i,a,l,c;function d(e){for(var n=[e],t={},i=n.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var o=i.pop(),a=o.id,r=o.chain;if((l=E[a])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:r,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:r,moduleId:a};for(var s=0;s<l.parents.length;s++){var c=l.parents[s],d=E[c];if(d){if(d.hot._declinedDependencies[a])return{type:"declined",chain:r.concat([c]),moduleId:a,parentId:c};-1===n.indexOf(c)&&(d.hot._acceptedDependencies[a]?(t[c]||(t[c]=[]),p(t[c],[a])):(delete t[c],n.push(c),i.push({chain:r.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function p(e,n){for(var t=0;t<n.length;t++){var i=n[t];-1===e.indexOf(i)&&e.push(i)}}n=n||{};var f={},v=[],b={},y=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){var _;c=w(x);var j=!1,k=!1,O=!1,D="";switch((_=m[x]?d(c):{type:"disposed",moduleId:x}).chain&&(D="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(j=new Error("Aborted because of self decline: "+_.moduleId+D));break;case"declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+D));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(j=new Error("Aborted because "+c+" is not accepted"+D));break;case"accepted":n.onAccepted&&n.onAccepted(_),k=!0;break;case"disposed":n.onDisposed&&n.onDisposed(_),O=!0;break;default:throw new Error("Unexception type "+_.type)}if(j)return u("abort"),Promise.reject(j);if(k)for(c in b[c]=m[c],p(v,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,c)&&(f[c]||(f[c]=[]),p(f[c],_.outdatedDependencies[c]));O&&(p(v,[_.moduleId]),b[c]=y)}var S,C=[];for(i=0;i<v.length;i++)c=v[i],E[c]&&E[c].hot._selfAccepted&&C.push({module:c,errorHandler:E[c].hot._selfAccepted});u("dispose"),Object.keys($).forEach(function(e){!1===$[e]&&function(e){delete installedChunks[e]}(e)});for(var M,T,U=v.slice();U.length>0;)if(c=U.pop(),l=E[c]){var A={},P=l.hot._disposeHandlers;for(a=0;a<P.length;a++)(t=P[a])(A);for(r[c]=A,l.hot.active=!1,delete E[c],delete f[c],a=0;a<l.children.length;a++){var H=E[l.children[a]];H&&((S=H.parents.indexOf(c))>=0&&H.parents.splice(S,1))}}for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=E[c]))for(T=f[c],a=0;a<T.length;a++)M=T[a],(S=l.children.indexOf(M))>=0&&l.children.splice(S,1);for(c in u("apply"),o=g,b)Object.prototype.hasOwnProperty.call(b,c)&&(e[c]=b[c]);var L=null;for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=E[c])){T=f[c];var R=[];for(i=0;i<T.length;i++)if(M=T[i],t=l.hot._acceptedDependencies[M]){if(-1!==R.indexOf(t))continue;R.push(t)}for(i=0;i<R.length;i++){t=R[i];try{t(T)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:c,dependencyId:T[i],error:e}),n.ignoreErrored||L||(L=e)}}}for(i=0;i<C.length;i++){var z=C[i];c=z.module,s=[c];try{I(c)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:t,originalError:e}),n.ignoreErrored||L||(L=t),L||(L=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:c,error:e}),n.ignoreErrored||L||(L=e)}}return L?(u("fail"),Promise.reject(L)):(u("idle"),new Promise(function(e){e(v)}))}var E={};function I(n){if(E[n])return E[n].exports;var t=E[n]={i:n,l:!1,exports:{},hot:d(n),parents:(l=s,s=[],l),children:[]};return e[n].call(t.exports,t,t.exports,c(n)),t.l=!0,t.exports}I.m=e,I.c=E,I.d=function(e,n,t){I.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},I.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},I.t=function(e,n){if(1&n&&(e=I(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(I.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)I.d(t,i,function(n){return e[n]}.bind(null,i));return t},I.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return I.d(n,"a",n),n},I.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},I.p="",I.h=function(){return o},c("./index.js")(I.s="./index.js")}({"../node_modules/css-loader/dist/cjs.js!./css/style.css":function(e,n,t){(e.exports=t("../node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,'\n* {\n    margin:0;\n    padding:0;\n    box-sizing: border-box;\n}\n\na {\n    text-decoration: none;\n    color:#333;\n}\n\nul li {\n    list-style: none;\n}\n\nbody {\n    font-size: 12px;\n    line-height: 1.2;\n    background-color:#fff;\n    font-family: "Helvetica Neue",Helvetica,Roboto,Arial,sans-serif;\n}\n\nmain {\n    height: calc(100vh - 50px);\n    overflow:scroll;\n    -webkit-overflow-scrolling: touch;\n}\n\nmain > section {\n    padding:10px;\n    display: none;\n}\nmain > section:first-child {\n    display: block;\n}\n\n\n.item {\n    border-bottom: 1px solid #ccc;\n    padding-bottom:10px;\n    padding-top:10px;\n}\n\n.item>a {\n    display: block;\n    display: flex;\n}\n\n.item>a .cover, .item>a img {\n    width:70px;\n}\n\n.item .detail {\n    padding-left:10px;\n    flex:1;\n}\n\n.item .detail h2 {\n    font-size: 16px;\n}\n\n.item .detail .extra {\n    color:#999;\n    margin-top:4px;\n}\n\n.item .detail .score {\n    color:#ff5722;\n    /* margin-right:8px; */\n}\n\n.loading .iconfont {\n    display: inline-block;\n    font-size: 3em;\n    color:lightpink;\n    animation: 1s rotate linear infinite;\n\n}\n\n.loading {\n    padding:5px;\n    text-align: center;\n    display: none;\n}\n\n\nsection .search-area {\n    color: #333;\n    padding-bottom: 10px;\n    border-bottom: 1px solid #ccc;\n    position: relative;\n}\n\nsection .search-area input {\n    width: calc(100% - 50px);\n    padding: 8px;\n    background-color: #eee;\n    border: none;\n    border-radius: 2px;\n    box-shadow: none;\n    outline: none;\n}\n\nsection .search-area .button {\n    position: absolute;\n    right: 0;\n    padding: 8px 10px;\n    background: #FF5722;\n    color: #fff;\n    border-radius: 2px;\n    cursor: pointer;\n}\n\nsection #us {\n    position: relative;\n}\n\n/* section #us img {\n    width:80px;\n    margin: 2px;\n    position: absolute;\n}  */\n\n/* 添加评分 */\nsection #us .img-wrap {\n    width:80px;\n    margin: 2px;\n    display: inline-block;\n    position: absolute;\n}\n\nsection #us img {\n    width:80px;\n}  \nsection #us .score {\n    font-size: .9em;\n    font-weight: 300;\n    right: 2px;\n    bottom: 4px;\n    color: white;\n    position: absolute;\n    background: #ff5722;\n    border-radius: 50%;\n    opacity: .8;\n    padding: 4px;\n}\n\n/* 添加收藏 */\nsection .icon-xihuan {\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-70%);\n    font-size: 2.1em;\n}\n\nsection .icon-xihuan.active {\n    color:red;\n}\n\nsection .no-data {\n    position: absolute;\n    font-size: 1.3em;\n    color: grey;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-250%);\n}\n\n/* 添加收藏结束 */\n\nsection .item .detail {\n    position: relative;\n}\n\n/* 添加评分 结束*/\n\n\n@keyframes rotate {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform:rotate(360deg);\n    }\n}\n\nfooter {\n    height: 50px;\n    border-top:1px solid #ccc;\n    display: flex;\n    \n}\n\nfooter .active {\n    color:#ff5722;\n}\n\nfooter>div {\n    flex:1;\n    text-align: center;\n}\n\nfooter>div>span {\n    display: block;\n    padding-top:5px;\n}\n\n/* \n电影详情\n*/\n\n#detail {\n    background: rgba(0,0,0,0.4);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n}\n\n\n#detail {\n    transition:.3s left ease-out;\n}\n\n#detail .movie_detail {\n    height: 100%;\n    /* margin: 30px 10px 0px 10px; */\n    background:white;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n\n}\n\n#detail .card {\n    padding:0 18px;\n}\n\n#detail .subject {\n    display: flex;\n}\n\n#detail .left {\n    width: calc(100% - 100px);\n}\n\n#detail .right {\n    width: 100px;\n    height: 110px;\n    /* outline: 1px solid red; */\n}\n\n#detail .right img {\n    width:100px;\n}\n\n#detail .channel_tags{\n    margin-bottom: 30px\n    \n}\n\n#detail h2 {\n    color: #aaa;\n    margin: 0 0 15px;\n    font-size: 15px;\n}\n\n#detail h1,#detail h2,#detail h3 {\n    font-wight:normal;\n}\n\n\n\n \n\n#detail h1 {\n    padding-top: 20px;\n    padding-bottom: 5px;\n    font-weight: 400;\n    color: rgb(17,17,17);\n}\n\n#detail .score {\n    color:rgb(73,73,73);\n    margin-right:8px;\n}\n\n#detail .count {\n    color:rgb(170,170,170)\n}\n\n#detail .meta {\n    font-size: 14px;\n    color:rgb(73,73,73);\n    line-height: 22.4px;\n    padding-right: 20px;\n    margin-top: 10px;\n    margin-bottom: 30px;\n    \n}\n\n#detail .channel_tag {\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    display: inline-block;\n    margin-right: 10px;\n    font-size: 13px;\n    padding: 5px 10px;\n    border-radius: 15px;\n    margin-bottom: 10px;\n}\n\n#detail a {\n  color:#42bd56   \n}\n\n#detail .bd {\n    font-size: 15px;\n    line-height: 22px;\n    color: #494949;\n    margin-bottom: 30px;\n    \n}\n\n#detail .celebrities ul {\n    overflow: auto;\n    white-space:nowrap;\n}\n\n#detail .celebrities li {\n    display: inline-block;\n    width: 75px;\n    margin-right:8px;\n}\n\n\n#detail .celebrities .poster {\n    width: 100%;\n    height: 130px;\n    background-size: cover;\n    background-position: center;\n    /* outline: 1px solid pink; */\n    \n}\n\n#detail .celebrities .name , #detail .celebrities .role {\n    margin-top:8px;\n    display: block;\n    text-align: center;\n}\n\n#detail .close {\n    margin:30px 0;\n    text-align: center;\n}\n\n#detail .close button {\n    color: #42bd56;\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    font-size: 14px;\n    padding: 5px 16px;\n    border-radius: 15px;\n}\n\n\n\n\n\n',""])},"../node_modules/css-loader/dist/runtime/api.js":function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var o=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[t].concat(a).concat([o]).join("\n")}var r;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];null!=r[0]&&i[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),n.push(r))}},n}},"../node_modules/style-loader/lib/addStyles.js":function(e,n,t){var i,o,a={},r=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),s=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var i=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}n[e]=i}return n[e]}}(),l=null,c=0,d=[],p=t("../node_modules/style-loader/lib/urls.js");function h(e,n){for(var t=0;t<e.length;t++){var i=e[t],o=a[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(b(i.parts[r],n))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(b(i.parts[r],n));a[i.id]={id:i.id,refs:1,parts:s}}}}function u(e,n){for(var t=[],i={},o=0;o<e.length;o++){var a=e[o],r=n.base?a[0]+n.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(s):t.push(i[r]={id:r,parts:[s]})}return t}function f(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),d.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,t);t.insertBefore(n,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=d.indexOf(e);n>=0&&d.splice(n,1)}function g(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return t.nc}();i&&(e.attrs.nonce=i)}return v(n,e.attrs),f(e,n),n}function v(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,i,o,a;if(n.transform&&e.css){if(!(a="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=a}if(n.singleton){var r=c++;t=l||(l=g(n)),i=$.bind(null,t,r,!1),o=$.bind(null,t,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(n,e.attrs),f(e,n),n}(n),i=function(e,n,t){var i=t.css,o=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||a)&&(i=p(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}.bind(null,t,n),o=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=g(n),i=function(e,n){var t=n.css,i=n.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){m(t)});return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=r()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=u(e,n);return h(t,n),function(e){for(var i=[],o=0;o<t.length;o++){var r=t[o];(s=a[r.id]).refs--,i.push(s)}e&&h(u(e,n),n);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y,x=(y=[],function(e,n){return y[e]=n,y.filter(Boolean).join("\n")});function $(e,n,t,i){var o=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}},"../node_modules/style-loader/lib/urls.js":function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,i=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var o,a=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"./css/style.css":function(e,n,t){var i=t("../node_modules/css-loader/dist/cjs.js!./css/style.css");"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},a=t("../node_modules/style-loader/lib/addStyles.js")(i,o);i.locals&&(e.exports=i.locals),e.hot.accept("../node_modules/css-loader/dist/cjs.js!./css/style.css",function(){var n=t("../node_modules/css-loader/dist/cjs.js!./css/style.css");if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,i=0;for(t in e){if(!n||e[t]!==n[t])return!1;i++}for(t in n)i--;return 0===i}(i.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(n)}),e.hot.dispose(function(){a()})},"./index.js":function(e,n,t){"use strict";t.r(n);t("./css/style.css");let i={events:{},on(e,n){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(n)},emit(e,n){this.events[e].forEach(e=>{e.call(null,n)})}};function o(e,n){let t="";null!==n&&JSON.parse(n).forEach(n=>{e.id===n.id+""&&(t="active")});let{casts:i,directors:o}=e,a=[],r=[];i.forEach(e=>{a.push(e.name)}),o.forEach(e=>{r.push(e.name)});let s=`            <div class="item" data-movie-id=${e.id}>\n    <a href="#">\n        <div class="cover">\n            <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png" data-src = "${e.images.small}" alt="">\n        </div>\n        <div class="detail">\n            <h2>${e.title}</h2>\n            <div class="extra">\n                <span class="score">${e.rating.average}</span> / ${e.collect_count}收藏\n            </div>\n            <div class="extra">${e.year} / ${e.genres.join("、")}</div>\n            <div class="extra">导演：${r.join("、")}</div>\n            <div class="extra">主演：${a.join("、")}</div>\n            <span class="iconfont icon-xihuan ${t}"></span>\n\n        </div>\n    </a>\n</div>\n`;return $(s)}function a(){$(".cover img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))})}class r{constructor(){this.$container=$("#us"),this.col_height_arr=[],this.event_hub=i,this.img_width=$(".waterfall img").outerWidth(!0),this.col_Count=Math.floor($(".waterfall").width()/this.img_width);for(let e=0;e<this.col_Count;e++)this.col_height_arr[e]=0}init(){this.bind(),this.getData()}bind(){let e=this;this.$container.on("click",".img-wrap",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))})}getData(){$(".waterfall").parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/in_theaters",type:"GET",dataType:"jsonp"}).done(e=>{this.render(e)}).fail(e=>{console.log("请求电影数据失败: "),console.log(e)}).always(()=>{$(".waterfall").parent().find(".loading").hide()})}render(e){let n=[70,80,90,120];e.subjects.forEach(e=>{let t=`\n             <div class="img-wrap" data-movie-id=${e.id}>\n                <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png"  data-src = "${e.images.small}" alt="">\n                <span class="score">${Number(e.rating.average).toFixed(1)}<span>\n             </div>\n             `,i=$(t);i.find("img").css("height",n[Math.floor(4*Math.random())]),$(".waterfall").append(i)}),this.layout()}layout(){let e=[],n=$(".waterfall .img-wrap").outerWidth(!0),t=Math.floor($(".waterfall").width()/n);for(let n=0;n<t;n++)e[n]=0;console.log(`${e} ${n} ${t}`),$(".waterfall .img-wrap").each(function(){let t=Math.min(...e),i=e.indexOf(t);$(this).css({left:i*n,top:t}),e[i]+=$(this).outerHeight(!0)}),$(".waterfall img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))});let i=$(".waterfall .img-wrap").parents("section").outerWidth(!0),o=$(".waterfall .img-wrap").eq(0).outerWidth(!0)*t,a=Math.floor((i-o)/2);$(".waterfall .img-wrap").parents("section").css({"padding-left":a,"padding-top":a}),console.log(`padding-left is ${a}`)}}if(!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)){let e=$(window).height()-50;$("main").css({height:e}),console.log("IOS上main的height已重置")}new class{constructor({top250:e,us:n,search:t,fav:i,detail:o}){this.$tabs=$("footer>div"),this.panels=$("section"),this.top250=e,this.search=t,this.fav=i,this.detail=o}init(){this.bind(),this.top250.init(),this.search.init(),this.fav.init(),this.detail.init()}bind(){let e=this;this.$tabs.click(function(){let n=$(this).index();e.panels.hide().eq(n).fadeIn(),$(this).addClass("active").siblings().removeClass("active"),"xihuan"===$(this).data("id")&&e.fav.render(),1===n&&0===$(".waterfall img").length&&(new r).init()})}}({top250:new class{constructor(){this.$container=$("#top250"),this.is_lodding=!1,this.moive_index=0,this.clock=null,this.lazy_load_time_id=null,this.event_hub=i,this.data=localStorage.getItem("douban_movies")}init(){this.bind(),this.start()}bind(){let e=this,n=this.$container.parents("main");n.scroll(()=>{"none"===this.$container.parent().css("display")||(this.clock&&clearTimeout(this.clock),this.clock=setTimeout(()=>{this.$container.height()-50<=n.height()+n.scrollTop()&&(console.log("滚动到底部，发起新的请求"),this.start())},300)),this.lazy_load_time_id&&clearTimeout(this.lazy_load_time_id),this.lazy_load_time_id=setTimeout(function(){a()},500)}),this.$container.on("click",".icon-xihuan",function(n){let t=$(this).parents(".item"),i=t.data("movieId");if($(this).hasClass("active"))$(this).removeClass("active"),e.event_hub.emit("unlike",i);else{$(this).addClass("active");let n=t.wrap("<p/>").parent().html();e.event_hub.emit("like",{id:i,html:n})}n.stopPropagation()}),this.event_hub.on("fav_unlike",function(n){e.$container.find(`[data-movie-id=${n}] .icon-xihuan`).removeClass("active")}),this.$container.on("click",":not('.icon-xihuan')",function(n){e.event_hub.emit("show_detail",$(this).parents(".item").data("movieId").toString()),n.stopPropagation()})}start(){this.getData(e=>{this.render(e)})}getData(e){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$container.parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/top250",type:"GET",dataType:"jsonp",data:{start:this.moive_index,count:20}}).done(n=>{console.log("请求电影数据成功:"),e(n),this.moive_index+=20,console.log(n)}).fail(e=>{console.log("请求电影数据失败: "),console.log(e)}).always(()=>{this.is_lodding=!1,this.$container.parent().find(".loading").hide()}))}render(e){e.subjects.forEach(e=>{let n=o(e,this.data);this.$container.append(n)}),a()}},search:new class{constructor(){this.$element=$("#search"),this.$input=$("#search input"),this.$container=$(".search-reslut .container"),this.data=(()=>localStorage.getItem("douban_movies")),this.event_hub=i}init(){this.bind(),this.start(),this.keyword=null}bind(){let e=this;this.$container.on("click",".item",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))}),this.$element.find(".button").click(()=>{this.keyword=this.$element.find("input").val(),this.$container.empty(),this.getData(e=>{this.render(e,this.data())})}),this.$container.on("click",".icon-xihuan",function(n){let t=$(this).parents(".item"),i=t.data("movieId");if($(this).hasClass("active"))console.log("收藏中...."),$(this).removeClass("active"),e.event_hub.emit("unlike",i);else{console.log("没有收藏..."),$(this).addClass("active");let n=t.wrap("<p/>").parent().html();e.event_hub.emit("like",{id:i,html:n})}n.stopPropagation()}),this.event_hub.on("fav_unlike",function(n){e.$container.find(`[data-movie-id=${n}] .icon-xihuan`).removeClass("active"),console.log("收藏页面取消收藏事件 成功")}),this.$input.on("keypress",function(n){let t=n.keyCode;e.keyword=$(this).val(),13===t&&(e.$container.empty(),e.getData(n=>{e.render(n,e.data())}))})}start(){}getData(e){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$element.find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/search",type:"GET",dataType:"jsonp",data:{q:this.keyword}}).done(n=>{console.log("搜索电影数据成功:"),e(n),console.log(n)}).fail(e=>{console.log("搜索电影数据失败: "),console.log(e)}).always(()=>{this.is_lodding=!1,this.$element.find(".loading").hide()}))}render(e,n){e.subjects.forEach(e=>{let t=o(e,n);this.$container.append(t)}),a()}},fav:new class{constructor(){this.$container=$("#fav"),this.local_storage=localStorage,this.data=this.local_storage.getItem("douban_movies"),this.event_hub=i}init(){console.log("初始化"),null===this.data?this.data=[]:this.data=JSON.parse(this.data),this.bind(),this.render()}bind(){let e=this;this.$container.on("click",".icon-xihuan",function(n){console.log("取消喜欢...");let t=$(this).parents(".item").data("movieId");e.remove_movie(t),e.event_hub.emit("fav_unlike",t),n.stopPropagation()}),this.$container.on("click",".item",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))}),this.event_hub.on("like",function(n){console.log("我监听到了like事件..."),e.data.unshift(n),e.local_storage.setItem("douban_movies",JSON.stringify(e.data))}),this.event_hub.on("unlike",function(n){console.log("我监听到了unlike事件..."),e.remove_movie(n)})}remove_movie(e){let n=null;for(let[t,i]of this.data.entries())if(i.id===e){n=t;break}this.data.splice(n,1),this.local_storage.setItem("douban_movies",JSON.stringify(this.data)),this.render()}render(){this.$container.empty(),0===this.data.length?(console.log("\b\b暂无收藏..."),this.$container.append($('<span class="no-data">\b暂无收藏哦...</span>'))):this.data.forEach(e=>{this.$container.append($(e.html))})}},detail:new class{constructor(){this.$container=$("#detail"),this.$height=$(window).height(),this.$width=$(window).width(),this.$left=this.$container.css({left:this.$width}),this.event_hub=i,this.data=null}init(){this.bind()}bind(){this.$container.on("click",".close button",()=>{console.log("关闭详情页..."),this.$container.css({left:this.$width})}),this.event_hub.on("show_detail",e=>{console.log(e);let n=`//api.douban.com/v2/movie/subject/${e}`;this.get_data(n,()=>{this.render()})})}get_data(e,n){let t=this;$.ajax({url:e,type:"GET",dataType:"jsonp",data:{apikey:"0b2bdeda43b5688921839c8ecb20399b"}}).done(e=>{console.log("请求电影\b详情数据成功."),t.data=e,t.render()}).fail(e=>{console.log("请求电影\b详情数据失败."),t.data=e})}render(){let e=this.data,n="",t="",i="";console.log(e),e.directors.map(e=>{console.log(e),n+=e.name+"(导演) / ",t+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${e.avatars.small}')"></div>\n                                    <span class="name">${e.name}</span>\n                                    <span class="role">导演</span>\n                                </li>`}),e.casts.map(e=>{console.log(e),i+=e.name+" / ",t+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${e.avatars.small}')"></div>\n                                    <span class="name">${e.name}</span>\n                                    <span class="role">演员</span>\n                                </li>`});let o=e.tags.map(e=>`<li class="channel_tag"><a href="">${e}</a></li>`),a=`${e.durations[0]+" / "+e.genres.join(" / ")+" / "+n+i+this.data.pubdates.join(" / ")}`,r=`\n        <div class="movie_detail" style="height:${this.$height}px">\n            <div class="card">\n                <h1>${e.title}</h1>\n                <div class="subject">\n                    <div class="left">\n                        <p class="ratting">\n                            <span class="star"></span>\n                            <strong class="score">${e.rating.average}</strong>\n                            <span class="count">${e.ratings_count}人评价</span>\n                        </p>\n                        <p class="meta">${a}\n                        </p>\n                    </div>\n                    <div class="right">\n                        <img src="${e.images.small}" alt="">\n                    </div>\n                </div>\n                <div class="channel_tags">\n                    <h2>所属频道</h2>\n                    <ul>\n                        ${o.join("")}\n                    </ul>\n                </div>\n                <div class="intro">\n                    <h2>${e.title}的剧情简介</h2>\n                    <p class="bd">\n                          ${e.summary}  \n                    </p>\n\n                </div>\n                <div class="celebrities">\n                    <h2>影人</h2>\n                    <ul>\n                        ${t}        \n                    </ul>\n                </div>\n            </div>\n            <div class="close">\n                <button>关闭</button>\n            </div>\n        </div>\n        `;this.$container.empty(),this.$container.append(r).css({left:0}),console.log("detail 渲染成功...")}}}).init()}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY3NzL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL2Nzcy9zdHlsZS5jc3M/ZjY4YyIsIndlYnBhY2s6Ly8vLi9qcy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4vanMvdXMuanMiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vanMvdG9wMjUwLmpzIiwid2VicGFjazovLy8uL2pzL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9qcy9mYXZvcml0ZS5qcyIsIndlYnBhY2s6Ly8vLi9qcy9kZXRhaWwuanMiXSwibmFtZXMiOlsicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ3aW5kb3ciLCJjaHVua0lkIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRIYXNoIiwiaG90UmVxdWVzdFRpbWVvdXQiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJmbiIsInJlcXVlc3QiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiZXJyIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJ0IiwibW9kZSIsImhvdENyZWF0ZU1vZHVsZSIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX2Rpc3Bvc2VIYW5kbGVycyIsIl9tYWluIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJzdGF0dXMiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJuZXdTdGF0dXMiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJ0b01vZHVsZUlkIiwiaWQiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImRlZmVycmVkIiwicmVzdWx0Iiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwidHlwZSIsInBhcmVudElkIiwicGFyZW50IiwiY29uY2F0IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkaXNwb3NlSGFuZGxlcnMiLCJjaGlsZCIsIm1vZHVsZXMiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImV4cG9ydHMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsInVzZVNvdXJjZU1hcCIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzdHJpbmdpZnkiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiYWxsIiwiYXRvYiIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwiZG9tU3R5bGUiLCJyZWZzIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiYXR0cnMiLCJub25jZSIsIm5jIiwiZ2V0Tm9uY2UiLCJhZGRBdHRycyIsImVsIiwic2V0QXR0cmlidXRlIiwib2JqIiwicmVtb3ZlIiwidHJhbnNmb3JtIiwiZGVmYXVsdCIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0IiwiaG1yIiwibG9jYWxzIiwibmV3Q29udGVudCIsIkV2ZW50X2h1YiIsImV2ZW50cyIsIltvYmplY3QgT2JqZWN0XSIsImdlbmVyYXRlX2h0bWxfdG1wIiwibW92aWUiLCJsb2NhbF9kYXRhIiwiY2FzdHMiLCJkaXJlY3RvcnMiLCJjYXN0X25hbWVfYXJyIiwiZGlyZWN0b3JfbmFtZV9hcnIiLCJjYXN0IiwiZGlyZWN0b3IiLCJ0bXAiLCJpbWFnZXMiLCJzbWFsbCIsInRpdGxlIiwicmF0aW5nIiwiYXZlcmFnZSIsImNvbGxlY3RfY291bnQiLCJ5ZWFyIiwiZ2VucmVzIiwiJCIsImxhenlfbG9hZCIsIm5vdCIsImVhY2giLCJoZWlnaHQiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJhdHRyIiwidXNfVXMiLCIkY29udGFpbmVyIiwiY29sX2hlaWdodF9hcnIiLCJldmVudF9odWIiLCJpbWdfd2lkdGgiLCJvdXRlcldpZHRoIiwiY29sX0NvdW50IiwiTWF0aCIsImZsb29yIiwid2lkdGgiLCJnZXREYXRhIiwiX3RoaXMiLCJvbiIsImVtaXQiLCJmaW5kIiwic2hvdyIsImFqYXgiLCJ1cmwiLCJkYXRhVHlwZSIsImRvbmUiLCJyZXMiLCJyZW5kZXIiLCJmYWlsIiwibG9nIiwiYWx3YXlzIiwiaGlkZSIsImhlaWdodF9hcnIiLCJzdWJqZWN0cyIsIk51bWJlciIsInRvRml4ZWQiLCIkZWxlbW5ldCIsInJhbmRvbSIsImFwcGVuZCIsImxheW91dCIsImNvbEhlaWdodEFycmF5IiwiaW1nV2lkdGgiLCJjb2xDb3VudCIsIm1pbl92YWx1ZSIsIm1pbiIsIm1pbl9pbmRleCIsImxlZnQiLCJvdXRlckhlaWdodCIsInRvdGFsX3dpZHRoIiwiaW1nc193aWR0aCIsImVxIiwicGFkZGluZyIsInBhZGRpbmctbGVmdCIsInBhZGRpbmctdG9wIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWF0Y2giLCJtYWluX2hlaWdodCIsInRvcDI1MCIsInVzIiwic2VhcmNoIiwiZmF2IiwiZGV0YWlsIiwiJHRhYnMiLCJwYW5lbHMiLCJpbml0IiwiY2xpY2siLCJmYWRlSW4iLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJpc19sb2RkaW5nIiwibW9pdmVfaW5kZXgiLCJjbG9jayIsImxhenlfbG9hZF90aW1lX2lkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0YXJ0IiwiJG1haW4iLCJzY3JvbGwiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwibW92aWVfaXRlbSIsIm1vdmllX2lkIiwiaGFzQ2xhc3MiLCJtb3ZpZV9odG1sX3N0ciIsIndyYXAiLCJodG1sIiwic3RvcFByb3BhZ2F0aW9uIiwiY291bnQiLCIkbm9kZSIsIiRlbGVtZW50IiwiJGlucHV0Iiwia2V5d29yZCIsInZhbCIsImVtcHR5Iiwia2V5X2NvZGUiLCJrZXlDb2RlIiwicSIsImxvY2FsX3N0b3JhZ2UiLCJyZW1vdmVfbW92aWUiLCJ1bnNoaWZ0Iiwic2V0SXRlbSIsIm1vdmllX2luZGV4IiwiZW50cmllcyIsIiRoZWlnaHQiLCIkd2lkdGgiLCIkbGVmdCIsImdldF9kYXRhIiwiYXBpa2V5IiwibWV0YV9kaXJlY3RvcnMiLCJjZWxlYnJpdGllcyIsIm1ldGFfY2FzdHMiLCJhdmF0YXJzIiwidGFncyIsInRhZyIsIm1ldGEiLCJkdXJhdGlvbnMiLCJwdWJkYXRlcyIsInJhdGluZ3NfY291bnQiLCJzdW1tYXJ5Il0sIm1hcHBpbmdzIjoiYUFHQSxJQUFBQSxFQUFBQyxPQUFBLGlCQUNBQSxPQUFBLGlCQUNBLFNBQUFDLEVBQUFDLElBZ1JBLFNBQUFELEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUYsS0FBQUcsRUFBQUgsR0FDQSxPQUVBLFFBQUFJLEtBREFELEVBQUFILElBQUEsRUFDQUMsRUFDQUksT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVAsRUFBQUcsS0FDQUssRUFBQUwsR0FBQUgsRUFBQUcsSUFHQSxLQUFBTSxHQUFBLElBQUFDLEdBQ0FDLElBelJBQyxDQUFBYixFQUFBQyxHQUNBSCxLQUFBRSxFQUFBQyxJQXVEQSxJQUtBYSxFQUxBQyxHQUFBLEVBRUFDLEVBQUEsdUJBQ0FDLEVBQUEsSUFDQUMsRUFBQSxHQUdBQyxFQUFBLEdBRUFDLEVBQUEsR0FHQSxTQUFBQyxFQUFBakIsR0FDQSxJQUFBa0IsRUFBQUMsRUFBQW5CLEdBQ0EsSUFBQWtCLEVBQUEsT0FBQUUsRUFDQSxJQUFBQyxFQUFBLFNBQUFDLEdBc0JBLE9BckJBSixFQUFBSyxJQUFBQyxRQUNBTCxFQUFBRyxJQUNBLElBQUFILEVBQUFHLEdBQUFHLFFBQUFDLFFBQUExQixJQUNBbUIsRUFBQUcsR0FBQUcsUUFBQUUsS0FBQTNCLElBR0FlLEVBQUEsQ0FBQWYsR0FDQVUsRUFBQVksSUFFQSxJQUFBSixFQUFBVSxTQUFBRixRQUFBSixJQUNBSixFQUFBVSxT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cHAuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdGlmIChudWxsKSBzY3JpcHQuY3Jvc3NPcmlnaW4gPSBudWxsO1xuIFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiM2M3MmMyOWFlMDBkZjk1NTcxZWZcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IDA7XG4gXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvbmUtYmxvY2tzXG4gXHRcdFx0e1xuIFx0XHRcdFx0LypnbG9iYWxzIGNodW5rSWQgKi9cbiBcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiICYmXG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nID09PSAwICYmXG4gXHRcdFx0XHRob3RXYWl0aW5nRmlsZXMgPT09IDBcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIHByb21pc2U7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gfHwgIWhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdKVxuIFx0XHRcdHJldHVybjtcbiBcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSBmYWxzZTtcbiBcdFx0Zm9yICh2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmICgtLWhvdFdhaXRpbmdGaWxlcyA9PT0gMCAmJiBob3RDaHVua3NMb2FkaW5nID09PSAwKSB7XG4gXHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlcysrO1xuIFx0XHRcdGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90VXBkYXRlRG93bmxvYWRlZCgpIHtcbiBcdFx0aG90U2V0U3RhdHVzKFwicmVhZHlcIik7XG4gXHRcdHZhciBkZWZlcnJlZCA9IGhvdERlZmVycmVkO1xuIFx0XHRob3REZWZlcnJlZCA9IG51bGw7XG4gXHRcdGlmICghZGVmZXJyZWQpIHJldHVybjtcbiBcdFx0aWYgKGhvdEFwcGx5T25VcGRhdGUpIHtcbiBcdFx0XHQvLyBXcmFwIGRlZmVycmVkIG9iamVjdCBpbiBQcm9taXNlIHRvIG1hcmsgaXQgYXMgYSB3ZWxsLWhhbmRsZWQgUHJvbWlzZSB0b1xuIFx0XHRcdC8vIGF2b2lkIHRyaWdnZXJpbmcgdW5jYXVnaHQgZXhjZXB0aW9uIHdhcm5pbmcgaW4gQ2hyb21lLlxuIFx0XHRcdC8vIFNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NjU2NjZcbiBcdFx0XHRQcm9taXNlLnJlc29sdmUoKVxuIFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBob3RBcHBseShob3RBcHBseU9uVXBkYXRlKTtcbiBcdFx0XHRcdH0pXG4gXHRcdFx0XHQudGhlbihcbiBcdFx0XHRcdFx0ZnVuY3Rpb24ocmVzdWx0KSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuIFx0XHRcdFx0XHR9LFxuIFx0XHRcdFx0XHRmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0KTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHRvTW9kdWxlSWQoaWQpKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdFx0ZGVmZXJyZWQucmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5KG9wdGlvbnMpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJyZWFkeVwiKVxuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImFwcGx5KCkgaXMgb25seSBhbGxvd2VkIGluIHJlYWR5IHN0YXR1c1wiKTtcbiBcdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKS5tYXAoZnVuY3Rpb24oaWQpIHtcbiBcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdGNoYWluOiBbaWRdLFxuIFx0XHRcdFx0XHRpZDogaWRcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRcdHZhciBxdWV1ZUl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRcdHZhciBtb2R1bGVJZCA9IHF1ZXVlSXRlbS5pZDtcbiBcdFx0XHRcdHZhciBjaGFpbiA9IHF1ZXVlSXRlbS5jaGFpbjtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKCFtb2R1bGUgfHwgbW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9zZWxmRGVjbGluZWQpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fbWFpbikge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwidW5hY2NlcHRlZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbW9kdWxlLnBhcmVudHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudElkID0gbW9kdWxlLnBhcmVudHNbaV07XG4gXHRcdFx0XHRcdHZhciBwYXJlbnQgPSBpbnN0YWxsZWRNb2R1bGVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0aWYgKCFwYXJlbnQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwiZGVjbGluZWRcIixcbiBcdFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRwYXJlbnRJZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChvdXRkYXRlZE1vZHVsZXMuaW5kZXhPZihwYXJlbnRJZCkgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdKVxuIFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdID0gW107XG4gXHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdLCBbbW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0XHRjb250aW51ZTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaChwYXJlbnRJZCk7XG4gXHRcdFx0XHRcdHF1ZXVlLnB1c2goe1xuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbi5jb25jYXQoW3BhcmVudElkXSksXG4gXHRcdFx0XHRcdFx0aWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cblxuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHR0eXBlOiBcImFjY2VwdGVkXCIsXG4gXHRcdFx0XHRtb2R1bGVJZDogdXBkYXRlTW9kdWxlSWQsXG4gXHRcdFx0XHRvdXRkYXRlZE1vZHVsZXM6IG91dGRhdGVkTW9kdWxlcyxcbiBcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzOiBvdXRkYXRlZERlcGVuZGVuY2llc1xuIFx0XHRcdH07XG4gXHRcdH1cblxuIFx0XHRmdW5jdGlvbiBhZGRBbGxUb1NldChhLCBiKSB7XG4gXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHR2YXIgaXRlbSA9IGJbaV07XG4gXHRcdFx0XHRpZiAoYS5pbmRleE9mKGl0ZW0pID09PSAtMSkgYS5wdXNoKGl0ZW0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGF0IGJlZ2luIGFsbCB1cGRhdGVzIG1vZHVsZXMgYXJlIG91dGRhdGVkXG4gXHRcdC8vIHRoZSBcIm91dGRhdGVkXCIgc3RhdHVzIGNhbiBwcm9wYWdhdGUgdG8gcGFyZW50cyBpZiB0aGV5IGRvbid0IGFjY2VwdCB0aGUgY2hpbGRyZW5cbiBcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG4gXHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0dmFyIGFwcGxpZWRVcGRhdGUgPSB7fTtcblxuIFx0XHR2YXIgd2FyblVuZXhwZWN0ZWRSZXF1aXJlID0gZnVuY3Rpb24gd2FyblVuZXhwZWN0ZWRSZXF1aXJlKCkge1xuIFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICsgcmVzdWx0Lm1vZHVsZUlkICsgXCIpIHRvIGRpc3Bvc2VkIG1vZHVsZVwiXG4gXHRcdFx0KTtcbiBcdFx0fTtcblxuIFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgaWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVJZCA9IHRvTW9kdWxlSWQoaWQpO1xuIFx0XHRcdFx0LyoqIEB0eXBlIHtUT0RPfSAqL1xuIFx0XHRcdFx0dmFyIHJlc3VsdDtcbiBcdFx0XHRcdGlmIChob3RVcGRhdGVbaWRdKSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IGdldEFmZmVjdGVkU3R1ZmYobW9kdWxlSWQpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwiZGlzcG9zZWRcIixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogaWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdC8qKiBAdHlwZSB7RXJyb3J8ZmFsc2V9ICovXG4gXHRcdFx0XHR2YXIgYWJvcnRFcnJvciA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvQXBwbHkgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0Rpc3Bvc2UgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBjaGFpbkluZm8gPSBcIlwiO1xuIFx0XHRcdFx0aWYgKHJlc3VsdC5jaGFpbikge1xuIFx0XHRcdFx0XHRjaGFpbkluZm8gPSBcIlxcblVwZGF0ZSBwcm9wYWdhdGlvbjogXCIgKyByZXN1bHQuY2hhaW4uam9pbihcIiAtPiBcIik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRzd2l0Y2ggKHJlc3VsdC50eXBlKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJzZWxmLWRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2Ygc2VsZiBkZWNsaW5lOiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIGRlY2xpbmVkIGRlcGVuZGVuY3k6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdFwiIGluIFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucGFyZW50SWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInVuYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vblVuYWNjZXB0ZWQpIG9wdGlvbnMub25VbmFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZVVuYWNjZXB0ZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBcIiArIG1vZHVsZUlkICsgXCIgaXMgbm90IGFjY2VwdGVkXCIgKyBjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJhY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uQWNjZXB0ZWQpIG9wdGlvbnMub25BY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvQXBwbHkgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGlzcG9zZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRpc3Bvc2VkKSBvcHRpb25zLm9uRGlzcG9zZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0Rpc3Bvc2UgPSB0cnVlO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRkZWZhdWx0OlxuIFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIlVuZXhjZXB0aW9uIHR5cGUgXCIgKyByZXN1bHQudHlwZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoYWJvcnRFcnJvcikge1xuIFx0XHRcdFx0XHRob3RTZXRTdGF0dXMoXCJhYm9ydFwiKTtcbiBcdFx0XHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGFib3J0RXJyb3IpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvQXBwbHkpIHtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSBob3RVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIHJlc3VsdC5vdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHRcdFx0XHRmb3IgKG1vZHVsZUlkIGluIHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0XHRcdFx0KVxuIFx0XHRcdFx0XHRcdCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdFx0YWRkQWxsVG9TZXQoXG4gXHRcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSxcbiBcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXVxuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0Rpc3Bvc2UpIHtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCBbcmVzdWx0Lm1vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gd2FyblVuZXhwZWN0ZWRSZXF1aXJlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIFN0b3JlIHNlbGYgYWNjZXB0ZWQgb3V0ZGF0ZWQgbW9kdWxlcyB0byByZXF1aXJlIHRoZW0gbGF0ZXIgYnkgdGhlIG1vZHVsZSBzeXN0ZW1cbiBcdFx0dmFyIG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBvdXRkYXRlZE1vZHVsZXNbaV07XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gJiZcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0KVxuIFx0XHRcdFx0b3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLnB1c2goe1xuIFx0XHRcdFx0XHRtb2R1bGU6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0fVxuXG4gXHRcdC8vIE5vdyBpbiBcImRpc3Bvc2VcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJkaXNwb3NlXCIpO1xuIFx0XHRPYmplY3Qua2V5cyhob3RBdmFpbGFibGVGaWxlc01hcCkuZm9yRWFjaChmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdID09PSBmYWxzZSkge1xuIFx0XHRcdFx0aG90RGlzcG9zZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdH1cbiBcdFx0fSk7XG5cbiBcdFx0dmFyIGlkeDtcbiBcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCk7XG4gXHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0bW9kdWxlSWQgPSBxdWV1ZS5wb3AoKTtcbiBcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRpZiAoIW1vZHVsZSkgY29udGludWU7XG5cbiBcdFx0XHR2YXIgZGF0YSA9IHt9O1xuXG4gXHRcdFx0Ly8gQ2FsbCBkaXNwb3NlIGhhbmRsZXJzXG4gXHRcdFx0dmFyIGRpc3Bvc2VIYW5kbGVycyA9IG1vZHVsZS5ob3QuX2Rpc3Bvc2VIYW5kbGVycztcbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgZGlzcG9zZUhhbmRsZXJzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRjYiA9IGRpc3Bvc2VIYW5kbGVyc1tqXTtcbiBcdFx0XHRcdGNiKGRhdGEpO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF0gPSBkYXRhO1xuXG4gXHRcdFx0Ly8gZGlzYWJsZSBtb2R1bGUgKHRoaXMgZGlzYWJsZXMgcmVxdWlyZXMgZnJvbSB0aGlzIG1vZHVsZSlcbiBcdFx0XHRtb2R1bGUuaG90LmFjdGl2ZSA9IGZhbHNlO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIG1vZHVsZSBmcm9tIGNhY2hlXG4gXHRcdFx0ZGVsZXRlIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gd2hlbiBkaXNwb3NpbmcgdGhlcmUgaXMgbm8gbmVlZCB0byBjYWxsIGRpc3Bvc2UgaGFuZGxlclxuIFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyByZW1vdmUgXCJwYXJlbnRzXCIgcmVmZXJlbmNlcyBmcm9tIGFsbCBjaGlsZHJlblxuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGUuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBjaGlsZCA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlLmNoaWxkcmVuW2pdXTtcbiBcdFx0XHRcdGlmICghY2hpbGQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWR4ID0gY2hpbGQucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkge1xuIFx0XHRcdFx0XHRjaGlsZC5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIHJlbW92ZSBvdXRkYXRlZCBkZXBlbmRlbmN5IGZyb20gbW9kdWxlIGNoaWxkcmVuXG4gXHRcdHZhciBkZXBlbmRlbmN5O1xuIFx0XHR2YXIgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXM7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbal07XG4gXHRcdFx0XHRcdFx0aWR4ID0gbW9kdWxlLmNoaWxkcmVuLmluZGV4T2YoZGVwZW5kZW5jeSk7XG4gXHRcdFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBtb2R1bGUuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3QgaW4gXCJhcHBseVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImFwcGx5XCIpO1xuXG4gXHRcdGhvdEN1cnJlbnRIYXNoID0gaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0XHQvLyBpbnNlcnQgbmV3IGNvZGVcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBhcHBsaWVkVXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcHBsaWVkVXBkYXRlLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gYXBwbGllZFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gY2FsbCBhY2NlcHQgaGFuZGxlcnNcbiBcdFx0dmFyIGVycm9yID0gbnVsbDtcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdHZhciBjYWxsYmFja3MgPSBbXTtcbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldO1xuIFx0XHRcdFx0XHRcdGNiID0gbW9kdWxlLmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwZW5kZW5jeV07XG4gXHRcdFx0XHRcdFx0aWYgKGNiKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2tzLmluZGV4T2YoY2IpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdFx0XHRjYWxsYmFja3MucHVzaChjYik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRjYiA9IGNhbGxiYWNrc1tpXTtcbiBcdFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdFx0Y2IobW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMpO1xuIFx0XHRcdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcImFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGRlcGVuZGVuY3lJZDogbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV0sXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIExvYWQgc2VsZiBhY2NlcHRlZCBtb2R1bGVzXG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgaXRlbSA9IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRtb2R1bGVJZCA9IGl0ZW0ubW9kdWxlO1xuIFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW0uZXJyb3JIYW5kbGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRpdGVtLmVycm9ySGFuZGxlcihlcnIpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlcnIyKSB7XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3ItaGFuZGxlci1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVycjIsXG4gXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsRXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjI7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gaGFuZGxlIGVycm9ycyBpbiBhY2NlcHQgaGFuZGxlcnMgYW5kIHNlbGYgYWNjZXB0ZWQgbW9kdWxlIGxvYWRcbiBcdFx0aWYgKGVycm9yKSB7XG4gXHRcdFx0aG90U2V0U3RhdHVzKFwiZmFpbFwiKTtcbiBcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuIFx0XHR9XG5cbiBcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiBcdFx0XHRyZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRob3Q6IGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCksXG4gXHRcdFx0cGFyZW50czogKGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IGhvdEN1cnJlbnRQYXJlbnRzLCBob3RDdXJyZW50UGFyZW50cyA9IFtdLCBob3RDdXJyZW50UGFyZW50c1RlbXApLFxuIFx0XHRcdGNoaWxkcmVuOiBbXVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gX193ZWJwYWNrX2hhc2hfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5oID0gZnVuY3Rpb24oKSB7IHJldHVybiBob3RDdXJyZW50SGFzaDsgfTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBob3RDcmVhdGVSZXF1aXJlKFwiLi9pbmRleC5qc1wiKShfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vaW5kZXguanNcIik7XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbioge1xcbiAgICBtYXJnaW46MDtcXG4gICAgcGFkZGluZzowO1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5hIHtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgICBjb2xvcjojMzMzO1xcbn1cXG5cXG51bCBsaSB7XFxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcblxcbmJvZHkge1xcbiAgICBmb250LXNpemU6IDEycHg7XFxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsSGVsdmV0aWNhLFJvYm90byxBcmlhbCxzYW5zLXNlcmlmO1xcbn1cXG5cXG5tYWluIHtcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTBweCk7XFxuICAgIG92ZXJmbG93OnNjcm9sbDtcXG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xcbn1cXG5cXG5tYWluID4gc2VjdGlvbiB7XFxuICAgIHBhZGRpbmc6MTBweDtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxubWFpbiA+IHNlY3Rpb246Zmlyc3QtY2hpbGQge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuXFxuLml0ZW0ge1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcXG4gICAgcGFkZGluZy1ib3R0b206MTBweDtcXG4gICAgcGFkZGluZy10b3A6MTBweDtcXG59XFxuXFxuLml0ZW0+YSB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uaXRlbT5hIC5jb3ZlciwgLml0ZW0+YSBpbWcge1xcbiAgICB3aWR0aDo3MHB4O1xcbn1cXG5cXG4uaXRlbSAuZGV0YWlsIHtcXG4gICAgcGFkZGluZy1sZWZ0OjEwcHg7XFxuICAgIGZsZXg6MTtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCBoMiB7XFxuICAgIGZvbnQtc2l6ZTogMTZweDtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCAuZXh0cmEge1xcbiAgICBjb2xvcjojOTk5O1xcbiAgICBtYXJnaW4tdG9wOjRweDtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCAuc2NvcmUge1xcbiAgICBjb2xvcjojZmY1NzIyO1xcbiAgICAvKiBtYXJnaW4tcmlnaHQ6OHB4OyAqL1xcbn1cXG5cXG4ubG9hZGluZyAuaWNvbmZvbnQge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGZvbnQtc2l6ZTogM2VtO1xcbiAgICBjb2xvcjpsaWdodHBpbms7XFxuICAgIGFuaW1hdGlvbjogMXMgcm90YXRlIGxpbmVhciBpbmZpbml0ZTtcXG5cXG59XFxuXFxuLmxvYWRpbmcge1xcbiAgICBwYWRkaW5nOjVweDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5cXG5zZWN0aW9uIC5zZWFyY2gtYXJlYSB7XFxuICAgIGNvbG9yOiAjMzMzO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuc2VjdGlvbiAuc2VhcmNoLWFyZWEgaW5wdXQge1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gNTBweCk7XFxuICAgIHBhZGRpbmc6IDhweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XFxuICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbnNlY3Rpb24gLnNlYXJjaC1hcmVhIC5idXR0b24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBwYWRkaW5nOiA4cHggMTBweDtcXG4gICAgYmFja2dyb3VuZDogI0ZGNTcyMjtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5zZWN0aW9uICN1cyB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLyogc2VjdGlvbiAjdXMgaW1nIHtcXG4gICAgd2lkdGg6ODBweDtcXG4gICAgbWFyZ2luOiAycHg7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59ICAqL1xcblxcbi8qIOa3u+WKoOivhOWIhiAqL1xcbnNlY3Rpb24gI3VzIC5pbWctd3JhcCB7XFxuICAgIHdpZHRoOjgwcHg7XFxuICAgIG1hcmdpbjogMnB4O1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuc2VjdGlvbiAjdXMgaW1nIHtcXG4gICAgd2lkdGg6ODBweDtcXG59ICBcXG5zZWN0aW9uICN1cyAuc2NvcmUge1xcbiAgICBmb250LXNpemU6IC45ZW07XFxuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICAgIHJpZ2h0OiAycHg7XFxuICAgIGJvdHRvbTogNHB4O1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYmFja2dyb3VuZDogI2ZmNTcyMjtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICBvcGFjaXR5OiAuODtcXG4gICAgcGFkZGluZzogNHB4O1xcbn1cXG5cXG4vKiDmt7vliqDmlLbol48gKi9cXG5zZWN0aW9uIC5pY29uLXhpaHVhbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDEwcHg7XFxuICAgIHRvcDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTcwJSk7XFxuICAgIGZvbnQtc2l6ZTogMi4xZW07XFxufVxcblxcbnNlY3Rpb24gLmljb24teGlodWFuLmFjdGl2ZSB7XFxuICAgIGNvbG9yOnJlZDtcXG59XFxuXFxuc2VjdGlvbiAubm8tZGF0YSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgZm9udC1zaXplOiAxLjNlbTtcXG4gICAgY29sb3I6IGdyZXk7XFxuICAgIGxlZnQ6IDUwJTtcXG4gICAgdG9wOiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTI1MCUpO1xcbn1cXG5cXG4vKiDmt7vliqDmlLbol4/nu5PmnZ8gKi9cXG5cXG5zZWN0aW9uIC5pdGVtIC5kZXRhaWwge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi8qIOa3u+WKoOivhOWIhiDnu5PmnZ8qL1xcblxcblxcbkBrZXlmcmFtZXMgcm90YXRlIHtcXG4gICAgMCUge1xcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICAgIH1cXG4gICAgMTAwJSB7XFxuICAgICAgICB0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7XFxuICAgIH1cXG59XFxuXFxuZm9vdGVyIHtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbiAgICBib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBcXG59XFxuXFxuZm9vdGVyIC5hY3RpdmUge1xcbiAgICBjb2xvcjojZmY1NzIyO1xcbn1cXG5cXG5mb290ZXI+ZGl2IHtcXG4gICAgZmxleDoxO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmZvb3Rlcj5kaXY+c3BhbiB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBwYWRkaW5nLXRvcDo1cHg7XFxufVxcblxcbi8qIFxcbueUteW9seivpuaDhVxcbiovXFxuXFxuI2RldGFpbCB7XFxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC40KTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG5cXG4jZGV0YWlsIHtcXG4gICAgdHJhbnNpdGlvbjouM3MgbGVmdCBlYXNlLW91dDtcXG59XFxuXFxuI2RldGFpbCAubW92aWVfZGV0YWlsIHtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAvKiBtYXJnaW46IDMwcHggMTBweCAwcHggMTBweDsgKi9cXG4gICAgYmFja2dyb3VuZDp3aGl0ZTtcXG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcXG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xcblxcbn1cXG5cXG4jZGV0YWlsIC5jYXJkIHtcXG4gICAgcGFkZGluZzowIDE4cHg7XFxufVxcblxcbiNkZXRhaWwgLnN1YmplY3Qge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4jZGV0YWlsIC5sZWZ0IHtcXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDEwMHB4KTtcXG59XFxuXFxuI2RldGFpbCAucmlnaHQge1xcbiAgICB3aWR0aDogMTAwcHg7XFxuICAgIGhlaWdodDogMTEwcHg7XFxuICAgIC8qIG91dGxpbmU6IDFweCBzb2xpZCByZWQ7ICovXFxufVxcblxcbiNkZXRhaWwgLnJpZ2h0IGltZyB7XFxuICAgIHdpZHRoOjEwMHB4O1xcbn1cXG5cXG4jZGV0YWlsIC5jaGFubmVsX3RhZ3N7XFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHhcXG4gICAgXFxufVxcblxcbiNkZXRhaWwgaDIge1xcbiAgICBjb2xvcjogI2FhYTtcXG4gICAgbWFyZ2luOiAwIDAgMTVweDtcXG4gICAgZm9udC1zaXplOiAxNXB4O1xcbn1cXG5cXG4jZGV0YWlsIGgxLCNkZXRhaWwgaDIsI2RldGFpbCBoMyB7XFxuICAgIGZvbnQtd2lnaHQ6bm9ybWFsO1xcbn1cXG5cXG5cXG5cXG4gXFxuXFxuI2RldGFpbCBoMSB7XFxuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xcbiAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xcbiAgICBmb250LXdlaWdodDogNDAwO1xcbiAgICBjb2xvcjogcmdiKDE3LDE3LDE3KTtcXG59XFxuXFxuI2RldGFpbCAuc2NvcmUge1xcbiAgICBjb2xvcjpyZ2IoNzMsNzMsNzMpO1xcbiAgICBtYXJnaW4tcmlnaHQ6OHB4O1xcbn1cXG5cXG4jZGV0YWlsIC5jb3VudCB7XFxuICAgIGNvbG9yOnJnYigxNzAsMTcwLDE3MClcXG59XFxuXFxuI2RldGFpbCAubWV0YSB7XFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXG4gICAgY29sb3I6cmdiKDczLDczLDczKTtcXG4gICAgbGluZS1oZWlnaHQ6IDIyLjRweDtcXG4gICAgcGFkZGluZy1yaWdodDogMjBweDtcXG4gICAgbWFyZ2luLXRvcDogMTBweDtcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcXG4gICAgXFxufVxcblxcbiNkZXRhaWwgLmNoYW5uZWxfdGFnIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VmZmFmMDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQyYmQ1NjtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XFxuICAgIGZvbnQtc2l6ZTogMTNweDtcXG4gICAgcGFkZGluZzogNXB4IDEwcHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbiNkZXRhaWwgYSB7XFxuICBjb2xvcjojNDJiZDU2ICAgXFxufVxcblxcbiNkZXRhaWwgLmJkIHtcXG4gICAgZm9udC1zaXplOiAxNXB4O1xcbiAgICBsaW5lLWhlaWdodDogMjJweDtcXG4gICAgY29sb3I6ICM0OTQ5NDk7XFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XFxuICAgIFxcbn1cXG5cXG4jZGV0YWlsIC5jZWxlYnJpdGllcyB1bCB7XFxuICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICB3aGl0ZS1zcGFjZTpub3dyYXA7XFxufVxcblxcbiNkZXRhaWwgLmNlbGVicml0aWVzIGxpIHtcXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICB3aWR0aDogNzVweDtcXG4gICAgbWFyZ2luLXJpZ2h0OjhweDtcXG59XFxuXFxuXFxuI2RldGFpbCAuY2VsZWJyaXRpZXMgLnBvc3RlciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBoZWlnaHQ6IDEzMHB4O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICAgIC8qIG91dGxpbmU6IDFweCBzb2xpZCBwaW5rOyAqL1xcbiAgICBcXG59XFxuXFxuI2RldGFpbCAuY2VsZWJyaXRpZXMgLm5hbWUgLCAjZGV0YWlsIC5jZWxlYnJpdGllcyAucm9sZSB7XFxuICAgIG1hcmdpbi10b3A6OHB4O1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4jZGV0YWlsIC5jbG9zZSB7XFxuICAgIG1hcmdpbjozMHB4IDA7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuI2RldGFpbCAuY2xvc2UgYnV0dG9uIHtcXG4gICAgY29sb3I6ICM0MmJkNTY7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZmZhZjA7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MmJkNTY7XFxuICAgIGZvbnQtc2l6ZTogMTRweDtcXG4gICAgcGFkZGluZzogNXB4IDE2cHg7XFxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHg7XFxufVxcblxcblxcblxcblxcblxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiAnQG1lZGlhICcgKyBpdGVtWzJdICsgJ3snICsgY29udGVudCArICd9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSAnKCcgKyBpdGVtWzJdICsgJykgYW5kICgnICsgbWVkaWFRdWVyeSArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJztcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcbiAgcmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn0iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJsZXQgRXZlbnRfaHViPSB7XG4gICAgZXZlbnRzIDoge30sXG4gICAgb24odHlwZSxmbil7XG4gICAgICAgIGlmKHRoaXMuZXZlbnRzW3R5cGVdID09PSAgdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW3R5cGVdID0gW11cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50c1t0eXBlXS5wdXNoKGZuKVxuICAgIH0sXG4gICAgZW1pdCh0eXBlLGRhdGEpe1xuICAgICAgICB0aGlzLmV2ZW50c1t0eXBlXS5mb3JFYWNoKChmbik9PntcbiAgICAgICAgICAgIGZuLmNhbGwobnVsbCxkYXRhKVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuXG5mdW5jdGlvbiBnZW5lcmF0ZV9odG1sX3RtcChtb3ZpZSxsb2NhbF9kYXRhKXtcbiAgICAvLyDlpITnkIbnlLXlvbFqc29u5qC85byP5pWw5o2u77yM55Sf5oiQaHRtbOaooeadv+Wtl+espuS4slxuICAgIGxldCBzdGF0dXMgPSBcIlwiXG4gICAgaWYobG9jYWxfZGF0YSAhPT0gIG51bGwpe1xuICAgICAgICBKU09OLnBhcnNlKGxvY2FsX2RhdGEpLmZvckVhY2goKG0pPT57XG4gICAgICAgICAgICBpZihtb3ZpZS5pZCA9PT0gbS5pZCsnJyl7XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gJ2FjdGl2ZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG4gICAgbGV0IHtjYXN0cyxkaXJlY3RvcnN9ID0gbW92aWVcbiAgICBsZXQgY2FzdF9uYW1lX2FyciA9IFtdXG4gICAgbGV0IGRpcmVjdG9yX25hbWVfYXJyID0gW11cbiAgICBjYXN0cy5mb3JFYWNoKChjYXN0KT0+e1xuICAgICAgICBjYXN0X25hbWVfYXJyLnB1c2goY2FzdC5uYW1lKVxuICAgIH0pXG4gICAgZGlyZWN0b3JzLmZvckVhY2goKGRpcmVjdG9yKT0+e1xuICAgICAgICBkaXJlY3Rvcl9uYW1lX2Fyci5wdXNoKGRpcmVjdG9yLm5hbWUpXG4gICAgfSlcblxuICAgIGxldCB0bXAgPSBgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLW1vdmllLWlkPSR7bW92aWUuaWR9PlxuICAgIDxhIGhyZWY9XCIjXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb3ZlclwiPlxuICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwOi8vaW1nMy5kb3ViYW5pby5jb20vZi9tb3ZpZS9iNmRjNzYxZjVlNGNmMDQwMzJmYWE5Njk4MjY5ODZlZmJlY2Q1NGJiL3BpY3MvbW92aWUvbW92aWVfZGVmYXVsdF9zbWFsbC5wbmdcIiBkYXRhLXNyYyA9IFwiJHttb3ZpZS5pbWFnZXMuc21hbGx9XCIgYWx0PVwiXCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGV0YWlsXCI+XG4gICAgICAgICAgICA8aDI+JHttb3ZpZS50aXRsZX08L2gyPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4dHJhXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzY29yZVwiPiR7bW92aWUucmF0aW5nLmF2ZXJhZ2V9PC9zcGFuPiAvICR7bW92aWUuY29sbGVjdF9jb3VudH3mlLbol49cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4dHJhXCI+JHttb3ZpZS55ZWFyfSAvICR7bW92aWUuZ2VucmVzLmpvaW4oJ+OAgScpfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4dHJhXCI+5a+85ryU77yaJHtkaXJlY3Rvcl9uYW1lX2Fyci5qb2luKCfjgIEnKX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJleHRyYVwiPuS4u+a8lO+8miR7Y2FzdF9uYW1lX2Fyci5qb2luKCfjgIEnKX08L2Rpdj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiaWNvbmZvbnQgaWNvbi14aWh1YW4gJHtzdGF0dXN9XCI+PC9zcGFuPlxuXG4gICAgICAgIDwvZGl2PlxuICAgIDwvYT5cbjwvZGl2PlxuYFxuICAgIHJldHVybiAkKHRtcClcbn1cblxuZnVuY3Rpb24gbGF6eV9sb2FkKCl7XG4gICAgLy8g5oeS5Yqg6L29XG4gICAgJCgnLmNvdmVyIGltZycpLm5vdCgnW2RhdGEtaXNMb2FkZWRdJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBpZiggJCgnbWFpbicpLmhlaWdodCgpKyQoJ21haW4nKS5zY3JvbGxUb3AoKSA+ICQodGhpcykub2Zmc2V0KCkudG9wICl7XG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsJCh0aGlzKS5hdHRyKCdkYXRhLXNyYycpKVxuICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlzTG9hZGVkJywxKVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZXhwb3J0IHtFdmVudF9odWIsZ2VuZXJhdGVfaHRtbF90bXAsbGF6eV9sb2FkfSIsImltcG9ydCB7RXZlbnRfaHViLGdlbmVyYXRlX2h0bWxfdG1wLGxhenlfbG9hZH0gZnJvbSAnLi9jb21tb24nXG5cblxuY2xhc3MgVXN7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnI3VzJylcbiAgICAgICAgdGhpcy5jb2xfaGVpZ2h0X2FyciA9IFtdXG4gICAgICAgIHRoaXMuZXZlbnRfaHViID0gRXZlbnRfaHViXG4gICAgICAgIHRoaXMuaW1nX3dpZHRoID0gJCgnLndhdGVyZmFsbCBpbWcnKS5vdXRlcldpZHRoKHRydWUpXG4gICAgICAgIHRoaXMuY29sX0NvdW50ID0gIE1hdGguZmxvb3IoICQoJy53YXRlcmZhbGwnKS53aWR0aCgpL3RoaXMuaW1nX3dpZHRoIClcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgdGhpcy5jb2xfQ291bnQ7aSsrKXtcbiAgICAgICAgICAgIHRoaXMuY29sX2hlaWdodF9hcnJbaV0gPSAwXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLmJpbmQoKVxuICAgICAgICB0aGlzLmdldERhdGEoKVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgYmluZCgpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuaW1nLXdyYXAnLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgnc2hvd19kZXRhaWwnLCQodGhpcykuZGF0YSgnbW92aWVJZCcpKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGdldERhdGEoKXtcbiAgICAgICAgLy/ojrflj5bpobXpnaLmlbDmja5cbiAgICAgICAgJCgnLndhdGVyZmFsbCcpLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG4gICAgXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAvLyB1cmw6Jy8vYXBpLmRvdWJhbi5jb20vdjIvbW92aWUvdXNfYm94JyxcbiAgICAgICAgICAgIHVybDonLy9hcGkuZG91YmFuLmNvbS92Mi9tb3ZpZS9pbl90aGVhdGVycycsXG4gICAgICAgICAgICB0eXBlOidHRVQnLFxuICAgICAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHJlcylcbiAgICAgICAgfSkuZmFpbCgocmVzKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9seaVsOaNruWksei0pTogJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykgICAgXG4gICAgICAgIH0pLmFsd2F5cygoKT0+e1xuICAgICAgICAgICAgJCgnLndhdGVyZmFsbCcpLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG4gICAgXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgICByZW5kZXIoZGF0YSl7XG4gICAgICAgIGxldCBoZWlnaHRfYXJyID0gWzcwLDgwLDkwLDEyMF1cbiAgICAgICAgZGF0YS5zdWJqZWN0cy5mb3JFYWNoKChtb3ZpZSk9PntcbiAgICAgICAgICAgIC8vICBtb3ZpZSA9IG1vdmllLnN1YmplY3RcbiAgICBcbiAgICAgICAgICAgICBsZXQgdG1wID0gYFxuICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWctd3JhcFwiIGRhdGEtbW92aWUtaWQ9JHttb3ZpZS5pZH0+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwOi8vaW1nMy5kb3ViYW5pby5jb20vZi9tb3ZpZS9iNmRjNzYxZjVlNGNmMDQwMzJmYWE5Njk4MjY5ODZlZmJlY2Q1NGJiL3BpY3MvbW92aWUvbW92aWVfZGVmYXVsdF9zbWFsbC5wbmdcIiAgZGF0YS1zcmMgPSBcIiR7bW92aWUuaW1hZ2VzLnNtYWxsfVwiIGFsdD1cIlwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2NvcmVcIj4ke051bWJlcihtb3ZpZS5yYXRpbmcuYXZlcmFnZSkudG9GaXhlZCgxKX08c3Bhbj5cbiAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAgbGV0ICRlbGVtbmV0ID0gJCh0bXApXG4gICAgICAgICAgICAgJGVsZW1uZXQuZmluZCgnaW1nJykuY3NzKCdoZWlnaHQnLGhlaWdodF9hcnJbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjQpXSlcbiAgICAgICAgICAgICAkKCcud2F0ZXJmYWxsJykuYXBwZW5kKCRlbGVtbmV0KVxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmxheW91dCgpXG4gICAgfVxuICAgIFxuICAgIGxheW91dCgpe1xuICAgICAgICAvL+eAkeW4g+a1geW4g+WxgFxuICAgICAgICBsZXQgY29sSGVpZ2h0QXJyYXkgPSBbXVxuICAgICAgICAvLyBsZXQgaW1nV2lkdGggPSAkKCcud2F0ZXJmYWxsIGltZycpLm91dGVyV2lkdGgodHJ1ZSlcbiAgICAgICAgbGV0IGltZ1dpZHRoID0gJCgnLndhdGVyZmFsbCAuaW1nLXdyYXAnKS5vdXRlcldpZHRoKHRydWUpXG4gICAgXG4gICAgICAgIGxldCBjb2xDb3VudCA9ICBNYXRoLmZsb29yKCQoJy53YXRlcmZhbGwnKS53aWR0aCgpL2ltZ1dpZHRoKVxuICAgICAgICBmb3IobGV0IGk9MDsgaTxjb2xDb3VudDsgaSsrKXtcbiAgICAgICAgICAgIGNvbEhlaWdodEFycmF5W2ldID0gMFxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2NvbEhlaWdodEFycmF5fSAke2ltZ1dpZHRofSAke2NvbENvdW50fWApXG4gICAgICAgICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IG1pbl92YWx1ZSA9IE1hdGgubWluKC4uLmNvbEhlaWdodEFycmF5KVxuICAgICAgICAgICAgbGV0IG1pbl9pbmRleCA9IGNvbEhlaWdodEFycmF5LmluZGV4T2YobWluX3ZhbHVlKVxuICAgICAgICAgICAgJCh0aGlzKS5jc3Moe1xuICAgICAgICAgICAgICAgIGxlZnQ6bWluX2luZGV4KmltZ1dpZHRoLFxuICAgICAgICAgICAgICAgIHRvcDptaW5fdmFsdWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBjb2xIZWlnaHRBcnJheVttaW5faW5kZXhdICs9ICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSlcbiAgICAgICAgfSlcbiAgICBcbiAgICAgICAgLy/mh5LliqDovb3lm77niYdcbiAgICAgICAgJCgnLndhdGVyZmFsbCBpbWcnKS5ub3QoJ1tkYXRhLWlzTG9hZGVkXScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCAkKCdtYWluJykuaGVpZ2h0KCkrJCgnbWFpbicpLnNjcm9sbFRvcCgpID4gJCh0aGlzKS5vZmZzZXQoKS50b3AgKXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsJCh0aGlzKS5hdHRyKCdkYXRhLXNyYycpKVxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1pc0xvYWRlZCcsMSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICBcbiAgICAgICAgLy/lsYXkuK3lr7npvZBcbiAgICAgICAgbGV0IHRvdGFsX3dpZHRoID0gJCgnLndhdGVyZmFsbCAuaW1nLXdyYXAnKS5wYXJlbnRzKCdzZWN0aW9uJykub3V0ZXJXaWR0aCh0cnVlKVxuICAgICAgICBsZXQgaW1nc193aWR0aCA9ICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykuZXEoMCkub3V0ZXJXaWR0aCh0cnVlKSAqIGNvbENvdW50XG4gICAgICAgIGxldCBwYWRkaW5nID0gTWF0aC5mbG9vciggKHRvdGFsX3dpZHRoIC0gaW1nc193aWR0aCkvMiApXG4gICAgICAgICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykucGFyZW50cygnc2VjdGlvbicpLmNzcyh7J3BhZGRpbmctbGVmdCc6cGFkZGluZywncGFkZGluZy10b3AnOnBhZGRpbmd9KVxuICAgICAgICBjb25zb2xlLmxvZyhgcGFkZGluZy1sZWZ0IGlzICR7cGFkZGluZ31gKVxuICAgIH1cblxuXG5cblxufVxuXG5leHBvcnQge1VzfSIsImltcG9ydCAnLi9jc3Mvc3R5bGUuY3NzJ1xuXG5pbXBvcnQge0V2ZW50X2h1YixnZW5lcmF0ZV9odG1sX3RtcCxsYXp5X2xvYWR9IGZyb20gJy4vanMvY29tbW9uJ1xuXG5pbXBvcnQge1RvcDI1MH0gZnJvbSAnLi9qcy90b3AyNTAnXG5pbXBvcnQge1NlYXJjaH0gZnJvbSAnLi9qcy9zZWFyY2gnXG5pbXBvcnQge0Zhdm9yaXRlfSBmcm9tICcuL2pzL2Zhdm9yaXRlJ1xuaW1wb3J0IHtEZXRhaWx9IGZyb20gJy4vanMvZGV0YWlsJ1xuaW1wb3J0IHtVc30gZnJvbSAnLi9qcy91cydcblxue1xuICAgIC8vIC8vIFxiXGLkv67lpI1JT1PkuIpWSOeahGJ1Z1xuICAgIGxldCBpT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBhZHxpUGhvbmV8aVBvZCkvZykgPyB0cnVlOmZhbHNlO1xuICAgIGlmKGlPUyl7XG4gICAgICAgIGxldCBtYWluX2hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSAtIDUwXG4gICAgICAgICQoJ21haW4nKS5jc3Moe2hlaWdodDptYWluX2hlaWdodH0pXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSU9T5LiKbWFpbueahGhlaWdodOW3sumHjee9rlwiKVxuICAgIH1cbn1cblxuXG5cbmNsYXNzIEFwcHtcbiAgICBjb25zdHJ1Y3Rvcih7dG9wMjUwLHVzLHNlYXJjaCxmYXYsZGV0YWlsfSl7XG4gICAgICAgIHRoaXMuJHRhYnMgPSAkKCdmb290ZXI+ZGl2JykgLy9cYnRhYuaMiemSrlxuICAgICAgICB0aGlzLnBhbmVscyA9ICQoJ3NlY3Rpb24nKVxuICAgICAgICB0aGlzLnRvcDI1MCA9IHRvcDI1MFxuICAgICAgICB0aGlzLnNlYXJjaCA9IHNlYXJjaFxuICAgICAgICB0aGlzLmZhdiA9IGZhdlxuICAgICAgICB0aGlzLmRldGFpbCA9IGRldGFpbFxuICAgICAgICBcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICAvLyDliJ3lp4vljJZcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgICAgdGhpcy50b3AyNTAuaW5pdCgpXG4gICAgICAgIHRoaXMuc2VhcmNoLmluaXQoKVxuICAgICAgICB0aGlzLmZhdi5pbml0KClcbiAgICAgICAgdGhpcy5kZXRhaWwuaW5pdCgpXG4gICAgICAgIFxuICAgIH1cbiAgICBiaW5kKCl7XG4gICAgICAgIC8vIOe7keWumuS6i+S7tlxuXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgdGhpcy4kdGFicy5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gJCh0aGlzKS5pbmRleCgpXG4gICAgICAgICAgICBfdGhpcy5wYW5lbHMuaGlkZSgpLmVxKGluZGV4KS5mYWRlSW4oKVxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2lkJykgPT09ICd4aWh1YW4nKXtcbiAgICAgICAgICAgICAgICBfdGhpcy5mYXYucmVuZGVyKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIGluZGV4ID09PSAxICYmICQoJy53YXRlcmZhbGwgaW1nJykubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgICAgICBuZXcgVXMoKS5pbml0KCkgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfSlcblxuICAgIH1cblxufVxuXG5cbmxldCBhcHAgPSBuZXcgQXBwKFxuICAgIHtcbiAgICAgICAgdG9wMjUwOm5ldyBUb3AyNTAoKSxcbiAgICAgICAgc2VhcmNoOm5ldyBTZWFyY2goKSxcbiAgICAgICAgZmF2Om5ldyBGYXZvcml0ZSgpLFxuICAgICAgICBkZXRhaWw6bmV3IERldGFpbCgpXG4gICAgICAgIFxuICAgIH1cbiAgICApLmluaXQoKVxuXG5cblxuXG5cblxuXG5cbiAiLCJpbXBvcnQge0V2ZW50X2h1YixnZW5lcmF0ZV9odG1sX3RtcCxsYXp5X2xvYWR9IGZyb20gJy4vY29tbW9uJ1xuXG5cbmNsYXNzIFRvcDI1MHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSAkKCcjdG9wMjUwJylcbiAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gZmFsc2UgLy9cbiAgICAgICAgdGhpcy5tb2l2ZV9pbmRleCA9IDBcbiAgICAgICAgdGhpcy5jbG9jayA9IG51bGxcbiAgICAgICAgdGhpcy5sYXp5X2xvYWRfdGltZV9pZCA9IG51bGxcbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcblxuICAgICAgICB0aGlzLmRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZG91YmFuX21vdmllcycpXG5cbiAgICB9XG4gICAgXG4gICAgaW5pdCgpe1xuXG4gICAgICAgIFxuICAgICAgICB0aGlzLmJpbmQoKVxuICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIGJpbmQoKXtcbiAgICAgICAgbGV0IF90aGlzID0gdGhpc1xuICAgICAgICBsZXQgJG1haW4gPSB0aGlzLiRjb250YWluZXIucGFyZW50cygnbWFpbicpXG4gICAgICAgIC8vIOa7muWKqOS6i+S7tlxuICAgICAgICAkbWFpbi5zY3JvbGwoKCk9PntcbiAgICAgICAgICAgIGlmKHRoaXMuJGNvbnRhaW5lci5wYXJlbnQoKS5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKXtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2xvY2spe1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jbG9jaylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbG9jayA9IHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy4kY29udGFpbmVyLmhlaWdodCgpIC0gNTAgPD0gJG1haW4uaGVpZ2h0KCkrJG1haW4uc2Nyb2xsVG9wKCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmu5rliqjliLDlupXpg6jvvIzlj5HotbfmlrDnmoTor7fmsYJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwzMDApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHRoaXMubGF6eV9sb2FkX3RpbWVfaWQpe1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmxhenlfbG9hZF90aW1lX2lkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXp5X2xvYWRfdGltZV9pZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBsYXp5X2xvYWQoKVxuICAgICAgICAgICAgfSw1MDApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFxuICAgICAgICB9KSAgXG5cbiAgICAgICAgLy/mlLbol49cbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5pY29uLXhpaHVhbicsZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBsZXQgbW92aWVfaXRlbSA9ICQodGhpcykucGFyZW50cygnLml0ZW0nKVxuICAgICAgICAgICAgbGV0IG1vdmllX2lkID0gbW92aWVfaXRlbS5kYXRhKCdtb3ZpZUlkJylcbiAgICAgICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdhY3RpdmUnKSApe1xuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRfaHViLmVtaXQoJ3VubGlrZScsbW92aWVfaWQpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICAgICAgIGxldCBtb3ZpZV9odG1sX3N0ciA9IG1vdmllX2l0ZW0ud3JhcCgnPHAvPicpLnBhcmVudCgpLmh0bWwoKVxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdsaWtlJyx7aWQ6bW92aWVfaWQsaHRtbDptb3ZpZV9odG1sX3N0cn0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICAgICAgfSlcblxuICAgICAgICAvL+aUtuiXj+mhtemdouWPlua2iOaUtuiXj+S6i+S7tlxuICAgICAgICB0aGlzLmV2ZW50X2h1Yi5vbignZmF2X3VubGlrZScsZnVuY3Rpb24obW92aWVfaWQpe1xuICAgICAgICAgICAgX3RoaXMuJGNvbnRhaW5lci5maW5kKGBbZGF0YS1tb3ZpZS1pZD0ke21vdmllX2lkfV0gLmljb24teGlodWFuYCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy/mn6XnnIvor6bmg4VcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsXCI6bm90KCcuaWNvbi14aWh1YW4nKVwiLGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgX3RoaXMuZXZlbnRfaHViLmVtaXQoJ3Nob3dfZGV0YWlsJywkKHRoaXMpLnBhcmVudHMoJy5pdGVtJykuZGF0YSgnbW92aWVJZCcpLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBcblxuICAgIH1cbiAgICBzdGFydCgpe1xuICAgICAgICB0aGlzLmdldERhdGEoKGRhdGEpPT57XG4gICAgICAgICAgICB0aGlzLnJlbmRlcihkYXRhKVxuICAgICAgICB9KVxuICAgIH1cbiAgICBcbiAgICBnZXREYXRhKGZuKXtcbiAgICAgICAgLy/ojrflj5bpobXpnaLmlbDmja5cbiAgICAgICAgaWYodGhpcy5pc19sb2RkaW5nKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2RkaW5n5Lit77yM5LiN6YeN5paw6K+35rGC5pWw5o2uJylcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuaXNfbG9kZGluZyA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKVxuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDonLy9hcGkuZG91YmFuLmNvbS92Mi9tb3ZpZS90b3AyNTAnLFxuICAgICAgICAgICAgICAgIHR5cGU6J0dFVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OnRoaXMubW9pdmVfaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OjIwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSkuZG9uZSgocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYLnlLXlvbHmlbDmja7miJDlip86JylcbiAgICAgICAgICAgICAgICBmbihyZXMpXG4gICAgICAgICAgICAgICAgdGhpcy5tb2l2ZV9pbmRleCArPSAyMFxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcylcbiAgICAgICAgICAgIH0pLmZhaWwoKHJlcyk9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2x5pWw5o2u5aSx6LSlOiAnKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykgICAgXG4gICAgICAgICAgICB9KS5hbHdheXMoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSBmYWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLmhpZGUoKVxuICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcmVuZGVyKGRhdGEpe1xuICAgICAgICBkYXRhLnN1YmplY3RzLmZvckVhY2goKG1vdmllKT0+e1xuICAgICAgICAgICAgIGxldCAkbm9kZSA9IGdlbmVyYXRlX2h0bWxfdG1wKG1vdmllLHRoaXMuZGF0YSlcbiAgICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCRub2RlKVxuICAgICAgICB9KVxuICAgICAgICBsYXp5X2xvYWQoKVxuICAgICAgICBcbiAgICB9XG59XG5cbmV4cG9ydCB7VG9wMjUwfSIsImltcG9ydCB7RXZlbnRfaHViLGdlbmVyYXRlX2h0bWxfdG1wLGxhenlfbG9hZH0gZnJvbSAnLi9jb21tb24nXG5cblxuY2xhc3MgU2VhcmNoe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKCcjc2VhcmNoJylcbiAgICAgICAgdGhpcy4kaW5wdXQgPSAkKCcjc2VhcmNoIGlucHV0JylcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnLnNlYXJjaC1yZXNsdXQgLmNvbnRhaW5lcicpXG4gICAgICAgIHRoaXMuZGF0YSA9ICgpPT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRvdWJhbl9tb3ZpZXNcIilcbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICB9XG4gICAgXG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLmJpbmQoKVxuICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgdGhpcy5rZXl3b3JkID0gbnVsbDtcblxuICAgIH1cbiAgICBcbiAgICBiaW5kKCl7XG5cbiAgICAgICAgbGV0IF90aGlzID0gdGhpc1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuaXRlbScsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdzaG93X2RldGFpbCcsJCh0aGlzKS5kYXRhKCdtb3ZpZUlkJykpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuYnV0dG9uJykuY2xpY2soKCk9PntcbiAgICAgICAgICAgIHRoaXMua2V5d29yZCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKS52YWwoKVxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgoZGF0YSk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcihkYXRhLHRoaXMuZGF0YSgpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvL+e7keWumuaUtuiXj+S6i+S7tlxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLmljb24teGlodWFuJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBpdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpXG4gICAgICAgICAgICBsZXQgbW92aWVfaWQgPSBpdGVtLmRhdGEoJ21vdmllSWQnKVxuICAgICAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pS26JeP5LitLi4uLlwiKVxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgndW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5rKh5pyJ5pS26JePLi4uXCIpXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgIGxldCBtb3ZpZV9odG1sX3N0ciA9IGl0ZW0ud3JhcCgnPHAvPicpLnBhcmVudCgpLmh0bWwoKVxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdsaWtlJyx7aWQ6bW92aWVfaWQsaHRtbDptb3ZpZV9odG1sX3N0cn0pXG5cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdmYXZfdW5saWtlJyxmdW5jdGlvbihtb3ZpZV9pZCl7XG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmZpbmQoYFtkYXRhLW1vdmllLWlkPSR7bW92aWVfaWR9XSAuaWNvbi14aWh1YW5gKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDmlLbol4/pobXpnaLlj5bmtojmlLbol4/kuovku7Yg5oiQ5YqfYClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDnu5Hlrprnoa7orqTkuovku7ZcbiAgICAgICAgdGhpcy4kaW5wdXQub24oJ2tleXByZXNzJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBrZXlfY29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgICAgIF90aGlzLmtleXdvcmQgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgaWYoa2V5X2NvZGUgPT09IDEzKXtcbiAgICAgICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREYXRhKChkYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXIoZGF0YSxfdGhpcy5kYXRhKCkpXG4gICAgICAgICAgICAgICAgfSkgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICB9XG4gICAgc3RhcnQoKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgZ2V0RGF0YShmbil7XG4gICAgICAgIC8v6I635Y+W6aG16Z2i5pWw5o2uXG4gICAgICAgIGlmKHRoaXMuaXNfbG9kZGluZyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbG9kZGluZ+S4re+8jOS4jemHjeaWsOivt+axguaVsOaNricpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTonanNvbnAnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcTp0aGlzLmtleXdvcmRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgICAgIGZuKHJlcylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruWksei0pTogJylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpICAgIFxuICAgICAgICAgICAgfSkuYWx3YXlzKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG4gICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKGRhdGEsbG9jYWxfZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUsbG9jYWxfZGF0YSlcbiAgICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCRub2RlKVxuICAgICAgICB9KVxuICAgICAgICBsYXp5X2xvYWQoKVxuICAgIH1cbn1cblxuZXhwb3J0IHtTZWFyY2h9XG4iLCJpbXBvcnQge0V2ZW50X2h1YixnZW5lcmF0ZV9odG1sX3RtcCxsYXp5X2xvYWR9IGZyb20gJy4vY29tbW9uJ1xuXG5cbmNsYXNzIEZhdm9yaXRlIHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnI2ZhdicpXG4gICAgICAgIHRoaXMubG9jYWxfc3RvcmFnZSA9IGxvY2FsU3RvcmFnZVxuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmxvY2FsX3N0b3JhZ2UuZ2V0SXRlbSgnZG91YmFuX21vdmllcycpXG4gICAgICAgIHRoaXMuZXZlbnRfaHViID0gRXZlbnRfaHViXG4gICAgfVxuICAgIGluaXQoKXtcbiAgICAgICAgY29uc29sZS5sb2coXCLliJ3lp4vljJZcIilcbiAgICAgICAgaWYodGhpcy5kYXRhID09PSBudWxsKXtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IFtdXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0aGlzLmRhdGEpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxuICAgIH1cbiAgICBiaW5kKCl7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcblxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLmljb24teGlodWFuJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+W5raI5Zac5qyiLi4uXCIpXG4gICAgICAgICAgICBsZXQgaXRlbSA9ICQodGhpcykucGFyZW50cygnLml0ZW0nKVxuICAgICAgICAgICAgbGV0IG1vdmllX2lkID0gaXRlbS5kYXRhKCdtb3ZpZUlkJylcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZV9tb3ZpZShtb3ZpZV9pZClcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdmYXZfdW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLml0ZW0nLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgnc2hvd19kZXRhaWwnLCQodGhpcykuZGF0YSgnbW92aWVJZCcpKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdsaWtlJyxmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDmiJHnm5HlkKzliLDkuoZsaWtl5LqL5Lu2Li4uYClcbiAgICAgICAgICAgIF90aGlzLmRhdGEudW5zaGlmdChkYXRhKVxuICAgICAgICAgICAgX3RoaXMubG9jYWxfc3RvcmFnZS5zZXRJdGVtKCdkb3ViYW5fbW92aWVzJyxKU09OLnN0cmluZ2lmeShfdGhpcy5kYXRhKSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmV2ZW50X2h1Yi5vbigndW5saWtlJyxmdW5jdGlvbihpZCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg5oiR55uR5ZCs5Yiw5LqGdW5saWtl5LqL5Lu2Li4uYClcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZV9tb3ZpZShpZClcblxuICAgICAgICB9KVxuXG4gICAgfVxuXG4gICAgcmVtb3ZlX21vdmllKGlkKXtcbiAgICAgICAgbGV0IG1vdmllX2luZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIGZvcihsZXQgW2luZGV4LG1vdmllXSBvZiB0aGlzLmRhdGEuZW50cmllcygpKXtcbiAgICAgICAgICAgICAgICBpZihtb3ZpZS5pZCA9PT0gaWQpe1xuICAgICAgICAgICAgICAgICAgICBtb3ZpZV9pbmRleCA9IGluZGV4XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhLnNwbGljZShtb3ZpZV9pbmRleCwxKVxuICAgICAgICB0aGlzLmxvY2FsX3N0b3JhZ2Uuc2V0SXRlbSgnZG91YmFuX21vdmllcycsSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSlcbiAgICAgICAgdGhpcy5yZW5kZXIoKVxuICAgIH1cbiAgICBcbiAgICByZW5kZXIoKXtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgaWYodGhpcy5kYXRhLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlxiXGLmmoLml6DmlLbol48uLi5cIilcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQoJCgnPHNwYW4gY2xhc3M9XCJuby1kYXRhXCI+XGLmmoLml6DmlLbol4/lk6YuLi48L3NwYW4+JykpXG5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBsZXQgbW92aWVfYXJyID0gdGhpcy5kYXRhXG4gICAgICAgICAgICBtb3ZpZV9hcnIuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCgkKG1vdmllLmh0bWwpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG59XG5cbmV4cG9ydCB7RmF2b3JpdGV9IiwiaW1wb3J0IHtFdmVudF9odWIsZ2VuZXJhdGVfaHRtbF90bXAsbGF6eV9sb2FkfSBmcm9tICcuL2NvbW1vbidcblxuY2xhc3MgRGV0YWlse1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJyNkZXRhaWwnKVxuICAgICAgICB0aGlzLiRoZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KClcbiAgICAgICAgdGhpcy4kd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKVxuICAgICAgICB0aGlzLiRsZWZ0ID0gdGhpcy4kY29udGFpbmVyLmNzcyh7bGVmdDp0aGlzLiR3aWR0aH0pXG4gICAgICAgIHRoaXMuZXZlbnRfaHViID0gRXZlbnRfaHViXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cblxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICB9XG5cbiAgICBiaW5kKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuY2xvc2UgYnV0dG9uJywoKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLlhbPpl63or6bmg4XpobUuLi5cIilcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5jc3Moe2xlZnQ6dGhpcy4kd2lkdGh9KVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5ldmVudF9odWIub24oJ3Nob3dfZGV0YWlsJywobW92aWVfaWQpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtb3ZpZV9pZClcbiAgICAgICAgICAgIGxldCB1cmwgPSBgLy9hcGkuZG91YmFuLmNvbS92Mi9tb3ZpZS9zdWJqZWN0LyR7bW92aWVfaWR9YFxuICAgICAgICAgICAgdGhpcy5nZXRfZGF0YSh1cmwsKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH0gIFxuICAgIFxuICAgIGdldF9kYXRhKHVybCxyZW5kZXIpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6dXJsLFxuICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgIGRhdGFUeXBlOidqc29ucCcsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgYXBpa2V5OicwYjJiZGVkYTQzYjU2ODg5MjE4MzljOGVjYjIwMzk5YidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2xXGLor6bmg4XmlbDmja7miJDlip8uJylcbiAgICAgICAgICAgIF90aGlzLmRhdGEgPSByZXNcbiAgICAgICAgICAgIF90aGlzLnJlbmRlcigpXG4gICAgICAgIH0pLmZhaWwoKHJlcyk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYLnlLXlvbFcYuivpuaDheaVsOaNruWksei0pS4nKVxuICAgICAgICAgICAgX3RoaXMuZGF0YSA9IHJlc1xuXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVuZGVyKCl7XG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5kYXRhXG4gICAgICAgIGxldCBtZXRhX2RpcmVjdG9ycyA9ICcnXG4gICAgICAgIGxldCBjZWxlYnJpdGllcyA9ICcnXG4gICAgICAgIGxldCBtZXRhX2Nhc3RzID0gJydcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgbGV0IGRpcmVjdG9ycyA9IGRhdGEuZGlyZWN0b3JzLm1hcCgoZGlyZWN0b3IpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGlyZWN0b3IpXG4gICAgICAgICAgICAgICAgbWV0YV9kaXJlY3RvcnMgKz0gZGlyZWN0b3IubmFtZSsnKOWvvOa8lCkgLyAnXG4gICAgICAgICAgICAgICAgY2VsZWJyaXRpZXMgKz0gYDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0ZXJcIiBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2RpcmVjdG9yLmF2YXRhcnMuc21hbGx9JylcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZVwiPiR7ZGlyZWN0b3IubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJvbGVcIj7lr7zmvJQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+YFxuICAgICAgICB9KVxuXG4gICAgICAgIGxldCBjYXN0cyA9IGRhdGEuY2FzdHMubWFwKChjYXN0KT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coY2FzdClcbiAgICAgICAgICAgIG1ldGFfY2FzdHMgKz0gY2FzdC5uYW1lKycgLyAnXG4gICAgICAgICAgICBjZWxlYnJpdGllcyArPSBgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3RlclwiIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7Y2FzdC5hdmF0YXJzLnNtYWxsfScpXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5hbWVcIj4ke2Nhc3QubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJvbGVcIj7mvJTlkZg8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+YFxuICAgICAgICB9KVxuXG4gICAgICAgIGxldCB0YWdzID0gZGF0YS50YWdzLm1hcCgodGFnKT0+e1xuICAgICAgICAgICAgcmV0dXJuIGA8bGkgY2xhc3M9XCJjaGFubmVsX3RhZ1wiPjxhIGhyZWY9XCJcIj4ke3RhZ308L2E+PC9saT5gXG4gICAgICAgIH0pXG5cblxuICAgICAgICBsZXQgbWV0YSA9IGAke2RhdGEuZHVyYXRpb25zWzBdKycgLyAnK2RhdGEuZ2VucmVzLmpvaW4oJyAvICcpKycgLyAnK21ldGFfZGlyZWN0b3JzK21ldGFfY2FzdHMrdGhpcy5kYXRhLnB1YmRhdGVzLmpvaW4oJyAvICcpfWBcblxuICAgICAgICBsZXQgdG1wID0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwibW92aWVfZGV0YWlsXCIgc3R5bGU9XCJoZWlnaHQ6JHt0aGlzLiRoZWlnaHR9cHhcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgPGgxPiR7ZGF0YS50aXRsZX08L2gxPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJqZWN0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInJhdHRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXJcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzcz1cInNjb3JlXCI+JHtkYXRhLnJhdGluZy5hdmVyYWdlfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY291bnRcIj4ke2RhdGEucmF0aW5nc19jb3VudH3kurror4Tku7c8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1ldGFcIj4ke21ldGF9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtkYXRhLmltYWdlcy5zbWFsbH1cIiBhbHQ9XCJcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYW5uZWxfdGFnc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDI+5omA5bGe6aKR6YGTPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0YWdzLmpvaW4oJycpfVxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRyb1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDI+JHtkYXRhLnRpdGxlfeeahOWJp+aDheeugOS7izwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiYmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtkYXRhLnN1bW1hcnl9ICBcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNlbGVicml0aWVzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMj7lvbHkuro8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAke2NlbGVicml0aWVzfSAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbG9zZVwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24+5YWz6ZetPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCh0bXApLmNzcyh7bGVmdDowfSlcbiAgICAgICAgY29uc29sZS5sb2coXCJkZXRhaWwg5riy5p+T5oiQ5YqfLi4uXCIpXG5cblxuICAgIH1cbn1cblxuXG5leHBvcnQge0RldGFpbH1cbiJdLCJzb3VyY2VSb290IjoiIn0=