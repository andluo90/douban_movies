!function(n){var t={};function e(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return n[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=n,e.c=t,e.d=function(n,t,i){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:i})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(i,o,function(t){return n[t]}.bind(null,o));return i},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=0)}([function(n,t,e){"use strict";e.r(t);e(1);if(!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)){let n=$(window).height()-50;$("main").css({height:n}),console.log("IOS上main的height已重置")}let i={events:{},on(n,t){void 0===this.events[n]&&(this.events[n]=[]),this.events[n].push(t)},emit(n,t){this.events[n].forEach(n=>{n.call(null,t)})}};function o(n,t){let e="";null!==t&&JSON.parse(t).forEach(t=>{n.id===t.id+""&&(e="active")});let{casts:i,directors:o}=n,a=[],s=[];i.forEach(n=>{a.push(n.name)}),o.forEach(n=>{s.push(n.name)});let r=`            <div class="item" data-movie-id=${n.id}>\n    <a href="#">\n        <div class="cover">\n            <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png" data-src = "${n.images.small}" alt="">\n        </div>\n        <div class="detail">\n            <h2>${n.title}</h2>\n            <div class="extra">\n                <span class="score">${n.rating.average}</span> / ${n.collect_count}收藏\n            </div>\n            <div class="extra">${n.year} / ${n.genres.join("、")}</div>\n            <div class="extra">导演：${s.join("、")}</div>\n            <div class="extra">主演：${a.join("、")}</div>\n            <span class="iconfont icon-xihuan ${e}"></span>\n\n        </div>\n    </a>\n</div>\n`;return $(r)}function a(){$(".cover img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))})}new class{constructor({top250:n,us:t,search:e,fav:i,detail:o}){this.$tabs=$("footer>div"),this.panels=$("section"),this.top250=n,this.us=t,this.search=e,this.fav=i,this.detail=o}init(){this.bind(),this.top250.init(),this.search.init(),this.fav.init(),this.detail.init()}bind(){let n=this;this.$tabs.click(function(){let t=$(this).index();n.panels.hide().eq(t).fadeIn(),$(this).addClass("active").siblings().removeClass("active"),"xihuan"===$(this).data("id")&&n.fav.render()})}}({top250:new class{constructor(){this.$container=$("#top250"),this.is_lodding=!1,this.moive_index=0,this.clock=null,this.lazy_load_time_id=null,this.event_hub=i,this.data=localStorage.getItem("douban_movies")}init(){this.bind(),this.start()}bind(){let n=this,t=this.$container.parents("main");t.scroll(()=>{"none"===this.$container.parent().css("display")||(this.clock&&clearTimeout(this.clock),this.clock=setTimeout(()=>{this.$container.height()-50<=t.height()+t.scrollTop()&&(console.log("滚动到底部，发起新的请求"),this.start())},300)),this.lazy_load_time_id&&clearTimeout(this.lazy_load_time_id),this.lazy_load_time_id=setTimeout(function(){a()},500)}),this.$container.on("click",".icon-xihuan",function(t){let e=$(this).parents(".item"),i=e.data("movieId");if($(this).hasClass("active"))$(this).removeClass("active"),n.event_hub.emit("unlike",i);else{$(this).addClass("active");let t=e.wrap("<p/>").parent().html();n.event_hub.emit("like",{id:i,html:t})}t.stopPropagation()}),this.event_hub.on("fav_unlike",function(t){n.$container.find(`[data-movie-id=${t}] .icon-xihuan`).removeClass("active")}),this.$container.on("click",":not('.icon-xihuan')",function(t){n.event_hub.emit("show_detail",$(this).parents(".item").data("movieId").toString()),t.stopPropagation()})}start(){this.getData(n=>{this.render(n)})}getData(n){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$container.parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/top250",type:"GET",dataType:"jsonp",data:{start:this.moive_index,count:20}}).done(t=>{console.log("请求电影数据成功:"),n(t),this.moive_index+=20,console.log(t)}).fail(n=>{console.log("请求电影数据失败: "),console.log(n)}).always(()=>{this.is_lodding=!1,this.$container.parent().find(".loading").hide()}))}render(n){n.subjects.forEach(n=>{let t=o(n,this.data);this.$container.append(t)}),a()}},us:new class{constructor(){this.$container=$("#us"),this.col_height_arr=[],this.img_width=$(".waterfall img").outerWidth(!0),this.col_Count=Math.floor($(".waterfall").width()/this.img_width);for(let n=0;n<this.col_Count;n++)this.col_height_arr[n]=0}init(){this.bind()}bind(){$(".waterfall img").on("load",function(){})}layout(n){}start(){this.getData(n=>{this.render(n)})}getData(n){$.ajax({url:"//api.douban.com/v2/movie/us_box",type:"GET",dataType:"jsonp"}).done(t=>{console.log("请求US电影数据成功:"),n(t),console.log(t)}).fail(n=>{console.log("请求电影数据失败: "),console.log(n)})}render(n){n.subjects.forEach(n=>{let t=o(n=n.subject);this.$container.append(t)})}},search:new class{constructor(){this.$element=$("#search"),this.$input=$("#search input"),this.$container=$(".search-reslut .container"),this.data=(()=>localStorage.getItem("douban_movies")),this.event_hub=i}init(){this.bind(),this.start(),this.keyword=null}bind(){let n=this;this.$element.find(".button").click(()=>{this.keyword=this.$element.find("input").val(),this.$container.empty(),this.getData(n=>{this.render(n,this.data())})}),this.$container.on("click",".icon-xihuan",function(){let t=$(this).parents(".item"),e=t.data("movieId");if($(this).hasClass("active"))console.log("收藏中...."),$(this).removeClass("active"),n.event_hub.emit("unlike",e);else{console.log("没有收藏..."),$(this).addClass("active");let i=t.wrap("<p/>").parent().html();n.event_hub.emit("like",{id:e,html:i})}}),this.event_hub.on("fav_unlike",function(t){n.$container.find(`[data-movie-id=${t}] .icon-xihuan`).removeClass("active"),console.log("收藏页面取消收藏事件 成功")}),this.$input.on("keypress",function(t){let e=t.keyCode;n.keyword=$(this).val(),13===e&&(n.$container.empty(),n.getData(t=>{n.render(t,n.data())}))})}start(){}getData(n){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$element.find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/search",type:"GET",dataType:"jsonp",data:{q:this.keyword}}).done(t=>{console.log("搜索电影数据成功:"),n(t),console.log(t)}).fail(n=>{console.log("搜索电影数据失败: "),console.log(n)}).always(()=>{this.is_lodding=!1,this.$element.find(".loading").hide()}))}render(n,t){n.subjects.forEach(n=>{let e=o(n,t);this.$container.append(e)}),a()}},fav:new class{constructor(){this.$container=$("#fav"),this.local_storage=localStorage,this.data=this.local_storage.getItem("douban_movies"),this.event_hub=i}init(){console.log("初始化"),null===this.data?this.data=[]:this.data=JSON.parse(this.data),this.bind(),this.render()}bind(){let n=this;this.$container.on("click",".icon-xihuan",function(){console.log("取消喜欢...");let t=$(this).parents(".item").data("movieId");n.remove_movie(t),n.event_hub.emit("fav_unlike",t)}),this.event_hub.on("like",function(t){console.log("我监听到了like事件..."),n.data.unshift(t),n.local_storage.setItem("douban_movies",JSON.stringify(n.data))}),this.event_hub.on("unlike",function(t){console.log("我监听到了unlike事件..."),n.remove_movie(t)})}remove_movie(n){let t=null;for(let[e,i]of this.data.entries())if(i.id===n){t=e;break}this.data.splice(t,1),this.local_storage.setItem("douban_movies",JSON.stringify(this.data)),this.render()}render(){this.$container.empty(),0===this.data.length?(console.log("\b\b暂无收藏..."),this.$container.append($('<span class="no-data">\b暂无收藏哦...</span>'))):this.data.forEach(n=>{this.$container.append($(n.html))})}},detail:new class{constructor(){this.$container=$("#detail"),this.event_hub=i,this.data=null}init(){this.bind()}bind(){this.$container.on("click",".close button",()=>{console.log("关闭详情页..."),this.$container.fadeOut()}),this.event_hub.on("show_detail",n=>{console.log(n);let t=`//api.douban.com/v2/movie/subject/${n}`;this.get_data(t,()=>{this.render()})})}get_data(n,t){let e=this;$.ajax({url:n,type:"GET",dataType:"jsonp",data:{apikey:"0b2bdeda43b5688921839c8ecb20399b"}}).done(n=>{console.log("请求电影\b详情数据成功."),e.data=n,e.render()}).fail(n=>{console.log("请求电影\b详情数据失败."),e.data=n})}render(){let n=this.data,t="",e="",i="";console.log(n),n.directors.map(n=>{console.log(n),t+=n.name+"(导演) / ",e+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${n.avatars.small}')"></div>\n                                    <span class="name">${n.name}</span>\n                                    <span class="role">导演</span>\n                                </li>`}),n.casts.map(n=>{console.log(n),i+=n.name+" / ",e+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${n.avatars.small}')"></div>\n                                    <span class="name">${n.name}</span>\n                                    <span class="role">演员</span>\n                                </li>`});let o=n.tags.map(n=>`<li class="channel_tag"><a href="">${n}</a></li>`),a=`${n.durations[0]+" / "+n.genres.join(" / ")+" / "+t+i+this.data.pubdates.join(" / ")}`,s=`\n        <div class="movie_detail">\n            <div class="card">\n                <h1>${n.title}</h1>\n                <div class="subject">\n                    <div class="left">\n                        <p class="ratting">\n                            <span class="star"></span>\n                            <strong class="score">${n.rating.average}</strong>\n                            <span class="count">${n.ratings_count}人评价</span>\n                        </p>\n                        <p class="meta">${a}\n                        </p>\n                    </div>\n                    <div class="right">\n                        <img src="${n.images.small}" alt="">\n                    </div>\n                </div>\n                <div class="channel_tags">\n                    <h2>所属频道</h2>\n                    <ul>\n                        ${o.join("")}\n                    </ul>\n                </div>\n                <div class="intro">\n                    <h2>${n.title}的剧情简介</h2>\n                    <p class="bd">\n                          ${n.summary}  \n                    </p>\n\n                </div>\n                <div class="celebrities">\n                    <h2>影人</h2>\n                    <ul>\n                        ${e}        \n                    </ul>\n                </div>\n            </div>\n            <div class="close">\n                <button>关闭</button>\n            </div>\n        </div>\n        `;this.$container.empty(),this.$container.append(s).fadeIn(),console.log("detail 渲染成功...")}}}).init();function s(n){let t=[70,80,90,120];n.subjects.forEach(n=>{let e=`\n         <div class="img-wrap">\n            <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png" data-src = "${n.images.small}" alt="">\n            <span class="score">${Number(n.rating.average).toFixed(1)}<span>\n         </div>\n         `,i=$(e);i.find("img").css("height",t[Math.floor(4*Math.random())]),$(".waterfall").append(i)}),function(){let n=[],t=$(".waterfall .img-wrap").outerWidth(!0),e=Math.floor($(".waterfall").width()/t);for(let t=0;t<e;t++)n[t]=0;console.log(`${n} ${t} ${e}`),$(".waterfall .img-wrap").each(function(){let e=Math.min(...n),i=n.indexOf(e);$(this).css({left:i*t,top:e}),n[i]+=$(this).outerHeight(!0)}),$(".waterfall img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))});let i=$(".waterfall .img-wrap").parents("section").outerWidth(!0),o=$(".waterfall .img-wrap").eq(0).outerWidth(!0)*e,a=Math.floor((i-o)/2);$(".waterfall .img-wrap").parents("section").css({"padding-left":a,"padding-top":a}),console.log(`padding-left is ${a}`)}()}$("footer>div").eq(1).click(()=>{0===$(".waterfall img").length&&function(n){$(".waterfall").parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/in_theaters",type:"GET",dataType:"jsonp"}).done(t=>{n(t),console.log(t)}).fail(n=>{console.log("请求电影数据失败: "),console.log(n)}).always(()=>{$(".waterfall").parent().find(".loading").hide()})}(s)})},function(n,t,e){var i=e(2);"string"==typeof i&&(i=[[n.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(4)(i,o);i.locals&&(n.exports=i.locals)},function(n,t,e){(n.exports=e(3)(!1)).push([n.i,'\n* {\n    margin:0;\n    padding:0;\n    box-sizing: border-box;\n}\n\na {\n    text-decoration: none;\n    color:#333;\n}\n\nul li {\n    list-style: none;\n}\n\nbody {\n    font-size: 12px;\n    line-height: 1.2;\n    background-color:#fff;\n    font-family: "Helvetica Neue",Helvetica,Roboto,Arial,sans-serif;\n}\n\nmain {\n    height: calc(100vh - 50px);\n    overflow:scroll;\n    -webkit-overflow-scrolling: touch;\n}\n\nmain > section {\n    padding:10px;\n    display: none;\n}\nmain > section:first-child {\n    display: block;\n}\n\n\n.item {\n    border-bottom: 1px solid #ccc;\n    padding-bottom:10px;\n    padding-top:10px;\n}\n\n.item>a {\n    display: block;\n    display: flex;\n}\n\n.item>a .cover, .item>a img {\n    width:70px;\n}\n\n.item .detail {\n    padding-left:10px;\n    flex:1;\n}\n\n.item .detail h2 {\n    font-size: 16px;\n}\n\n.item .detail .extra {\n    color:#999;\n    margin-top:4px;\n}\n\n.item .detail .score {\n    color:#ff5722;\n    margin-right:8px;\n}\n\n.loading .iconfont {\n    display: inline-block;\n    font-size: 3em;\n    color:lightpink;\n    animation: 1s rotate linear infinite;\n\n}\n\n.loading {\n    padding:5px;\n    text-align: center;\n    display: none;\n}\n\n\nsection .search-area {\n    color: #333;\n    padding-bottom: 10px;\n    border-bottom: 1px solid #ccc;\n    position: relative;\n}\n\nsection .search-area input {\n    width: calc(100% - 50px);\n    padding: 8px;\n    background-color: #eee;\n    border: none;\n    border-radius: 2px;\n    box-shadow: none;\n    outline: none;\n}\n\nsection .search-area .button {\n    position: absolute;\n    right: 0;\n    padding: 8px 10px;\n    background: #FF5722;\n    color: #fff;\n    border-radius: 2px;\n    cursor: pointer;\n}\n\nsection #us {\n    position: relative;\n}\n\n/* section #us img {\n    width:80px;\n    margin: 2px;\n    position: absolute;\n}  */\n\n/* 添加评分 */\nsection #us .img-wrap {\n    width:80px;\n    margin: 2px;\n    display: inline-block;\n    position: absolute;\n}\n\nsection #us img {\n    width:80px;\n}  \nsection #us .score {\n    font-size: .9em;\n    font-weight: 300;\n    right: 2px;\n    bottom: 4px;\n    color: white;\n    position: absolute;\n    background: #ff5722;\n    border-radius: 50%;\n    opacity: .8;\n    padding: 4px;\n}\n\n/* 添加收藏 */\nsection .icon-xihuan {\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-70%);\n    font-size: 2.1em;\n}\n\nsection .icon-xihuan.active {\n    color:red;\n}\n\nsection .no-data {\n    position: absolute;\n    font-size: 1.3em;\n    color: grey;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-250%);\n}\n\n/* 添加收藏结束 */\n\nsection .item .detail {\n    position: relative;\n}\n\n/* 添加评分 结束*/\n\n\n@keyframes rotate {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform:rotate(360deg);\n    }\n}\n\nfooter {\n    height: 50px;\n    border-top:1px solid #ccc;\n    display: flex;\n    \n}\n\nfooter .active {\n    color:#ff5722;\n}\n\nfooter>div {\n    flex:1;\n    text-align: center;\n}\n\nfooter>div>span {\n    display: block;\n    padding-top:5px;\n}\n\n/* \n电影详情\n*/\n\n#detail {\n    background: rgba(0,0,0,0.4);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    display: none;\n}\n\n#detail .movie_detail {\n    height: 100%;\n    margin: 30px 10px 50px 10px;\n    background: white;\n}\n\n#detail .card {\n    padding:0 15px;\n}\n\n#detail .subject {\n    display: flex;\n}\n\n#detail .left {\n    width: calc(100% - 100px);\n}\n\n#detail .right {\n    width: 100px;\n    height: 110px;\n    /* outline: 1px solid red; */\n}\n\n#detail .right img {\n    width:100px;\n}\n\n#detail .channel_tags{\n    margin-bottom: 30px\n    \n}\n\n#detail h2 {\n    color: #aaa;\n    margin: 0 0 15px;\n    font-size: 15px;\n}\n\n#detail h1,#detail h2,#detail h3 {\n    font-wight:normal;\n}\n\n\n\n \n\n#detail h1 {\n    padding-top: 20px;\n    padding-bottom: 5px;\n    font-weight: 400;\n    color: rgb(17,17,17);\n}\n\n#detail .score {\n    color:rgb(73,73,73)\n}\n\n#detail .count {\n    color:rgb(170,170,170)\n}\n\n#detail .meta {\n    font-size: 14px;\n    color:rgb(73,73,73);\n    line-height: 22.4px;\n    padding-right: 20px;\n    margin-top: 10px;\n    margin-bottom: 30px;\n    \n}\n\n#detail .channel_tag {\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    display: inline-block;\n    margin-right: 10px;\n    font-size: 13px;\n    padding: 5px 10px;\n    border-radius: 15px;\n    margin-bottom: 10px;\n}\n\n#detail a {\n  color:#42bd56   \n}\n\n#detail .bd {\n    font-size: 15px;\n    color: #494949;\n    margin-bottom: 30px;\n}\n\n#detail .celebrities ul {\n    overflow: auto;\n    white-space:nowrap;\n}\n\n#detail .celebrities li {\n    display: inline-block;\n    width: 75px;\n    margin-right:8px;\n}\n\n\n#detail .celebrities .poster {\n    width: 100%;\n    height: 130px;\n    background-size: cover;\n    background-position: center;\n    /* outline: 1px solid pink; */\n    \n}\n\n#detail .celebrities .name , #detail .celebrities .role {\n    margin-top:8px;\n    display: block;\n    text-align: center;\n}\n\n#detail .close {\n    margin:30px 0;\n    text-align: center;\n}\n\n#detail .close button {\n    color: #42bd56;\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    font-size: 14px;\n    padding: 5px 16px;\n    border-radius: 15px;\n}\n\n\n\n\n\n',""])},function(n,t,e){"use strict";n.exports=function(n){var t=[];return t.toString=function(){return this.map(function(t){var e=function(n,t){var e=n[1]||"",i=n[3];if(!i)return e;if(t&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),a=i.sources.map(function(n){return"/*# sourceURL="+i.sourceRoot+n+" */"});return[e].concat(a).concat([o]).join("\n")}var s;return[e].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var i={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(o=0;o<n.length;o++){var s=n[o];null!=s[0]&&i[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),t.push(s))}},t}},function(n,t,e){var i,o,a={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),r=function(n){var t={};return function(n,e){if("function"==typeof n)return n();if(void 0===t[n]){var i=function(n,t){return t?t.querySelector(n):document.querySelector(n)}.call(this,n,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(n){i=null}t[n]=i}return t[n]}}(),l=null,c=0,d=[],h=e(5);function p(n,t){for(var e=0;e<n.length;e++){var i=n[e],o=a[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(b(i.parts[s],t))}else{var r=[];for(s=0;s<i.parts.length;s++)r.push(b(i.parts[s],t));a[i.id]={id:i.id,refs:1,parts:r}}}}function u(n,t){for(var e=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.base?a[0]+t.base:a[0],r={css:a[1],media:a[2],sourceMap:a[3]};i[s]?i[s].parts.push(r):e.push(i[s]={id:s,parts:[r]})}return e}function f(n,t){var e=r(n.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===n.insertAt)i?i.nextSibling?e.insertBefore(t,i.nextSibling):e.appendChild(t):e.insertBefore(t,e.firstChild),d.push(t);else if("bottom"===n.insertAt)e.appendChild(t);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(n.insertAt.before,e);e.insertBefore(t,o)}}function g(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var t=d.indexOf(n);t>=0&&d.splice(t,1)}function m(n){var t=document.createElement("style");if(void 0===n.attrs.type&&(n.attrs.type="text/css"),void 0===n.attrs.nonce){var i=function(){0;return e.nc}();i&&(n.attrs.nonce=i)}return v(t,n.attrs),f(n,t),t}function v(n,t){Object.keys(t).forEach(function(e){n.setAttribute(e,t[e])})}function b(n,t){var e,i,o,a;if(t.transform&&n.css){if(!(a="function"==typeof t.transform?t.transform(n.css):t.transform.default(n.css)))return function(){};n.css=a}if(t.singleton){var s=c++;e=l||(l=m(t)),i=y.bind(null,e,s,!1),o=y.bind(null,e,s,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(n){var t=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",v(t,n.attrs),f(n,t),t}(t),i=function(n,t,e){var i=e.css,o=e.sourceMap,a=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||a)&&(i=h(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),r=n.href;n.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,e,t),o=function(){g(e),e.href&&URL.revokeObjectURL(e.href)}):(e=m(t),i=function(n,t){var e=t.css,i=t.media;i&&n.setAttribute("media",i);if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}.bind(null,e),o=function(){g(e)});return i(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;i(n=t)}else o()}}n.exports=function(n,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var e=u(n,t);return p(e,t),function(n){for(var i=[],o=0;o<e.length;o++){var s=e[o];(r=a[s.id]).refs--,i.push(r)}n&&p(u(n,t),t);for(o=0;o<i.length;o++){var r;if(0===(r=i[o]).refs){for(var l=0;l<r.parts.length;l++)r.parts[l]();delete a[r.id]}}}};var $,x=($=[],function(n,t){return $[n]=t,$.filter(Boolean).join("\n")});function y(n,t,e,i){var o=e?"":i.css;if(n.styleSheet)n.styleSheet.cssText=x(t,o);else{var a=document.createTextNode(o),s=n.childNodes;s[t]&&n.removeChild(s[t]),s.length?n.insertBefore(a,s[t]):n.appendChild(a)}}},function(n,t){n.exports=function(n){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var e=t.protocol+"//"+t.host,i=e+t.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,t){var o,a=t.trim().replace(/^"(.*)"$/,function(n,t){return t}).replace(/^'(.*)'$/,function(n,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?n:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?e+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vY3NzL3N0eWxlLmNzcz9mNjhjIiwid2VicGFjazovLy8uL2Nzcy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaCIsIm1haW5faGVpZ2h0IiwiJCIsIndpbmRvdyIsImhlaWdodCIsImNzcyIsImNvbnNvbGUiLCJsb2ciLCJFdmVudF9odWIiLCJldmVudHMiLCJbb2JqZWN0IE9iamVjdF0iLCJ0eXBlIiwiZm4iLCJ1bmRlZmluZWQiLCJ0aGlzIiwicHVzaCIsImRhdGEiLCJmb3JFYWNoIiwiZ2VuZXJhdGVfaHRtbF90bXAiLCJtb3ZpZSIsImxvY2FsX2RhdGEiLCJzdGF0dXMiLCJKU09OIiwicGFyc2UiLCJpZCIsImNhc3RzIiwiZGlyZWN0b3JzIiwiY2FzdF9uYW1lX2FyciIsImRpcmVjdG9yX25hbWVfYXJyIiwiY2FzdCIsImRpcmVjdG9yIiwidG1wIiwiaW1hZ2VzIiwic21hbGwiLCJ0aXRsZSIsInJhdGluZyIsImF2ZXJhZ2UiLCJjb2xsZWN0X2NvdW50IiwieWVhciIsImdlbnJlcyIsImpvaW4iLCJsYXp5X2xvYWQiLCJub3QiLCJlYWNoIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiYXR0ciIsInRvcDI1MCIsInVzIiwic2VhcmNoIiwiZmF2IiwiZGV0YWlsIiwiJHRhYnMiLCJwYW5lbHMiLCJpbml0IiwiX3RoaXMiLCJjbGljayIsImluZGV4IiwiaGlkZSIsImVxIiwiZmFkZUluIiwiYWRkQ2xhc3MiLCJzaWJsaW5ncyIsInJlbW92ZUNsYXNzIiwicmVuZGVyIiwiJGNvbnRhaW5lciIsImlzX2xvZGRpbmciLCJtb2l2ZV9pbmRleCIsImNsb2NrIiwibGF6eV9sb2FkX3RpbWVfaWQiLCJldmVudF9odWIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RhcnQiLCIkbWFpbiIsInBhcmVudHMiLCJzY3JvbGwiLCJwYXJlbnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib24iLCJlIiwibW92aWVfaXRlbSIsIm1vdmllX2lkIiwiaGFzQ2xhc3MiLCJlbWl0IiwibW92aWVfaHRtbF9zdHIiLCJ3cmFwIiwiaHRtbCIsInN0b3BQcm9wYWdhdGlvbiIsImZpbmQiLCJ0b1N0cmluZyIsImdldERhdGEiLCJzaG93IiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiY291bnQiLCJkb25lIiwicmVzIiwiZmFpbCIsImFsd2F5cyIsInN1YmplY3RzIiwiJG5vZGUiLCJhcHBlbmQiLCJjb2xfaGVpZ2h0X2FyciIsImltZ193aWR0aCIsIm91dGVyV2lkdGgiLCJjb2xfQ291bnQiLCJNYXRoIiwiZmxvb3IiLCJ3aWR0aCIsInN1YmplY3QiLCIkZWxlbWVudCIsIiRpbnB1dCIsImtleXdvcmQiLCJ2YWwiLCJlbXB0eSIsIml0ZW0iLCJrZXlfY29kZSIsImtleUNvZGUiLCJxIiwibG9jYWxfc3RvcmFnZSIsInJlbW92ZV9tb3ZpZSIsInVuc2hpZnQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwibW92aWVfaW5kZXgiLCJlbnRyaWVzIiwic3BsaWNlIiwibGVuZ3RoIiwiZmFkZU91dCIsImdldF9kYXRhIiwiYXBpa2V5IiwibWV0YV9kaXJlY3RvcnMiLCJjZWxlYnJpdGllcyIsIm1ldGFfY2FzdHMiLCJtYXAiLCJhdmF0YXJzIiwidGFncyIsInRhZyIsIm1ldGEiLCJkdXJhdGlvbnMiLCJwdWJkYXRlcyIsInJhdGluZ3NfY291bnQiLCJzdW1tYXJ5IiwiaGVpZ2h0X2FyciIsIk51bWJlciIsInRvRml4ZWQiLCIkZWxlbW5ldCIsInJhbmRvbSIsImNvbEhlaWdodEFycmF5IiwiaW1nV2lkdGgiLCJjb2xDb3VudCIsIm1pbl92YWx1ZSIsIm1pbiIsIm1pbl9pbmRleCIsImluZGV4T2YiLCJsZWZ0Iiwib3V0ZXJIZWlnaHQiLCJ0b3RhbF93aWR0aCIsImltZ3Nfd2lkdGgiLCJwYWRkaW5nIiwicGFkZGluZy1sZWZ0IiwicGFkZGluZy10b3AiLCJsYXlvdXQiLCJjb250ZW50Iiwib3B0aW9ucyIsImhtciIsInRyYW5zZm9ybSIsImluc2VydEludG8iLCJsb2NhbHMiLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjb25jYXQiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsIkVycm9yIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwibm9uY2UiLCJuYyIsImdldE5vbmNlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJkZWZhdWx0Iiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwicmVwbGFjZSIsImZ1bGxNYXRjaCIsIm9yaWdVcmwiLCJuZXdVcmwiLCJ1bnF1b3RlZE9yaWdVcmwiLCJ0cmltIiwiJDEiLCJ0ZXN0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8s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RSxlQUFBcFEsR0FDQStRLEVBQUF2RCxFQUFBdUQsV0FFQUEsRUFBQTFOLElBQUFtSyxFQUFBVyxZQUFBNEMsRUFBQTFOLElBRUEwTixFQUFBakosT0FDQTBGLEVBQUFLLGFBQUFpRCxFQUFBQyxFQUFBMU4sSUFFQW1LLEVBQUFNLFlBQUFnRCxvQkM3VUF2VCxFQUFBRCxRQUFBLFNBQUEwQyxHQUVBLElBQUFnUixFQUFBLG9CQUFBbFIsZUFBQWtSLFNBRUEsSUFBQUEsRUFDQSxVQUFBdkQsTUFBQSxvQ0FJQSxJQUFBek4sR0FBQSxpQkFBQUEsRUFDQSxPQUFBQSxFQUdBLElBQUFpUixFQUFBRCxFQUFBRSxTQUFBLEtBQUFGLEVBQUFHLEtBQ0FDLEVBQUFILEVBQUFELEVBQUFLLFNBQUFDLFFBQUEsaUJBMkRBLE9BL0JBdFIsRUFBQXNSLFFBQUEsK0RBQUFDLEVBQUFDLEdBRUEsSUFXQUMsRUFYQUMsRUFBQUYsRUFDQUcsT0FDQUwsUUFBQSxvQkFBQXJULEVBQUEyVCxHQUF3QyxPQUFBQSxJQUN4Q04sUUFBQSxvQkFBQXJULEVBQUEyVCxHQUF3QyxPQUFBQSxJQUd4QywwREFBQUMsS0FBQUgsR0FDQUgsR0FRQUUsRUFGQSxJQUFBQyxFQUFBakksUUFBQSxNQUVBaUksRUFDRyxJQUFBQSxFQUFBakksUUFBQSxLQUVId0gsRUFBQVMsRUFHQU4sRUFBQU0sRUFBQUosUUFBQSxZQUlBLE9BQUFyUSxLQUFBeUcsVUFBQStKLEdBQUEiLCJmaWxlIjoiYXBwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCAnLi9jc3Mvc3R5bGUuY3NzJ1xuXG5cbntcbiAgICAvLyAvLyBcYlxi5L+u5aSNSU9T5LiKVkjnmoRidWdcbiAgICBsZXQgaU9TID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQYWR8aVBob25lfGlQb2QpL2cpID8gdHJ1ZTpmYWxzZTtcbiAgICBpZihpT1Mpe1xuICAgICAgICBsZXQgbWFpbl9oZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCkgLSA1MFxuICAgICAgICAkKCdtYWluJykuY3NzKHtoZWlnaHQ6bWFpbl9oZWlnaHR9KVxuICAgICAgICBjb25zb2xlLmxvZyhcIklPU+S4im1haW7nmoRoZWlnaHTlt7Lph43nva5cIilcbiAgICB9XG59XG5cbmxldCBFdmVudF9odWI9IHtcbiAgICBldmVudHMgOiB7fSxcbiAgICBvbih0eXBlLGZuKXtcbiAgICAgICAgaWYodGhpcy5ldmVudHNbdHlwZV0gPT09ICB1bmRlZmluZWQpe1xuICAgICAgICAgICAgdGhpcy5ldmVudHNbdHlwZV0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzW3R5cGVdLnB1c2goZm4pXG4gICAgfSxcbiAgICBlbWl0KHR5cGUsZGF0YSl7XG4gICAgICAgIHRoaXMuZXZlbnRzW3R5cGVdLmZvckVhY2goKGZuKT0+e1xuICAgICAgICAgICAgZm4uY2FsbChudWxsLGRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGdlbmVyYXRlX2h0bWxfdG1wKG1vdmllLGxvY2FsX2RhdGEpe1xuICAgIC8vIOWkhOeQhueUteW9sWpzb27moLzlvI/mlbDmja7vvIznlJ/miJBodG1s5qih5p2/5a2X56ym5LiyXG4gICAgbGV0IHN0YXR1cyA9IFwiXCJcbiAgICBpZihsb2NhbF9kYXRhICE9PSAgbnVsbCl7XG4gICAgICAgIEpTT04ucGFyc2UobG9jYWxfZGF0YSkuZm9yRWFjaCgobSk9PntcbiAgICAgICAgICAgIGlmKG1vdmllLmlkID09PSBtLmlkKycnKXtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSAnYWN0aXZlJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBsZXQge2Nhc3RzLGRpcmVjdG9yc30gPSBtb3ZpZVxuICAgIGxldCBjYXN0X25hbWVfYXJyID0gW11cbiAgICBsZXQgZGlyZWN0b3JfbmFtZV9hcnIgPSBbXVxuICAgIGNhc3RzLmZvckVhY2goKGNhc3QpPT57XG4gICAgICAgIGNhc3RfbmFtZV9hcnIucHVzaChjYXN0Lm5hbWUpXG4gICAgfSlcbiAgICBkaXJlY3RvcnMuZm9yRWFjaCgoZGlyZWN0b3IpPT57XG4gICAgICAgIGRpcmVjdG9yX25hbWVfYXJyLnB1c2goZGlyZWN0b3IubmFtZSlcbiAgICB9KVxuXG4gICAgbGV0IHRtcCA9IGAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbW92aWUtaWQ9JHttb3ZpZS5pZH0+XG4gICAgPGEgaHJlZj1cIiNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvdmVyXCI+XG4gICAgICAgICAgICA8aW1nIHNyYz1cImh0dHA6Ly9pbWczLmRvdWJhbmlvLmNvbS9mL21vdmllL2I2ZGM3NjFmNWU0Y2YwNDAzMmZhYTk2OTgyNjk4NmVmYmVjZDU0YmIvcGljcy9tb3ZpZS9tb3ZpZV9kZWZhdWx0X3NtYWxsLnBuZ1wiIGRhdGEtc3JjID0gXCIke21vdmllLmltYWdlcy5zbWFsbH1cIiBhbHQ9XCJcIj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZXRhaWxcIj5cbiAgICAgICAgICAgIDxoMj4ke21vdmllLnRpdGxlfTwvaDI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXh0cmFcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNjb3JlXCI+JHttb3ZpZS5yYXRpbmcuYXZlcmFnZX08L3NwYW4+IC8gJHttb3ZpZS5jb2xsZWN0X2NvdW50feaUtuiXj1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXh0cmFcIj4ke21vdmllLnllYXJ9IC8gJHttb3ZpZS5nZW5yZXMuam9pbign44CBJyl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXh0cmFcIj7lr7zmvJTvvJoke2RpcmVjdG9yX25hbWVfYXJyLmpvaW4oJ+OAgScpfTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4dHJhXCI+5Li75ryU77yaJHtjYXN0X25hbWVfYXJyLmpvaW4oJ+OAgScpfTwvZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpY29uZm9udCBpY29uLXhpaHVhbiAke3N0YXR1c31cIj48L3NwYW4+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9hPlxuPC9kaXY+XG5gXG4gICAgcmV0dXJuICQodG1wKVxufVxuXG5mdW5jdGlvbiBsYXp5X2xvYWQoKXtcbiAgICAvLyDmh5LliqDovb1cbiAgICAkKCcuY292ZXIgaW1nJykubm90KCdbZGF0YS1pc0xvYWRlZF0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCAkKCdtYWluJykuaGVpZ2h0KCkrJCgnbWFpbicpLnNjcm9sbFRvcCgpID4gJCh0aGlzKS5vZmZzZXQoKS50b3AgKXtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignc3JjJywkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJykpXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXNMb2FkZWQnLDEpXG4gICAgICAgIH1cbiAgICB9KVxufVxuXG5cblxuY2xhc3MgVG9wMjUwe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJyN0b3AyNTAnKVxuICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSBmYWxzZSAvL1xuICAgICAgICB0aGlzLm1vaXZlX2luZGV4ID0gMFxuICAgICAgICB0aGlzLmNsb2NrID0gbnVsbFxuICAgICAgICB0aGlzLmxhenlfbG9hZF90aW1lX2lkID0gbnVsbFxuICAgICAgICB0aGlzLmV2ZW50X2h1YiA9IEV2ZW50X2h1YlxuXG4gICAgICAgIHRoaXMuZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdkb3ViYW5fbW92aWVzJylcblxuICAgIH1cbiAgICBcbiAgICBpbml0KCl7XG5cbiAgICAgICAgXG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICAgIHRoaXMuc3RhcnQoKVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgYmluZCgpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzXG4gICAgICAgIGxldCAkbWFpbiA9IHRoaXMuJGNvbnRhaW5lci5wYXJlbnRzKCdtYWluJylcbiAgICAgICAgLy8g5rua5Yqo5LqL5Lu2XG4gICAgICAgICRtYWluLnNjcm9sbCgoKT0+e1xuICAgICAgICAgICAgaWYodGhpcy4kY29udGFpbmVyLnBhcmVudCgpLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpe1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5jbG9jayl7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsb2NrKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNsb2NrID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLiRjb250YWluZXIuaGVpZ2h0KCkgLSA1MCA8PSAkbWFpbi5oZWlnaHQoKSskbWFpbi5zY3JvbGxUb3AoKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIua7muWKqOWIsOW6lemDqO+8jOWPkei1t+aWsOeahOivt+axglwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LDMwMClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5sYXp5X2xvYWRfdGltZV9pZCl7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubGF6eV9sb2FkX3RpbWVfaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhenlfbG9hZF90aW1lX2lkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGxhenlfbG9hZCgpXG4gICAgICAgICAgICB9LDUwMClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH0pICBcblxuICAgICAgICAvL+aUtuiXj1xuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLmljb24teGlodWFuJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBtb3ZpZV9pdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpXG4gICAgICAgICAgICBsZXQgbW92aWVfaWQgPSBtb3ZpZV9pdGVtLmRhdGEoJ21vdmllSWQnKVxuICAgICAgICAgICAgaWYoICQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpICl7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgndW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgICAgICAgbGV0IG1vdmllX2h0bWxfc3RyID0gbW92aWVfaXRlbS53cmFwKCc8cC8+JykucGFyZW50KCkuaHRtbCgpXG4gICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRfaHViLmVtaXQoJ2xpa2UnLHtpZDptb3ZpZV9pZCxodG1sOm1vdmllX2h0bWxfc3RyfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgICB9KVxuXG4gICAgICAgIC8v5pS26JeP6aG16Z2i5Y+W5raI5pS26JeP5LqL5Lu2XG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdmYXZfdW5saWtlJyxmdW5jdGlvbihtb3ZpZV9pZCl7XG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmZpbmQoYFtkYXRhLW1vdmllLWlkPSR7bW92aWVfaWR9XSAuaWNvbi14aWh1YW5gKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgfSlcblxuICAgICAgICAvL+afpeeci+ivpuaDhVxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJyxcIjpub3QoJy5pY29uLXhpaHVhbicpXCIsZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgnc2hvd19kZXRhaWwnLCQodGhpcykucGFyZW50cygnLml0ZW0nKS5kYXRhKCdtb3ZpZUlkJykudG9TdHJpbmcoKSlcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIFxuXG4gICAgfVxuICAgIHN0YXJ0KCl7XG4gICAgICAgIHRoaXMuZ2V0RGF0YSgoZGF0YSk9PntcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKGRhdGEpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIGdldERhdGEoZm4pe1xuICAgICAgICAvL+iOt+WPlumhtemdouaVsOaNrlxuICAgICAgICBpZih0aGlzLmlzX2xvZGRpbmcpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2xvZGRpbmfkuK3vvIzkuI3ph43mlrDor7fmsYLmlbDmja4nKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3RvcDI1MCcsXG4gICAgICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTonanNvbnAnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6dGhpcy5tb2l2ZV9pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6MjBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgICAgIGZuKHJlcylcbiAgICAgICAgICAgICAgICB0aGlzLm1vaXZlX2luZGV4ICs9IDIwXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICAgICAgfSkuZmFpbCgocmVzKT0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYLnlLXlvbHmlbDmja7lpLHotKU6ICcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKSAgICBcbiAgICAgICAgICAgIH0pLmFsd2F5cygoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuaXNfbG9kZGluZyA9IGZhbHNlXG4gICAgICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG4gICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICByZW5kZXIoZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUsdGhpcy5kYXRhKVxuICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQoJG5vZGUpXG4gICAgICAgIH0pXG4gICAgICAgIGxhenlfbG9hZCgpXG4gICAgICAgIFxuICAgIH1cbn1cblxuY2xhc3MgVXN7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnI3VzJylcbiAgICAgICAgdGhpcy5jb2xfaGVpZ2h0X2FyciA9IFtdXG4gICAgICAgIHRoaXMuaW1nX3dpZHRoID0gJCgnLndhdGVyZmFsbCBpbWcnKS5vdXRlcldpZHRoKHRydWUpXG4gICAgICAgIHRoaXMuY29sX0NvdW50ID0gIE1hdGguZmxvb3IoICQoJy53YXRlcmZhbGwnKS53aWR0aCgpL3RoaXMuaW1nX3dpZHRoIClcbiAgICAgICAgZm9yKGxldCBpID0gMDtpIDwgdGhpcy5jb2xfQ291bnQ7aSsrKXtcbiAgICAgICAgICAgIHRoaXMuY29sX2hlaWdodF9hcnJbaV0gPSAwXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLmJpbmQoKVxuICAgICAgICBcbiAgICB9XG4gICAgXG4gICAgYmluZCgpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzXG4gICAgICAgICQoJy53YXRlcmZhbGwgaW1nJykub24oJ2xvYWQnLGZ1bmN0aW9uKCl7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbGF5b3V0KCRub2RlKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgc3RhcnQoKXtcbiAgICAgICAgdGhpcy5nZXREYXRhKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoZGF0YSlcbiAgICAgICAgfSlcbiAgICAgICBcbiAgICB9XG5cbiAgICBnZXREYXRhKGZuKXtcbiAgICAgICAgLy/ojrflj5bpobXpnaLmlbDmja5cblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3VzX2JveCcsXG4gICAgICAgICAgICB0eXBlOidHRVQnLFxuICAgICAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYJVU+eUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgZm4ocmVzKVxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2x5pWw5o2u5aSx6LSlOiAnKVxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKSAgICBcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZW5kZXIoZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbW92aWUgPSBtb3ZpZS5zdWJqZWN0XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUpXG4gICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCgkbm9kZSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5cblxuY2xhc3MgU2VhcmNoe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKCcjc2VhcmNoJylcbiAgICAgICAgdGhpcy4kaW5wdXQgPSAkKCcjc2VhcmNoIGlucHV0JylcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnLnNlYXJjaC1yZXNsdXQgLmNvbnRhaW5lcicpXG4gICAgICAgIHRoaXMuZGF0YSA9ICgpPT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRvdWJhbl9tb3ZpZXNcIilcbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICB9XG4gICAgXG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLmJpbmQoKVxuICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgdGhpcy5rZXl3b3JkID0gbnVsbDtcblxuICAgIH1cbiAgICBcbiAgICBiaW5kKCl7XG5cbiAgICAgICAgbGV0IF90aGlzID0gdGhpc1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuZmluZCgnLmJ1dHRvbicpLmNsaWNrKCgpPT57XG4gICAgICAgICAgICB0aGlzLmtleXdvcmQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0JykudmFsKClcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5lbXB0eSgpXG4gICAgICAgICAgICB0aGlzLmdldERhdGEoKGRhdGEpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoZGF0YSx0aGlzLmRhdGEoKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy/nu5HlrprmlLbol4/kuovku7ZcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5pY29uLXhpaHVhbicsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGxldCBpdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpXG4gICAgICAgICAgICBsZXQgbW92aWVfaWQgPSBpdGVtLmRhdGEoJ21vdmllSWQnKVxuICAgICAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pS26JeP5LitLi4uLlwiKVxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgndW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5rKh5pyJ5pS26JePLi4uXCIpXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgIGxldCBtb3ZpZV9odG1sX3N0ciA9IGl0ZW0ud3JhcCgnPHAvPicpLnBhcmVudCgpLmh0bWwoKVxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdsaWtlJyx7aWQ6bW92aWVfaWQsaHRtbDptb3ZpZV9odG1sX3N0cn0pXG5cblxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdmYXZfdW5saWtlJyxmdW5jdGlvbihtb3ZpZV9pZCl7XG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmZpbmQoYFtkYXRhLW1vdmllLWlkPSR7bW92aWVfaWR9XSAuaWNvbi14aWh1YW5gKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDmlLbol4/pobXpnaLlj5bmtojmlLbol4/kuovku7Yg5oiQ5YqfYClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDnu5Hlrprnoa7orqTkuovku7ZcbiAgICAgICAgdGhpcy4kaW5wdXQub24oJ2tleXByZXNzJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBrZXlfY29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgICAgIF90aGlzLmtleXdvcmQgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgaWYoa2V5X2NvZGUgPT09IDEzKXtcbiAgICAgICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREYXRhKChkYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXIoZGF0YSxfdGhpcy5kYXRhKCkpXG4gICAgICAgICAgICAgICAgfSkgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICB9XG4gICAgc3RhcnQoKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgZ2V0RGF0YShmbil7XG4gICAgICAgIC8v6I635Y+W6aG16Z2i5pWw5o2uXG4gICAgICAgIGlmKHRoaXMuaXNfbG9kZGluZyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbG9kZGluZ+S4re+8jOS4jemHjeaWsOivt+axguaVsOaNricpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTonanNvbnAnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcTp0aGlzLmtleXdvcmRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgICAgIGZuKHJlcylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruWksei0pTogJylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpICAgIFxuICAgICAgICAgICAgfSkuYWx3YXlzKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG4gICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKGRhdGEsbG9jYWxfZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUsbG9jYWxfZGF0YSlcbiAgICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCRub2RlKVxuICAgICAgICB9KVxuICAgICAgICBsYXp5X2xvYWQoKVxuICAgIH1cbn1cblxuXG5jbGFzcyBGYXZvcml0ZSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJyNmYXYnKVxuICAgICAgICB0aGlzLmxvY2FsX3N0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5sb2NhbF9zdG9yYWdlLmdldEl0ZW0oJ2RvdWJhbl9tb3ZpZXMnKVxuICAgICAgICB0aGlzLmV2ZW50X2h1YiA9IEV2ZW50X2h1YlxuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5Yid5aeL5YyWXCIpXG4gICAgICAgIGlmKHRoaXMuZGF0YSA9PT0gbnVsbCl7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBbXVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGhpcy5kYXRhKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICAgIHRoaXMucmVuZGVyKClcbiAgICB9XG4gICAgYmluZCgpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzXG5cbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5pY29uLXhpaHVhbicsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y+W5raI5Zac5qyiLi4uXCIpXG4gICAgICAgICAgICBsZXQgaXRlbSA9ICQodGhpcykucGFyZW50cygnLml0ZW0nKVxuICAgICAgICAgICAgbGV0IG1vdmllX2lkID0gaXRlbS5kYXRhKCdtb3ZpZUlkJylcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZV9tb3ZpZShtb3ZpZV9pZClcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdmYXZfdW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmV2ZW50X2h1Yi5vbignbGlrZScsZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg5oiR55uR5ZCs5Yiw5LqGbGlrZeS6i+S7ti4uLmApXG4gICAgICAgICAgICBfdGhpcy5kYXRhLnVuc2hpZnQoZGF0YSlcbiAgICAgICAgICAgIF90aGlzLmxvY2FsX3N0b3JhZ2Uuc2V0SXRlbSgnZG91YmFuX21vdmllcycsSlNPTi5zdHJpbmdpZnkoX3RoaXMuZGF0YSkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5ldmVudF9odWIub24oJ3VubGlrZScsZnVuY3Rpb24oaWQpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coYOaIkeebkeWQrOWIsOS6hnVubGlrZeS6i+S7ti4uLmApXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVfbW92aWUoaWQpXG5cbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIHJlbW92ZV9tb3ZpZShpZCl7XG4gICAgICAgIGxldCBtb3ZpZV9pbmRleCA9IG51bGw7XG4gICAgICAgICAgICBmb3IobGV0IFtpbmRleCxtb3ZpZV0gb2YgdGhpcy5kYXRhLmVudHJpZXMoKSl7XG4gICAgICAgICAgICAgICAgaWYobW92aWUuaWQgPT09IGlkKXtcbiAgICAgICAgICAgICAgICAgICAgbW92aWVfaW5kZXggPSBpbmRleFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YS5zcGxpY2UobW92aWVfaW5kZXgsMSlcbiAgICAgICAgdGhpcy5sb2NhbF9zdG9yYWdlLnNldEl0ZW0oJ2RvdWJhbl9tb3ZpZXMnLEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpXG4gICAgICAgIHRoaXMucmVuZGVyKClcbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5lbXB0eSgpXG4gICAgICAgIGlmKHRoaXMuZGF0YS5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJcYlxi5pqC5peg5pS26JePLi4uXCIpXG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwibm8tZGF0YVwiPlxi5pqC5peg5pS26JeP5ZOmLi4uPC9zcGFuPicpKVxuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbGV0IG1vdmllX2FyciA9IHRoaXMuZGF0YVxuICAgICAgICAgICAgbW92aWVfYXJyLmZvckVhY2goKG1vdmllKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQoJChtb3ZpZS5odG1sKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxufVxuXG5cblxuY2xhc3MgQXBwe1xuICAgIGNvbnN0cnVjdG9yKHt0b3AyNTAsdXMsc2VhcmNoLGZhdixkZXRhaWx9KXtcbiAgICAgICAgdGhpcy4kdGFicyA9ICQoJ2Zvb3Rlcj5kaXYnKSAvL1xidGFi5oyJ6ZKuXG4gICAgICAgIHRoaXMucGFuZWxzID0gJCgnc2VjdGlvbicpXG4gICAgICAgIHRoaXMudG9wMjUwID0gdG9wMjUwXG4gICAgICAgIHRoaXMudXMgPSB1c1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNlYXJjaFxuICAgICAgICB0aGlzLmZhdiA9IGZhdlxuICAgICAgICB0aGlzLmRldGFpbCA9IGRldGFpbFxuICAgICAgICBcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICAvLyDliJ3lp4vljJZcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgICAgdGhpcy50b3AyNTAuaW5pdCgpXG4gICAgICAgIC8vIHRoaXMudXMuaW5pdCgpXG4gICAgICAgIHRoaXMuc2VhcmNoLmluaXQoKVxuICAgICAgICB0aGlzLmZhdi5pbml0KClcbiAgICAgICAgdGhpcy5kZXRhaWwuaW5pdCgpXG4gICAgICAgIFxuICAgIH1cbiAgICBiaW5kKCl7XG4gICAgICAgIC8vIOe7keWumuS6i+S7tlxuXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgdGhpcy4kdGFicy5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gJCh0aGlzKS5pbmRleCgpXG4gICAgICAgICAgICBfdGhpcy5wYW5lbHMuaGlkZSgpLmVxKGluZGV4KS5mYWRlSW4oKVxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2lkJykgPT09ICd4aWh1YW4nKXtcbiAgICAgICAgICAgICAgICBfdGhpcy5mYXYucmVuZGVyKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuXG4gICAgfVxuXG59XG5cbmNsYXNzIERldGFpbHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSAkKCcjZGV0YWlsJylcbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbFxuICAgIH1cblxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICB9XG5cbiAgICBiaW5kKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuY2xvc2UgYnV0dG9uJywoKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLlhbPpl63or6bmg4XpobUuLi5cIilcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5mYWRlT3V0KClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmV2ZW50X2h1Yi5vbignc2hvd19kZXRhaWwnLChtb3ZpZV9pZCk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1vdmllX2lkKVxuICAgICAgICAgICAgbGV0IHVybCA9IGAvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3N1YmplY3QvJHttb3ZpZV9pZH1gXG4gICAgICAgICAgICB0aGlzLmdldF9kYXRhKHVybCwoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKClcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIFxuXG5cblxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgXG4gICAgfSAgXG4gICAgXG4gICAgZ2V0X2RhdGEodXJsLHJlbmRlcil7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDp1cmwsXG4gICAgICAgICAgICB0eXBlOidHRVQnLFxuICAgICAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhcGlrZXk6JzBiMmJkZWRhNDNiNTY4ODkyMTgzOWM4ZWNiMjAzOTliJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYLnlLXlvbFcYuivpuaDheaVsOaNruaIkOWKny4nKVxuICAgICAgICAgICAgX3RoaXMuZGF0YSA9IHJlc1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyKClcbiAgICAgICAgfSkuZmFpbCgocmVzKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9sVxi6K+m5oOF5pWw5o2u5aSx6LSlLicpXG4gICAgICAgICAgICBfdGhpcy5kYXRhID0gcmVzXG5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZW5kZXIoKXtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFcbiAgICAgICAgbGV0IG1ldGFfZGlyZWN0b3JzID0gJydcbiAgICAgICAgbGV0IGNlbGVicml0aWVzID0gJydcbiAgICAgICAgbGV0IG1ldGFfY2FzdHMgPSAnJ1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICBsZXQgZGlyZWN0b3JzID0gZGF0YS5kaXJlY3RvcnMubWFwKChkaXJlY3Rvcik9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkaXJlY3RvcilcbiAgICAgICAgICAgICAgICBtZXRhX2RpcmVjdG9ycyArPSBkaXJlY3Rvci5uYW1lKyco5a+85ryUKSAvICdcbiAgICAgICAgICAgICAgICBjZWxlYnJpdGllcyArPSBgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3RlclwiIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7ZGlyZWN0b3IuYXZhdGFycy5zbWFsbH0nKVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJuYW1lXCI+JHtkaXJlY3Rvci5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9sZVwiPuWvvOa8lDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5gXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IGNhc3RzID0gZGF0YS5jYXN0cy5tYXAoKGNhc3QpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXN0KVxuICAgICAgICAgICAgbWV0YV9jYXN0cyArPSBjYXN0Lm5hbWUrJyAvICdcbiAgICAgICAgICAgIGNlbGVicml0aWVzICs9IGA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdGVyXCIgc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtjYXN0LmF2YXRhcnMuc21hbGx9JylcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZVwiPiR7Y2FzdC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9sZVwiPua8lOWRmDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5gXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHRhZ3MgPSBkYXRhLnRhZ3MubWFwKCh0YWcpPT57XG4gICAgICAgICAgICByZXR1cm4gYDxsaSBjbGFzcz1cImNoYW5uZWxfdGFnXCI+PGEgaHJlZj1cIlwiPiR7dGFnfTwvYT48L2xpPmBcbiAgICAgICAgfSlcblxuXG4gICAgICAgIGxldCBtZXRhID0gYCR7ZGF0YS5kdXJhdGlvbnNbMF0rJyAvICcrZGF0YS5nZW5yZXMuam9pbignIC8gJykrJyAvICcrbWV0YV9kaXJlY3RvcnMrbWV0YV9jYXN0cyt0aGlzLmRhdGEucHViZGF0ZXMuam9pbignIC8gJyl9YFxuXG4gICAgICAgIGxldCB0bXAgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb3ZpZV9kZXRhaWxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgICAgICAgICAgICAgPGgxPiR7ZGF0YS50aXRsZX08L2gxPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWJqZWN0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZWZ0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInJhdHRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInN0YXJcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN0cm9uZyBjbGFzcz1cInNjb3JlXCI+JHtkYXRhLnJhdGluZy5hdmVyYWdlfTwvc3Ryb25nPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY291bnRcIj4ke2RhdGEucmF0aW5nc19jb3VudH3kurror4Tku7c8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1ldGFcIj4ke21ldGF9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtkYXRhLmltYWdlcy5zbWFsbH1cIiBhbHQ9XCJcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYW5uZWxfdGFnc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDI+5omA5bGe6aKR6YGTPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0YWdzLmpvaW4oJycpfVxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnRyb1wiPlxuICAgICAgICAgICAgICAgICAgICA8aDI+JHtkYXRhLnRpdGxlfeeahOWJp+aDheeugOS7izwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiYmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtkYXRhLnN1bW1hcnl9ICBcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNlbGVicml0aWVzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMj7lvbHkuro8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAke2NlbGVicml0aWVzfSAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbG9zZVwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24+5YWz6ZetPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIGBcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCh0bXApLmZhZGVJbigpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZGV0YWlsIOa4suafk+aIkOWKny4uLlwiKVxuXG5cbiAgICB9XG59XG5cbmxldCBhcHAgPSBuZXcgQXBwKFxuICAgIHtcbiAgICAgICAgdG9wMjUwOm5ldyBUb3AyNTAoKSxcbiAgICAgICAgdXM6bmV3IFVzKCksXG4gICAgICAgIHNlYXJjaDpuZXcgU2VhcmNoKCksXG4gICAgICAgIGZhdjpuZXcgRmF2b3JpdGUoKSxcbiAgICAgICAgZGV0YWlsOm5ldyBEZXRhaWwoKVxuICAgICAgICBcbiAgICB9XG4gICAgKS5pbml0KClcblxuXG5cbiQoJ2Zvb3Rlcj5kaXYnKS5lcSgxKS5jbGljaygoKT0+e1xuICAgIFxuICAgIGlmKCQoJy53YXRlcmZhbGwgaW1nJykubGVuZ3RoID09PSAwKXtcbiAgICAgICAgZ2V0RGF0YShyZW5kZXIpXG4gICAgfVxuICAgIFxuICAgIFxufSlcblxuXG5mdW5jdGlvbiBnZXREYXRhKGZuKXtcbiAgICAvL+iOt+WPlumhtemdouaVsOaNrlxuICAgICQoJy53YXRlcmZhbGwnKS5wYXJlbnQoKS5maW5kKCcubG9hZGluZycpLnNob3coKVxuXG4gICAgJC5hamF4KHtcbiAgICAgICAgLy8gdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3VzX2JveCcsXG4gICAgICAgIHVybDonLy9hcGkuZG91YmFuLmNvbS92Mi9tb3ZpZS9pbl90aGVhdGVycycsXG4gICAgICAgIHR5cGU6J0dFVCcsXG4gICAgICAgIGRhdGFUeXBlOidqc29ucCcsXG4gICAgICAgIFxuICAgICAgICBcbiAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgIGZuKHJlcylcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgIH0pLmZhaWwoKHJlcyk9PntcbiAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9seaVsOaNruWksei0pTogJylcbiAgICAgICAgY29uc29sZS5sb2cocmVzKSAgICBcbiAgICB9KS5hbHdheXMoKCk9PntcbiAgICAgICAgJCgnLndhdGVyZmFsbCcpLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG5cbiAgICB9KVxufVxuXG5mdW5jdGlvbiByZW5kZXIoZGF0YSl7XG4gICAgbGV0IGhlaWdodF9hcnIgPSBbNzAsODAsOTAsMTIwXVxuICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgIC8vICBtb3ZpZSA9IG1vdmllLnN1YmplY3RcblxuICAgICAgICAgbGV0IHRtcCA9IGBcbiAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWctd3JhcFwiPlxuICAgICAgICAgICAgPGltZyBzcmM9XCJodHRwOi8vaW1nMy5kb3ViYW5pby5jb20vZi9tb3ZpZS9iNmRjNzYxZjVlNGNmMDQwMzJmYWE5Njk4MjY5ODZlZmJlY2Q1NGJiL3BpY3MvbW92aWUvbW92aWVfZGVmYXVsdF9zbWFsbC5wbmdcIiBkYXRhLXNyYyA9IFwiJHttb3ZpZS5pbWFnZXMuc21hbGx9XCIgYWx0PVwiXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNjb3JlXCI+JHtOdW1iZXIobW92aWUucmF0aW5nLmF2ZXJhZ2UpLnRvRml4ZWQoMSl9PHNwYW4+XG4gICAgICAgICA8L2Rpdj5cbiAgICAgICAgIGBcbiAgICAgICAgIFxuICAgICAgICAgbGV0ICRlbGVtbmV0ID0gJCh0bXApXG4gICAgICAgICAkZWxlbW5ldC5maW5kKCdpbWcnKS5jc3MoJ2hlaWdodCcsaGVpZ2h0X2FycltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqNCldKVxuICAgICAgICAgJCgnLndhdGVyZmFsbCcpLmFwcGVuZCgkZWxlbW5ldClcbiAgICB9KVxuICAgIGxheW91dCgpXG59XG5cbmZ1bmN0aW9uIGxheW91dCgpe1xuICAgIC8v54CR5biD5rWB5biD5bGAXG4gICAgbGV0IGNvbEhlaWdodEFycmF5ID0gW11cbiAgICAvLyBsZXQgaW1nV2lkdGggPSAkKCcud2F0ZXJmYWxsIGltZycpLm91dGVyV2lkdGgodHJ1ZSlcbiAgICBsZXQgaW1nV2lkdGggPSAkKCcud2F0ZXJmYWxsIC5pbWctd3JhcCcpLm91dGVyV2lkdGgodHJ1ZSlcblxuICAgIGxldCBjb2xDb3VudCA9ICBNYXRoLmZsb29yKCQoJy53YXRlcmZhbGwnKS53aWR0aCgpL2ltZ1dpZHRoKVxuICAgIGZvcihsZXQgaT0wOyBpPGNvbENvdW50OyBpKyspe1xuICAgICAgICBjb2xIZWlnaHRBcnJheVtpXSA9IDBcbiAgICB9XG4gICAgY29uc29sZS5sb2coYCR7Y29sSGVpZ2h0QXJyYXl9ICR7aW1nV2lkdGh9ICR7Y29sQ291bnR9YClcbiAgICAkKCcud2F0ZXJmYWxsIC5pbWctd3JhcCcpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgbGV0IG1pbl92YWx1ZSA9IE1hdGgubWluKC4uLmNvbEhlaWdodEFycmF5KVxuICAgICAgICBsZXQgbWluX2luZGV4ID0gY29sSGVpZ2h0QXJyYXkuaW5kZXhPZihtaW5fdmFsdWUpXG4gICAgICAgICQodGhpcykuY3NzKHtcbiAgICAgICAgICAgIGxlZnQ6bWluX2luZGV4KmltZ1dpZHRoLFxuICAgICAgICAgICAgdG9wOm1pbl92YWx1ZVxuICAgICAgICB9KVxuICAgICAgICBjb2xIZWlnaHRBcnJheVttaW5faW5kZXhdICs9ICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSlcbiAgICB9KVxuXG4gICAgLy/mh5LliqDovb3lm77niYdcbiAgICAkKCcud2F0ZXJmYWxsIGltZycpLm5vdCgnW2RhdGEtaXNMb2FkZWRdJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBpZiggJCgnbWFpbicpLmhlaWdodCgpKyQoJ21haW4nKS5zY3JvbGxUb3AoKSA+ICQodGhpcykub2Zmc2V0KCkudG9wICl7XG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ3NyYycsJCh0aGlzKS5hdHRyKCdkYXRhLXNyYycpKVxuICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWlzTG9hZGVkJywxKVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIC8v5bGF5Lit5a+56b2QXG4gICAgbGV0IHRvdGFsX3dpZHRoID0gJCgnLndhdGVyZmFsbCAuaW1nLXdyYXAnKS5wYXJlbnRzKCdzZWN0aW9uJykub3V0ZXJXaWR0aCh0cnVlKVxuICAgIGxldCBpbWdzX3dpZHRoID0gJCgnLndhdGVyZmFsbCAuaW1nLXdyYXAnKS5lcSgwKS5vdXRlcldpZHRoKHRydWUpICogY29sQ291bnRcbiAgICBsZXQgcGFkZGluZyA9IE1hdGguZmxvb3IoICh0b3RhbF93aWR0aCAtIGltZ3Nfd2lkdGgpLzIgKVxuICAgICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykucGFyZW50cygnc2VjdGlvbicpLmNzcyh7J3BhZGRpbmctbGVmdCc6cGFkZGluZywncGFkZGluZy10b3AnOnBhZGRpbmd9KVxuICAgIGNvbnNvbGUubG9nKGBwYWRkaW5nLWxlZnQgaXMgJHtwYWRkaW5nfWApXG59XG5cblxuXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbioge1xcbiAgICBtYXJnaW46MDtcXG4gICAgcGFkZGluZzowO1xcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5hIHtcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgICBjb2xvcjojMzMzO1xcbn1cXG5cXG51bCBsaSB7XFxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcblxcbmJvZHkge1xcbiAgICBmb250LXNpemU6IDEycHg7XFxuICAgIGxpbmUtaGVpZ2h0OiAxLjI7XFxuICAgIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcXG4gICAgZm9udC1mYW1pbHk6IFxcXCJIZWx2ZXRpY2EgTmV1ZVxcXCIsSGVsdmV0aWNhLFJvYm90byxBcmlhbCxzYW5zLXNlcmlmO1xcbn1cXG5cXG5tYWluIHtcXG4gICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNTBweCk7XFxuICAgIG92ZXJmbG93OnNjcm9sbDtcXG4gICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xcbn1cXG5cXG5tYWluID4gc2VjdGlvbiB7XFxuICAgIHBhZGRpbmc6MTBweDtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxubWFpbiA+IHNlY3Rpb246Zmlyc3QtY2hpbGQge1xcbiAgICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuXFxuLml0ZW0ge1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcXG4gICAgcGFkZGluZy1ib3R0b206MTBweDtcXG4gICAgcGFkZGluZy10b3A6MTBweDtcXG59XFxuXFxuLml0ZW0+YSB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uaXRlbT5hIC5jb3ZlciwgLml0ZW0+YSBpbWcge1xcbiAgICB3aWR0aDo3MHB4O1xcbn1cXG5cXG4uaXRlbSAuZGV0YWlsIHtcXG4gICAgcGFkZGluZy1sZWZ0OjEwcHg7XFxuICAgIGZsZXg6MTtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCBoMiB7XFxuICAgIGZvbnQtc2l6ZTogMTZweDtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCAuZXh0cmEge1xcbiAgICBjb2xvcjojOTk5O1xcbiAgICBtYXJnaW4tdG9wOjRweDtcXG59XFxuXFxuLml0ZW0gLmRldGFpbCAuc2NvcmUge1xcbiAgICBjb2xvcjojZmY1NzIyO1xcbiAgICBtYXJnaW4tcmlnaHQ6OHB4O1xcbn1cXG5cXG4ubG9hZGluZyAuaWNvbmZvbnQge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGZvbnQtc2l6ZTogM2VtO1xcbiAgICBjb2xvcjpsaWdodHBpbms7XFxuICAgIGFuaW1hdGlvbjogMXMgcm90YXRlIGxpbmVhciBpbmZpbml0ZTtcXG5cXG59XFxuXFxuLmxvYWRpbmcge1xcbiAgICBwYWRkaW5nOjVweDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG5cXG5zZWN0aW9uIC5zZWFyY2gtYXJlYSB7XFxuICAgIGNvbG9yOiAjMzMzO1xcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuc2VjdGlvbiAuc2VhcmNoLWFyZWEgaW5wdXQge1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gNTBweCk7XFxuICAgIHBhZGRpbmc6IDhweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gICAgYm9yZGVyOiBub25lO1xcbiAgICBib3JkZXItcmFkaXVzOiAycHg7XFxuICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgIG91dGxpbmU6IG5vbmU7XFxufVxcblxcbnNlY3Rpb24gLnNlYXJjaC1hcmVhIC5idXR0b24ge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICBwYWRkaW5nOiA4cHggMTBweDtcXG4gICAgYmFja2dyb3VuZDogI0ZGNTcyMjtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG5zZWN0aW9uICN1cyB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLyogc2VjdGlvbiAjdXMgaW1nIHtcXG4gICAgd2lkdGg6ODBweDtcXG4gICAgbWFyZ2luOiAycHg7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59ICAqL1xcblxcbi8qIOa3u+WKoOivhOWIhiAqL1xcbnNlY3Rpb24gI3VzIC5pbWctd3JhcCB7XFxuICAgIHdpZHRoOjgwcHg7XFxuICAgIG1hcmdpbjogMnB4O1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuXFxuc2VjdGlvbiAjdXMgaW1nIHtcXG4gICAgd2lkdGg6ODBweDtcXG59ICBcXG5zZWN0aW9uICN1cyAuc2NvcmUge1xcbiAgICBmb250LXNpemU6IC45ZW07XFxuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICAgIHJpZ2h0OiAycHg7XFxuICAgIGJvdHRvbTogNHB4O1xcbiAgICBjb2xvcjogd2hpdGU7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYmFja2dyb3VuZDogI2ZmNTcyMjtcXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICBvcGFjaXR5OiAuODtcXG4gICAgcGFkZGluZzogNHB4O1xcbn1cXG5cXG4vKiDmt7vliqDmlLbol48gKi9cXG5zZWN0aW9uIC5pY29uLXhpaHVhbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDEwcHg7XFxuICAgIHRvcDogNTAlO1xcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTcwJSk7XFxuICAgIGZvbnQtc2l6ZTogMi4xZW07XFxufVxcblxcbnNlY3Rpb24gLmljb24teGlodWFuLmFjdGl2ZSB7XFxuICAgIGNvbG9yOnJlZDtcXG59XFxuXFxuc2VjdGlvbiAubm8tZGF0YSB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgZm9udC1zaXplOiAxLjNlbTtcXG4gICAgY29sb3I6IGdyZXk7XFxuICAgIGxlZnQ6IDUwJTtcXG4gICAgdG9wOiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTI1MCUpO1xcbn1cXG5cXG4vKiDmt7vliqDmlLbol4/nu5PmnZ8gKi9cXG5cXG5zZWN0aW9uIC5pdGVtIC5kZXRhaWwge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi8qIOa3u+WKoOivhOWIhiDnu5PmnZ8qL1xcblxcblxcbkBrZXlmcmFtZXMgcm90YXRlIHtcXG4gICAgMCUge1xcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICAgIH1cXG4gICAgMTAwJSB7XFxuICAgICAgICB0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7XFxuICAgIH1cXG59XFxuXFxuZm9vdGVyIHtcXG4gICAgaGVpZ2h0OiA1MHB4O1xcbiAgICBib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBcXG59XFxuXFxuZm9vdGVyIC5hY3RpdmUge1xcbiAgICBjb2xvcjojZmY1NzIyO1xcbn1cXG5cXG5mb290ZXI+ZGl2IHtcXG4gICAgZmxleDoxO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbmZvb3Rlcj5kaXY+c3BhbiB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICBwYWRkaW5nLXRvcDo1cHg7XFxufVxcblxcbi8qIFxcbueUteW9seivpuaDhVxcbiovXFxuXFxuI2RldGFpbCB7XFxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsMC40KTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiAwO1xcbiAgICB0b3A6IDA7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4jZGV0YWlsIC5tb3ZpZV9kZXRhaWwge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIG1hcmdpbjogMzBweCAxMHB4IDUwcHggMTBweDtcXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XFxufVxcblxcbiNkZXRhaWwgLmNhcmQge1xcbiAgICBwYWRkaW5nOjAgMTVweDtcXG59XFxuXFxuI2RldGFpbCAuc3ViamVjdCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbiNkZXRhaWwgLmxlZnQge1xcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gMTAwcHgpO1xcbn1cXG5cXG4jZGV0YWlsIC5yaWdodCB7XFxuICAgIHdpZHRoOiAxMDBweDtcXG4gICAgaGVpZ2h0OiAxMTBweDtcXG4gICAgLyogb3V0bGluZTogMXB4IHNvbGlkIHJlZDsgKi9cXG59XFxuXFxuI2RldGFpbCAucmlnaHQgaW1nIHtcXG4gICAgd2lkdGg6MTAwcHg7XFxufVxcblxcbiNkZXRhaWwgLmNoYW5uZWxfdGFnc3tcXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweFxcbiAgICBcXG59XFxuXFxuI2RldGFpbCBoMiB7XFxuICAgIGNvbG9yOiAjYWFhO1xcbiAgICBtYXJnaW46IDAgMCAxNXB4O1xcbiAgICBmb250LXNpemU6IDE1cHg7XFxufVxcblxcbiNkZXRhaWwgaDEsI2RldGFpbCBoMiwjZGV0YWlsIGgzIHtcXG4gICAgZm9udC13aWdodDpub3JtYWw7XFxufVxcblxcblxcblxcbiBcXG5cXG4jZGV0YWlsIGgxIHtcXG4gICAgcGFkZGluZy10b3A6IDIwcHg7XFxuICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XFxuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XFxuICAgIGNvbG9yOiByZ2IoMTcsMTcsMTcpO1xcbn1cXG5cXG4jZGV0YWlsIC5zY29yZSB7XFxuICAgIGNvbG9yOnJnYig3Myw3Myw3MylcXG59XFxuXFxuI2RldGFpbCAuY291bnQge1xcbiAgICBjb2xvcjpyZ2IoMTcwLDE3MCwxNzApXFxufVxcblxcbiNkZXRhaWwgLm1ldGEge1xcbiAgICBmb250LXNpemU6IDE0cHg7XFxuICAgIGNvbG9yOnJnYig3Myw3Myw3Myk7XFxuICAgIGxpbmUtaGVpZ2h0OiAyMi40cHg7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxuICAgIG1hcmdpbi10b3A6IDEwcHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XFxuICAgIFxcbn1cXG5cXG4jZGV0YWlsIC5jaGFubmVsX3RhZyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZmZhZjA7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MmJkNTY7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgICBmb250LXNpemU6IDEzcHg7XFxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG4jZGV0YWlsIGEge1xcbiAgY29sb3I6IzQyYmQ1NiAgIFxcbn1cXG5cXG4jZGV0YWlsIC5iZCB7XFxuICAgIGZvbnQtc2l6ZTogMTVweDtcXG4gICAgY29sb3I6ICM0OTQ5NDk7XFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XFxufVxcblxcbiNkZXRhaWwgLmNlbGVicml0aWVzIHVsIHtcXG4gICAgb3ZlcmZsb3c6IGF1dG87XFxuICAgIHdoaXRlLXNwYWNlOm5vd3JhcDtcXG59XFxuXFxuI2RldGFpbCAuY2VsZWJyaXRpZXMgbGkge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHdpZHRoOiA3NXB4O1xcbiAgICBtYXJnaW4tcmlnaHQ6OHB4O1xcbn1cXG5cXG5cXG4jZGV0YWlsIC5jZWxlYnJpdGllcyAucG9zdGVyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTMwcHg7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gICAgLyogb3V0bGluZTogMXB4IHNvbGlkIHBpbms7ICovXFxuICAgIFxcbn1cXG5cXG4jZGV0YWlsIC5jZWxlYnJpdGllcyAubmFtZSAsICNkZXRhaWwgLmNlbGVicml0aWVzIC5yb2xlIHtcXG4gICAgbWFyZ2luLXRvcDo4cHg7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbiNkZXRhaWwgLmNsb3NlIHtcXG4gICAgbWFyZ2luOjMwcHggMDtcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4jZGV0YWlsIC5jbG9zZSBidXR0b24ge1xcbiAgICBjb2xvcjogIzQyYmQ1NjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VmZmFmMDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzQyYmQ1NjtcXG4gICAgZm9udC1zaXplOiAxNHB4O1xcbiAgICBwYWRkaW5nOiA1cHggMTZweDtcXG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcXG59XFxuXFxuXFxuXFxuXFxuXFxuXCIsIFwiXCJdKTtcblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuICdAbWVkaWEgJyArIGl0ZW1bMl0gKyAneycgKyBjb250ZW50ICsgJ30nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICB9XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IG1vZHVsZXNbaV07IC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcbiAgICAgIC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG4gICAgICAvLyB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG4gICAgICAvLyBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cbiAgICAgIGlmIChpdGVtWzBdID09IG51bGwgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgaWYgKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgICAgaXRlbVsyXSA9ICcoJyArIGl0ZW1bMl0gKyAnKSBhbmQgKCcgKyBtZWRpYVF1ZXJ5ICsgJyknO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuICByZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufSIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdCA/IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpIFxuXHRcdCA6IG9wdGlvbnMudHJhbnNmb3JtLmRlZmF1bHQob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=