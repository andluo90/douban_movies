!function(e){var n=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,n){if(!$[e]||!x[e])return;for(var t in x[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(m[t]=n[t]);0==--v&&0===b&&k()}(e,t),n&&n(e,t)};var t,i=!0,o="23c84c68ce2391d99a6d",a=1e4,r={},s=[],l=[];function c(e){var n=E[e];if(!n)return I;var i=function(i){return n.hot.active?(E[i]?-1===E[i].parents.indexOf(e)&&E[i].parents.push(e):(s=[e],t=i),-1===n.children.indexOf(i)&&n.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+e),s=[]),I(i)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return I[e]},set:function(n){I[e]=n}}};for(var a in I)Object.prototype.hasOwnProperty.call(I,a)&&"e"!==a&&"t"!==a&&Object.defineProperty(i,a,o(a));return i.e=function(e){return"ready"===u&&h("prepare"),b++,I.e(e).then(n,function(e){throw n(),e});function n(){b--,"prepare"===u&&(y[e]||j(e),0===b&&0===v&&k())}},i.t=function(e,n){return 1&n&&(e=i(e)),I.t(e,-2&n)},i}function d(e){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:t!==e,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)n._acceptedDependencies[e[i]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},check:_,apply:O,status:function(e){if(!e)return u;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var n=p.indexOf(e);n>=0&&p.splice(n,1)},data:r[e]};return t=void 0,n}var p=[],u="idle";function h(e){u=e;for(var n=0;n<p.length;n++)p[n].call(null,e)}var f,m,g,v=0,b=0,y={},x={},$={};function w(e){return+e+""===e?+e:e}function _(e){if("idle"!==u)throw new Error("check() is only allowed in idle status");return i=e,h("check"),(n=a,n=n||1e4,new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var i=new XMLHttpRequest,a=I.p+""+o+".hot-update.json";i.open("GET",a,!0),i.timeout=n,i.send(null)}catch(e){return t(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)t(new Error("Manifest request to "+a+" timed out."));else if(404===i.status)e();else if(200!==i.status&&304!==i.status)t(new Error("Manifest request to "+a+" failed."));else{try{var n=JSON.parse(i.responseText)}catch(e){return void t(e)}e(n)}}})).then(function(e){if(!e)return h("idle"),null;x={},y={},$=e.c,g=e.h,h("prepare");var n=new Promise(function(e,n){f={resolve:e,reject:n}});m={};return j(0),"prepare"===u&&0===b&&0===v&&k(),n});var n}function j(e){$[e]?(x[e]=!0,v++,function(e){var n=document.createElement("script");n.charset="utf-8",n.src=I.p+""+e+"."+o+".hot-update.js",document.head.appendChild(n)}(e)):y[e]=!0}function k(){h("ready");var e=f;if(f=null,e)if(i)Promise.resolve().then(function(){return O(i)}).then(function(n){e.resolve(n)},function(n){e.reject(n)});else{var n=[];for(var t in m)Object.prototype.hasOwnProperty.call(m,t)&&n.push(w(t));e.resolve(n)}}function O(n){if("ready"!==u)throw new Error("apply() is only allowed in ready status");var t,i,a,l,c;function d(e){for(var n=[e],t={},i=n.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var o=i.pop(),a=o.id,r=o.chain;if((l=E[a])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:r,moduleId:a};if(l.hot._main)return{type:"unaccepted",chain:r,moduleId:a};for(var s=0;s<l.parents.length;s++){var c=l.parents[s],d=E[c];if(d){if(d.hot._declinedDependencies[a])return{type:"declined",chain:r.concat([c]),moduleId:a,parentId:c};-1===n.indexOf(c)&&(d.hot._acceptedDependencies[a]?(t[c]||(t[c]=[]),p(t[c],[a])):(delete t[c],n.push(c),i.push({chain:r.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function p(e,n){for(var t=0;t<n.length;t++){var i=n[t];-1===e.indexOf(i)&&e.push(i)}}n=n||{};var f={},v=[],b={},y=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)){var _;c=w(x);var j=!1,k=!1,O=!1,D="";switch((_=m[x]?d(c):{type:"disposed",moduleId:x}).chain&&(D="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(j=new Error("Aborted because of self decline: "+_.moduleId+D));break;case"declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+D));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(j=new Error("Aborted because "+c+" is not accepted"+D));break;case"accepted":n.onAccepted&&n.onAccepted(_),k=!0;break;case"disposed":n.onDisposed&&n.onDisposed(_),O=!0;break;default:throw new Error("Unexception type "+_.type)}if(j)return h("abort"),Promise.reject(j);if(k)for(c in b[c]=m[c],p(v,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,c)&&(f[c]||(f[c]=[]),p(f[c],_.outdatedDependencies[c]));O&&(p(v,[_.moduleId]),b[c]=y)}var S,T=[];for(i=0;i<v.length;i++)c=v[i],E[c]&&E[c].hot._selfAccepted&&T.push({module:c,errorHandler:E[c].hot._selfAccepted});h("dispose"),Object.keys($).forEach(function(e){!1===$[e]&&function(e){delete installedChunks[e]}(e)});for(var C,M,U=v.slice();U.length>0;)if(c=U.pop(),l=E[c]){var A={},P=l.hot._disposeHandlers;for(a=0;a<P.length;a++)(t=P[a])(A);for(r[c]=A,l.hot.active=!1,delete E[c],delete f[c],a=0;a<l.children.length;a++){var H=E[l.children[a]];H&&((S=H.parents.indexOf(c))>=0&&H.parents.splice(S,1))}}for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=E[c]))for(M=f[c],a=0;a<M.length;a++)C=M[a],(S=l.children.indexOf(C))>=0&&l.children.splice(S,1);for(c in h("apply"),o=g,b)Object.prototype.hasOwnProperty.call(b,c)&&(e[c]=b[c]);var L=null;for(c in f)if(Object.prototype.hasOwnProperty.call(f,c)&&(l=E[c])){M=f[c];var R=[];for(i=0;i<M.length;i++)if(C=M[i],t=l.hot._acceptedDependencies[C]){if(-1!==R.indexOf(t))continue;R.push(t)}for(i=0;i<R.length;i++){t=R[i];try{t(M)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:c,dependencyId:M[i],error:e}),n.ignoreErrored||L||(L=e)}}}for(i=0;i<T.length;i++){var z=T[i];c=z.module,s=[c];try{I(c)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:t,originalError:e}),n.ignoreErrored||L||(L=t),L||(L=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:c,error:e}),n.ignoreErrored||L||(L=e)}}return L?(h("fail"),Promise.reject(L)):(h("idle"),new Promise(function(e){e(v)}))}var E={};function I(n){if(E[n])return E[n].exports;var t=E[n]={i:n,l:!1,exports:{},hot:d(n),parents:(l=s,s=[],l),children:[]};return e[n].call(t.exports,t,t.exports,c(n)),t.l=!0,t.exports}I.m=e,I.c=E,I.d=function(e,n,t){I.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},I.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},I.t=function(e,n){if(1&n&&(e=I(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(I.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)I.d(t,i,function(n){return e[n]}.bind(null,i));return t},I.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return I.d(n,"a",n),n},I.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},I.p="",I.h=function(){return o},c("./index.js")(I.s="./index.js")}({"../node_modules/css-loader/dist/cjs.js!./css/style.css":function(e,n,t){(e.exports=t("../node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,'\n* {\n    margin:0;\n    padding:0;\n    box-sizing: border-box;\n}\n\na {\n    text-decoration: none;\n    color:#333;\n}\n\nul li {\n    list-style: none;\n}\n\nbody {\n    font-size: 12px;\n    line-height: 1.2;\n    background-color:#fff;\n    font-family: "Helvetica Neue",Helvetica,Roboto,Arial,sans-serif;\n}\n\nmain {\n    height: calc(100vh - 50px);\n    overflow:scroll;\n    -webkit-overflow-scrolling: touch;\n}\n\nmain > section {\n    padding:10px;\n    display: none;\n}\nmain > section:first-child {\n    display: block;\n}\n\n\n.item {\n    border-bottom: 1px solid #ccc;\n    padding-bottom:10px;\n    padding-top:10px;\n}\n\n.item>a {\n    display: block;\n    display: flex;\n}\n\n.item>a .cover, .item>a img {\n    width:70px;\n}\n\n.item .detail {\n    padding-left:10px;\n    flex:1;\n}\n\n.item .detail h2 {\n    font-size: 16px;\n}\n\n.item .detail .extra {\n    color:#999;\n    margin-top:4px;\n}\n\n.item .detail .score {\n    color:#ff5722;\n    /* margin-right:8px; */\n}\n\n.loading .iconfont {\n    display: inline-block;\n    font-size: 3em;\n    color:lightpink;\n    animation: 1s rotate linear infinite;\n\n}\n\n.loading {\n    padding:5px;\n    text-align: center;\n    display: none;\n}\n\n\nsection .search-area {\n    color: #333;\n    padding-bottom: 10px;\n    border-bottom: 1px solid #ccc;\n    position: relative;\n}\n\nsection .search-area input {\n    width: calc(100% - 50px);\n    padding: 8px;\n    background-color: #eee;\n    border: none;\n    border-radius: 2px;\n    box-shadow: none;\n    outline: none;\n}\n\nsection .search-area .button {\n    position: absolute;\n    right: 0;\n    padding: 8px 10px;\n    background: #FF5722;\n    color: #fff;\n    border-radius: 2px;\n    cursor: pointer;\n}\n\nsection #us {\n    position: relative;\n}\n\n/* section #us img {\n    width:80px;\n    margin: 2px;\n    position: absolute;\n}  */\n\n/* 添加评分 */\nsection #us .img-wrap {\n    width:80px;\n    margin: 2px;\n    display: inline-block;\n    position: absolute;\n}\n\nsection #us img {\n    width:80px;\n}  \nsection #us .score {\n    font-size: .9em;\n    font-weight: 300;\n    right: 2px;\n    bottom: 4px;\n    color: white;\n    position: absolute;\n    background: #ff5722;\n    border-radius: 50%;\n    opacity: .8;\n    padding: 4px;\n}\n\n/* 添加收藏 */\nsection .icon-xihuan {\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-70%);\n    font-size: 2.1em;\n}\n\nsection .icon-xihuan.active {\n    color:red;\n}\n\nsection .no-data {\n    position: absolute;\n    font-size: 1.3em;\n    color: grey;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%,-250%);\n}\n\n/* 添加收藏结束 */\n\nsection .item .detail {\n    position: relative;\n}\n\n/* 添加评分 结束*/\n\n\n@keyframes rotate {\n    0% {\n        transform: rotate(0deg);\n    }\n    100% {\n        transform:rotate(360deg);\n    }\n}\n\nfooter {\n    height: 50px;\n    border-top:1px solid #ccc;\n    display: flex;\n    \n}\n\nfooter .active {\n    color:#ff5722;\n}\n\nfooter>div {\n    flex:1;\n    text-align: center;\n}\n\nfooter>div>span {\n    display: block;\n    padding-top:5px;\n}\n\n/* \n电影详情\n*/\n\n#detail {\n    background: rgba(0,0,0,0.4);\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    display: none;\n}\n\n#detail .movie_detail {\n    height: 100%;\n    /* margin: 30px 10px 0px 10px; */\n    background:white;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n\n}\n\n#detail .card {\n    padding:0 18px;\n}\n\n#detail .subject {\n    display: flex;\n}\n\n#detail .left {\n    width: calc(100% - 100px);\n}\n\n#detail .right {\n    width: 100px;\n    height: 110px;\n    /* outline: 1px solid red; */\n}\n\n#detail .right img {\n    width:100px;\n}\n\n#detail .channel_tags{\n    margin-bottom: 30px\n    \n}\n\n#detail h2 {\n    color: #aaa;\n    margin: 0 0 15px;\n    font-size: 15px;\n}\n\n#detail h1,#detail h2,#detail h3 {\n    font-wight:normal;\n}\n\n\n\n \n\n#detail h1 {\n    padding-top: 20px;\n    padding-bottom: 5px;\n    font-weight: 400;\n    color: rgb(17,17,17);\n}\n\n#detail .score {\n    color:rgb(73,73,73);\n    margin-right:8px;\n}\n\n#detail .count {\n    color:rgb(170,170,170)\n}\n\n#detail .meta {\n    font-size: 14px;\n    color:rgb(73,73,73);\n    line-height: 22.4px;\n    padding-right: 20px;\n    margin-top: 10px;\n    margin-bottom: 30px;\n    \n}\n\n#detail .channel_tag {\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    display: inline-block;\n    margin-right: 10px;\n    font-size: 13px;\n    padding: 5px 10px;\n    border-radius: 15px;\n    margin-bottom: 10px;\n}\n\n#detail a {\n  color:#42bd56   \n}\n\n#detail .bd {\n    font-size: 15px;\n    line-height: 22px;\n    color: #494949;\n    margin-bottom: 30px;\n    \n}\n\n#detail .celebrities ul {\n    overflow: auto;\n    white-space:nowrap;\n}\n\n#detail .celebrities li {\n    display: inline-block;\n    width: 75px;\n    margin-right:8px;\n}\n\n\n#detail .celebrities .poster {\n    width: 100%;\n    height: 130px;\n    background-size: cover;\n    background-position: center;\n    /* outline: 1px solid pink; */\n    \n}\n\n#detail .celebrities .name , #detail .celebrities .role {\n    margin-top:8px;\n    display: block;\n    text-align: center;\n}\n\n#detail .close {\n    margin:30px 0;\n    text-align: center;\n}\n\n#detail .close button {\n    color: #42bd56;\n    background-color: #effaf0;\n    border: 1px solid #42bd56;\n    font-size: 14px;\n    padding: 5px 16px;\n    border-radius: 15px;\n}\n\n\n\n\n\n',""])},"../node_modules/css-loader/dist/runtime/api.js":function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t=function(e,n){var t=e[1]||"",i=e[3];if(!i)return t;if(n&&"function"==typeof btoa){var o=(r=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),a=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[t].concat(a).concat([o]).join("\n")}var r;return[t].join("\n")}(n,e);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(o=0;o<e.length;o++){var r=e[o];null!=r[0]&&i[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]="("+r[2]+") and ("+t+")"),n.push(r))}},n}},"../node_modules/style-loader/lib/addStyles.js":function(e,n,t){var i,o,a={},r=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),s=function(e){var n={};return function(e,t){if("function"==typeof e)return e();if(void 0===n[e]){var i=function(e,n){return n?n.querySelector(e):document.querySelector(e)}.call(this,e,t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}n[e]=i}return n[e]}}(),l=null,c=0,d=[],p=t("../node_modules/style-loader/lib/urls.js");function u(e,n){for(var t=0;t<e.length;t++){var i=e[t],o=a[i.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](i.parts[r]);for(;r<i.parts.length;r++)o.parts.push(b(i.parts[r],n))}else{var s=[];for(r=0;r<i.parts.length;r++)s.push(b(i.parts[r],n));a[i.id]={id:i.id,refs:1,parts:s}}}}function h(e,n){for(var t=[],i={},o=0;o<e.length;o++){var a=e[o],r=n.base?a[0]+n.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};i[r]?i[r].parts.push(s):t.push(i[r]={id:r,parts:[s]})}return t}function f(e,n){var t=s(e.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?t.insertBefore(n,i.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),d.push(n);else if("bottom"===e.insertAt)t.appendChild(n);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertAt.before,t);t.insertBefore(n,o)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var n=d.indexOf(e);n>=0&&d.splice(n,1)}function g(e){var n=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return t.nc}();i&&(e.attrs.nonce=i)}return v(n,e.attrs),f(e,n),n}function v(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function b(e,n){var t,i,o,a;if(n.transform&&e.css){if(!(a="function"==typeof n.transform?n.transform(e.css):n.transform.default(e.css)))return function(){};e.css=a}if(n.singleton){var r=c++;t=l||(l=g(n)),i=$.bind(null,t,r,!1),o=$.bind(null,t,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(e){var n=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(n,e.attrs),f(e,n),n}(n),i=function(e,n,t){var i=t.css,o=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||a)&&(i=p(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}.bind(null,t,n),o=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=g(n),i=function(e,n){var t=n.css,i=n.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}.bind(null,t),o=function(){m(t)});return i(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;i(e=n)}else o()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=r()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=h(e,n);return u(t,n),function(e){for(var i=[],o=0;o<t.length;o++){var r=t[o];(s=a[r.id]).refs--,i.push(s)}e&&u(h(e,n),n);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var y,x=(y=[],function(e,n){return y[e]=n,y.filter(Boolean).join("\n")});function $(e,n,t,i){var o=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(n,o);else{var a=document.createTextNode(o),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(a,r[n]):e.appendChild(a)}}},"../node_modules/style-loader/lib/urls.js":function(e,n){e.exports=function(e){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var t=n.protocol+"//"+n.host,i=t+n.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,n){var o,a=n.trim().replace(/^"(.*)"$/,function(e,n){return n}).replace(/^'(.*)'$/,function(e,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:i+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"./css/style.css":function(e,n,t){var i=t("../node_modules/css-loader/dist/cjs.js!./css/style.css");"string"==typeof i&&(i=[[e.i,i,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0},a=t("../node_modules/style-loader/lib/addStyles.js")(i,o);i.locals&&(e.exports=i.locals),e.hot.accept("../node_modules/css-loader/dist/cjs.js!./css/style.css",function(){var n=t("../node_modules/css-loader/dist/cjs.js!./css/style.css");if("string"==typeof n&&(n=[[e.i,n,""]]),!function(e,n){var t,i=0;for(t in e){if(!n||e[t]!==n[t])return!1;i++}for(t in n)i--;return 0===i}(i.locals,n.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");a(n)}),e.hot.dispose(function(){a()})},"./index.js":function(e,n,t){"use strict";t.r(n);t("./css/style.css");if(!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g)){let e=$(window).height()-50;$("main").css({height:e}),console.log("IOS上main的height已重置")}let i={events:{},on(e,n){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(n)},emit(e,n){this.events[e].forEach(e=>{e.call(null,n)})}};function o(e,n){let t="";null!==n&&JSON.parse(n).forEach(n=>{e.id===n.id+""&&(t="active")});let{casts:i,directors:o}=e,a=[],r=[];i.forEach(e=>{a.push(e.name)}),o.forEach(e=>{r.push(e.name)});let s=`            <div class="item" data-movie-id=${e.id}>\n    <a href="#">\n        <div class="cover">\n            <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png" data-src = "${e.images.small}" alt="">\n        </div>\n        <div class="detail">\n            <h2>${e.title}</h2>\n            <div class="extra">\n                <span class="score">${e.rating.average}</span> / ${e.collect_count}收藏\n            </div>\n            <div class="extra">${e.year} / ${e.genres.join("、")}</div>\n            <div class="extra">导演：${r.join("、")}</div>\n            <div class="extra">主演：${a.join("、")}</div>\n            <span class="iconfont icon-xihuan ${t}"></span>\n\n        </div>\n    </a>\n</div>\n`;return $(s)}function a(){$(".cover img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))})}new class{constructor({top250:e,us:n,search:t,fav:i,detail:o}){this.$tabs=$("footer>div"),this.panels=$("section"),this.top250=e,this.us=n,this.search=t,this.fav=i,this.detail=o}init(){this.bind(),this.top250.init(),this.us.init(),this.search.init(),this.fav.init(),this.detail.init()}bind(){let e=this;this.$tabs.click(function(){let n=$(this).index();e.panels.hide().eq(n).fadeIn(),$(this).addClass("active").siblings().removeClass("active"),"xihuan"===$(this).data("id")&&e.fav.render()})}}({top250:new class{constructor(){this.$container=$("#top250"),this.is_lodding=!1,this.moive_index=0,this.clock=null,this.lazy_load_time_id=null,this.event_hub=i,this.data=localStorage.getItem("douban_movies")}init(){this.bind(),this.start()}bind(){let e=this,n=this.$container.parents("main");n.scroll(()=>{"none"===this.$container.parent().css("display")||(this.clock&&clearTimeout(this.clock),this.clock=setTimeout(()=>{this.$container.height()-50<=n.height()+n.scrollTop()&&(console.log("滚动到底部，发起新的请求"),this.start())},300)),this.lazy_load_time_id&&clearTimeout(this.lazy_load_time_id),this.lazy_load_time_id=setTimeout(function(){a()},500)}),this.$container.on("click",".icon-xihuan",function(n){let t=$(this).parents(".item"),i=t.data("movieId");if($(this).hasClass("active"))$(this).removeClass("active"),e.event_hub.emit("unlike",i);else{$(this).addClass("active");let n=t.wrap("<p/>").parent().html();e.event_hub.emit("like",{id:i,html:n})}n.stopPropagation()}),this.event_hub.on("fav_unlike",function(n){e.$container.find(`[data-movie-id=${n}] .icon-xihuan`).removeClass("active")}),this.$container.on("click",":not('.icon-xihuan')",function(n){e.event_hub.emit("show_detail",$(this).parents(".item").data("movieId").toString()),n.stopPropagation()})}start(){this.getData(e=>{this.render(e)})}getData(e){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$container.parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/top250",type:"GET",dataType:"jsonp",data:{start:this.moive_index,count:20}}).done(n=>{console.log("请求电影数据成功:"),e(n),this.moive_index+=20,console.log(n)}).fail(e=>{console.log("请求电影数据失败: "),console.log(e)}).always(()=>{this.is_lodding=!1,this.$container.parent().find(".loading").hide()}))}render(e){e.subjects.forEach(e=>{let n=o(e,this.data);this.$container.append(n)}),a()}},us:new class{constructor(){this.$container=$("#us"),this.col_height_arr=[],this.event_hub=i,this.img_width=$(".waterfall img").outerWidth(!0),this.col_Count=Math.floor($(".waterfall").width()/this.img_width);for(let e=0;e<this.col_Count;e++)this.col_height_arr[e]=0}init(){this.bind()}bind(){let e=this;this.$container.on("click",".img-wrap",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))})}layout(e){}start(){this.getData(e=>{this.render(e)})}getData(e){$.ajax({url:"//api.douban.com/v2/movie/us_box",type:"GET",dataType:"jsonp"}).done(n=>{console.log("请求US电影数据成功:"),e(n),console.log(n)}).fail(e=>{console.log("请求电影数据失败: "),console.log(e)})}render(e){e.subjects.forEach(e=>{let n=o(e=e.subject);this.$container.append(n)})}},search:new class{constructor(){this.$element=$("#search"),this.$input=$("#search input"),this.$container=$(".search-reslut .container"),this.data=(()=>localStorage.getItem("douban_movies")),this.event_hub=i}init(){this.bind(),this.start(),this.keyword=null}bind(){let e=this;this.$container.on("click",".item",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))}),this.$element.find(".button").click(()=>{this.keyword=this.$element.find("input").val(),this.$container.empty(),this.getData(e=>{this.render(e,this.data())})}),this.$container.on("click",".icon-xihuan",function(n){let t=$(this).parents(".item"),i=t.data("movieId");if($(this).hasClass("active"))console.log("收藏中...."),$(this).removeClass("active"),e.event_hub.emit("unlike",i);else{console.log("没有收藏..."),$(this).addClass("active");let n=t.wrap("<p/>").parent().html();e.event_hub.emit("like",{id:i,html:n})}n.stopPropagation()}),this.event_hub.on("fav_unlike",function(n){e.$container.find(`[data-movie-id=${n}] .icon-xihuan`).removeClass("active"),console.log("收藏页面取消收藏事件 成功")}),this.$input.on("keypress",function(n){let t=n.keyCode;e.keyword=$(this).val(),13===t&&(e.$container.empty(),e.getData(n=>{e.render(n,e.data())}))})}start(){}getData(e){this.is_lodding?console.log("lodding中，不重新请求数据"):(this.is_lodding=!0,this.$element.find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/search",type:"GET",dataType:"jsonp",data:{q:this.keyword}}).done(n=>{console.log("搜索电影数据成功:"),e(n),console.log(n)}).fail(e=>{console.log("搜索电影数据失败: "),console.log(e)}).always(()=>{this.is_lodding=!1,this.$element.find(".loading").hide()}))}render(e,n){e.subjects.forEach(e=>{let t=o(e,n);this.$container.append(t)}),a()}},fav:new class{constructor(){this.$container=$("#fav"),this.local_storage=localStorage,this.data=this.local_storage.getItem("douban_movies"),this.event_hub=i}init(){console.log("初始化"),null===this.data?this.data=[]:this.data=JSON.parse(this.data),this.bind(),this.render()}bind(){let e=this;this.$container.on("click",".icon-xihuan",function(n){console.log("取消喜欢...");let t=$(this).parents(".item").data("movieId");e.remove_movie(t),e.event_hub.emit("fav_unlike",t),n.stopPropagation()}),this.$container.on("click",".item",function(){e.event_hub.emit("show_detail",$(this).data("movieId"))}),this.event_hub.on("like",function(n){console.log("我监听到了like事件..."),e.data.unshift(n),e.local_storage.setItem("douban_movies",JSON.stringify(e.data))}),this.event_hub.on("unlike",function(n){console.log("我监听到了unlike事件..."),e.remove_movie(n)})}remove_movie(e){let n=null;for(let[t,i]of this.data.entries())if(i.id===e){n=t;break}this.data.splice(n,1),this.local_storage.setItem("douban_movies",JSON.stringify(this.data)),this.render()}render(){this.$container.empty(),0===this.data.length?(console.log("\b\b暂无收藏..."),this.$container.append($('<span class="no-data">\b暂无收藏哦...</span>'))):this.data.forEach(e=>{this.$container.append($(e.html))})}},detail:new class{constructor(){this.$container=$("#detail"),this.$height=$(window).height(),this.event_hub=i,this.data=null}init(){this.bind()}bind(){this.$container.on("click",".close button",()=>{console.log("关闭详情页..."),this.$container.fadeOut()}),this.event_hub.on("show_detail",e=>{console.log(e);let n=`//api.douban.com/v2/movie/subject/${e}`;this.get_data(n,()=>{this.render()})})}get_data(e,n){let t=this;$.ajax({url:e,type:"GET",dataType:"jsonp",data:{apikey:"0b2bdeda43b5688921839c8ecb20399b"}}).done(e=>{console.log("请求电影\b详情数据成功."),t.data=e,t.render()}).fail(e=>{console.log("请求电影\b详情数据失败."),t.data=e})}render(){let e=this.data,n="",t="",i="";console.log(e),e.directors.map(e=>{console.log(e),n+=e.name+"(导演) / ",t+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${e.avatars.small}')"></div>\n                                    <span class="name">${e.name}</span>\n                                    <span class="role">导演</span>\n                                </li>`}),e.casts.map(e=>{console.log(e),i+=e.name+" / ",t+=`<li>\n                                    <div class="poster" style="\n                                    background-image: url('${e.avatars.small}')"></div>\n                                    <span class="name">${e.name}</span>\n                                    <span class="role">演员</span>\n                                </li>`});let o=e.tags.map(e=>`<li class="channel_tag"><a href="">${e}</a></li>`),a=`${e.durations[0]+" / "+e.genres.join(" / ")+" / "+n+i+this.data.pubdates.join(" / ")}`,r=`\n        <div class="movie_detail" style="height:${this.$height}px">\n            <div class="card">\n                <h1>${e.title}</h1>\n                <div class="subject">\n                    <div class="left">\n                        <p class="ratting">\n                            <span class="star"></span>\n                            <strong class="score">${e.rating.average}</strong>\n                            <span class="count">${e.ratings_count}人评价</span>\n                        </p>\n                        <p class="meta">${a}\n                        </p>\n                    </div>\n                    <div class="right">\n                        <img src="${e.images.small}" alt="">\n                    </div>\n                </div>\n                <div class="channel_tags">\n                    <h2>所属频道</h2>\n                    <ul>\n                        ${o.join("")}\n                    </ul>\n                </div>\n                <div class="intro">\n                    <h2>${e.title}的剧情简介</h2>\n                    <p class="bd">\n                          ${e.summary}  \n                    </p>\n\n                </div>\n                <div class="celebrities">\n                    <h2>影人</h2>\n                    <ul>\n                        ${t}        \n                    </ul>\n                </div>\n            </div>\n            <div class="close">\n                <button>关闭</button>\n            </div>\n        </div>\n        `;this.$container.empty(),this.$container.append(r).fadeIn(),console.log("detail 渲染成功...")}}}).init();function r(e){let n=[70,80,90,120];e.subjects.forEach(e=>{let t=`\n         <div class="img-wrap" data-movie-id=${e.id}>\n            <img src="http://img3.doubanio.com/f/movie/b6dc761f5e4cf04032faa969826986efbecd54bb/pics/movie/movie_default_small.png"  data-src = "${e.images.small}" alt="">\n            <span class="score">${Number(e.rating.average).toFixed(1)}<span>\n         </div>\n         `,i=$(t);i.find("img").css("height",n[Math.floor(4*Math.random())]),$(".waterfall").append(i)}),function(){let e=[],n=$(".waterfall .img-wrap").outerWidth(!0),t=Math.floor($(".waterfall").width()/n);for(let n=0;n<t;n++)e[n]=0;console.log(`${e} ${n} ${t}`),$(".waterfall .img-wrap").each(function(){let t=Math.min(...e),i=e.indexOf(t);$(this).css({left:i*n,top:t}),e[i]+=$(this).outerHeight(!0)}),$(".waterfall img").not("[data-isLoaded]").each(function(){$("main").height()+$("main").scrollTop()>$(this).offset().top&&($(this).attr("src",$(this).attr("data-src")),$(this).attr("data-isLoaded",1))});let i=$(".waterfall .img-wrap").parents("section").outerWidth(!0),o=$(".waterfall .img-wrap").eq(0).outerWidth(!0)*t,a=Math.floor((i-o)/2);$(".waterfall .img-wrap").parents("section").css({"padding-left":a,"padding-top":a}),console.log(`padding-left is ${a}`)}()}$("footer>div").eq(1).click(()=>{0===$(".waterfall img").length&&function(e){$(".waterfall").parent().find(".loading").show(),$.ajax({url:"//api.douban.com/v2/movie/in_theaters",type:"GET",dataType:"jsonp"}).done(n=>{e(n),console.log(n)}).fail(e=>{console.log("请求电影数据失败: "),console.log(e)}).always(()=>{$(".waterfall").parent().find(".loading").hide()})}(r)})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY3NzL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL2Nzcy9zdHlsZS5jc3M/ZjY4YyIsIndlYnBhY2s6Ly8vLi9pbmRleC5qcyJdLCJuYW1lcyI6WyJwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayIsIndpbmRvdyIsImNodW5rSWQiLCJtb3JlTW9kdWxlcyIsImhvdEF2YWlsYWJsZUZpbGVzTWFwIiwiaG90UmVxdWVzdGVkRmlsZXNNYXAiLCJtb2R1bGVJZCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RSZXF1ZXN0VGltZW91dCIsImhvdEN1cnJlbnRNb2R1bGVEYXRhIiwiaG90Q3VycmVudFBhcmVudHMiLCJob3RDdXJyZW50UGFyZW50c1RlbXAiLCJob3RDcmVhdGVSZXF1aXJlIiwibWUiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImZuIiwicmVxdWVzdCIsImhvdCIsImFjdGl2ZSIsInBhcmVudHMiLCJpbmRleE9mIiwicHVzaCIsImNoaWxkcmVuIiwiY29uc29sZSIsIndhcm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZSIsImhvdFN0YXR1cyIsImhvdFNldFN0YXR1cyIsInRoZW4iLCJmaW5pc2hDaHVua0xvYWRpbmciLCJlcnIiLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJob3RFbnN1cmVVcGRhdGVDaHVuayIsInQiLCJtb2RlIiwiaG90Q3JlYXRlTW9kdWxlIiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfZGlzcG9zZUhhbmRsZXJzIiwiX21haW4iLCJhY2NlcHQiLCJkZXAiLCJjYWxsYmFjayIsInVuZGVmaW5lZCIsImkiLCJsZW5ndGgiLCJkZWNsaW5lIiwiZGlzcG9zZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJpZHgiLCJzcGxpY2UiLCJjaGVjayIsImhvdENoZWNrIiwiYXBwbHkiLCJob3RBcHBseSIsInN0YXR1cyIsImwiLCJob3RTdGF0dXNIYW5kbGVycyIsImFkZFN0YXR1c0hhbmRsZXIiLCJyZW1vdmVTdGF0dXNIYW5kbGVyIiwiZGF0YSIsIm5ld1N0YXR1cyIsImhvdERlZmVycmVkIiwiaG90VXBkYXRlTmV3SGFzaCIsInRvTW9kdWxlSWQiLCJpZCIsIkVycm9yIiwicmVxdWVzdFRpbWVvdXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIlhNTEh0dHBSZXF1ZXN0IiwicmVxdWVzdFBhdGgiLCJwIiwib3BlbiIsInRpbWVvdXQiLCJzZW5kIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInVwZGF0ZSIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsImMiLCJoIiwicHJvbWlzZSIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJzcmMiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJob3REb3dubG9hZFVwZGF0ZUNodW5rIiwiZGVmZXJyZWQiLCJyZXN1bHQiLCJvdXRkYXRlZE1vZHVsZXMiLCJvcHRpb25zIiwiY2IiLCJqIiwibW9kdWxlIiwiZ2V0QWZmZWN0ZWRTdHVmZiIsInVwZGF0ZU1vZHVsZUlkIiwib3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJxdWV1ZSIsInNsaWNlIiwibWFwIiwiY2hhaW4iLCJxdWV1ZUl0ZW0iLCJwb3AiLCJ0eXBlIiwicGFyZW50SWQiLCJwYXJlbnQiLCJjb25jYXQiLCJhZGRBbGxUb1NldCIsImEiLCJiIiwiaXRlbSIsImFwcGxpZWRVcGRhdGUiLCJ3YXJuVW5leHBlY3RlZFJlcXVpcmUiLCJhYm9ydEVycm9yIiwiZG9BcHBseSIsImRvRGlzcG9zZSIsImNoYWluSW5mbyIsImpvaW4iLCJvbkRlY2xpbmVkIiwiaWdub3JlRGVjbGluZWQiLCJvblVuYWNjZXB0ZWQiLCJpZ25vcmVVbmFjY2VwdGVkIiwib25BY2NlcHRlZCIsIm9uRGlzcG9zZWQiLCJvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImluc3RhbGxlZENodW5rcyIsImhvdERpc3Bvc2VDaHVuayIsImRlcGVuZGVuY3kiLCJtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkIiwibW9kdWxlcyIsImVycm9yIiwiY2FsbGJhY2tzIiwib25FcnJvcmVkIiwiZGVwZW5kZW5jeUlkIiwiaWdub3JlRXJyb3JlZCIsImVycjIiLCJvcmlnaW5hbEVycm9yIiwiZXhwb3J0cyIsIm0iLCJkIiwiZ2V0dGVyIiwibyIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJzIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwiYnRvYSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VNYXAiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIm1lbW8iLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJhbGwiLCJhdG9iIiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50Iiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJkb21TdHlsZSIsInJlZnMiLCJwYXJ0cyIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJhdHRycyIsIm5vbmNlIiwibmMiLCJnZXROb25jZSIsImFkZEF0dHJzIiwiZWwiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJyZW1vdmUiLCJ0cmFuc2Zvcm0iLCJkZWZhdWx0Iiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJobXIiLCJsb2NhbHMiLCJuZXdDb250ZW50IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwibWFpbl9oZWlnaHQiLCIkIiwiaGVpZ2h0IiwibG9nIiwiRXZlbnRfaHViIiwiZXZlbnRzIiwiW29iamVjdCBPYmplY3RdIiwiZ2VuZXJhdGVfaHRtbF90bXAiLCJtb3ZpZSIsImxvY2FsX2RhdGEiLCJjYXN0cyIsImRpcmVjdG9ycyIsImNhc3RfbmFtZV9hcnIiLCJkaXJlY3Rvcl9uYW1lX2FyciIsImNhc3QiLCJkaXJlY3RvciIsInRtcCIsImltYWdlcyIsInNtYWxsIiwidGl0bGUiLCJyYXRpbmciLCJhdmVyYWdlIiwiY29sbGVjdF9jb3VudCIsInllYXIiLCJnZW5yZXMiLCJsYXp5X2xvYWQiLCJub3QiLCJlYWNoIiwic2Nyb2xsVG9wIiwib2Zmc2V0IiwidG9wIiwiYXR0ciIsInRvcDI1MCIsInVzIiwic2VhcmNoIiwiZmF2IiwiZGV0YWlsIiwiJHRhYnMiLCJwYW5lbHMiLCJpbml0IiwiX3RoaXMiLCJjbGljayIsImhpZGUiLCJlcSIsImZhZGVJbiIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsInJlbmRlciIsIiRjb250YWluZXIiLCJpc19sb2RkaW5nIiwibW9pdmVfaW5kZXgiLCJjbG9jayIsImxhenlfbG9hZF90aW1lX2lkIiwiZXZlbnRfaHViIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInN0YXJ0IiwiJG1haW4iLCJzY3JvbGwiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib24iLCJtb3ZpZV9pdGVtIiwibW92aWVfaWQiLCJoYXNDbGFzcyIsImVtaXQiLCJtb3ZpZV9odG1sX3N0ciIsIndyYXAiLCJodG1sIiwic3RvcFByb3BhZ2F0aW9uIiwiZmluZCIsImdldERhdGEiLCJzaG93IiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiY291bnQiLCJkb25lIiwicmVzIiwiZmFpbCIsImFsd2F5cyIsInN1YmplY3RzIiwiJG5vZGUiLCJhcHBlbmQiLCJjb2xfaGVpZ2h0X2FyciIsImltZ193aWR0aCIsIm91dGVyV2lkdGgiLCJjb2xfQ291bnQiLCJNYXRoIiwiZmxvb3IiLCJ3aWR0aCIsInN1YmplY3QiLCIkZWxlbWVudCIsIiRpbnB1dCIsImtleXdvcmQiLCJ2YWwiLCJlbXB0eSIsImtleV9jb2RlIiwia2V5Q29kZSIsInEiLCJsb2NhbF9zdG9yYWdlIiwicmVtb3ZlX21vdmllIiwidW5zaGlmdCIsInNldEl0ZW0iLCJtb3ZpZV9pbmRleCIsImVudHJpZXMiLCIkaGVpZ2h0IiwiZmFkZU91dCIsImdldF9kYXRhIiwiYXBpa2V5IiwibWV0YV9kaXJlY3RvcnMiLCJjZWxlYnJpdGllcyIsIm1ldGFfY2FzdHMiLCJhdmF0YXJzIiwidGFncyIsInRhZyIsIm1ldGEiLCJkdXJhdGlvbnMiLCJwdWJkYXRlcyIsInJhdGluZ3NfY291bnQiLCJzdW1tYXJ5IiwiaGVpZ2h0X2FyciIsIk51bWJlciIsInRvRml4ZWQiLCIkZWxlbW5ldCIsInJhbmRvbSIsImNvbEhlaWdodEFycmF5IiwiaW1nV2lkdGgiLCJjb2xDb3VudCIsIm1pbl92YWx1ZSIsIm1pbiIsIm1pbl9pbmRleCIsImxlZnQiLCJvdXRlckhlaWdodCIsInRvdGFsX3dpZHRoIiwiaW1nc193aWR0aCIsInBhZGRpbmciLCJwYWRkaW5nLWxlZnQiLCJwYWRkaW5nLXRvcCIsImxheW91dCJdLCJtYXBwaW5ncyI6ImFBR0EsSUFBQUEsRUFBQUMsT0FBQSxpQkFDQUEsT0FBQSxpQkFDQSxTQUFBQyxFQUFBQyxJQWdSQSxTQUFBRCxFQUFBQyxHQUNBLElBQUFDLEVBQUFGLEtBQUFHLEVBQUFILEdBQ0EsT0FFQSxRQUFBSSxLQURBRCxFQUFBSCxJQUFBLEVBQ0FDLEVBQ0FJLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUFQLEVBQUFHLEtBQ0FLLEVBQUFMLEdBQUFILEVBQUFHLElBR0EsS0FBQU0sR0FBQSxJQUFBQyxHQUNBQyxJQXpSQUMsQ0FBQWIsRUFBQUMsR0FDQUgsS0FBQUUsRUFBQUMsSUF1REEsSUFLQWEsRUFMQUMsR0FBQSxFQUVBQyxFQUFBLHVCQUNBQyxFQUFBLElBQ0FDLEVBQUEsR0FHQUMsRUFBQSxHQUVBQyxFQUFBLEdBR0EsU0FBQUMsRUFBQWpCLEdBQ0EsSUFBQWtCLEVBQUFDLEVBQUFuQixHQUNBLElBQUFrQixFQUFBLE9BQUFFLEVBQ0EsSUFBQUMsRUFBQSxTQUFBQyxHQXNCQSxPQXJCQUosRUFBQUssSUFBQUMsUUFDQUwsRUFBQUcsSUFDQSxJQUFBSCxFQUFBRyxHQUFBRyxRQUFBQyxRQUFBMUIsSUFDQW1CLEVBQUFHLEdBQUFHLFFBQUFFLEtBQUEzQixJQUdBZSxFQUFBLENBQUFmLEdBQ0FVLEVBQUFZLElBRUEsSUFBQUosRUFBQVUsU0FBQUYsUUFBQUosSUFDQUosRUFBQVUsU0FBQUQsS0FBQUwsS0FHQU8sUUFBQUMsS0FDQSw0QkFDQVIsRUFDQSwwQkFDQXRCLEdBRUFlLEVBQUEsSUFFQUssRUFBQUUsSUFFQVMsRUFBQSxTQUFBQyxHQUNBLE9BQ0FDLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBLFdBQ0EsT0FBQWYsRUFBQVksSUFFQUks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TDFXLEVBQUEwVyxHQUNBbFcsUUFBQXNSLElBQUE0RSxLQUNLQyxLQUFBRCxJQUNMbFcsUUFBQXNSLElBQUEsY0FDQXRSLFFBQUFzUixJQUFBNEUsS0FDS0UsT0FBQSxLQUNMaEYsRUFBQSxjQUFBaEwsU0FBQXNQLEtBQUEsWUFBQTdCLFNBekJBOEIsQ0FBQXhCIiwiZmlsZSI6ImFwcC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHRmdW5jdGlvbiBob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRkZWxldGUgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0fVxuIFx0dmFyIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrID0gd2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXTtcbiBcdHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl0gPSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIHdlYnBhY2tIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHRcdGlmIChwYXJlbnRIb3RVcGRhdGVDYWxsYmFjaykgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0fSA7XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuIFx0XHRzY3JpcHQuY2hhcnNldCA9IFwidXRmLThcIjtcbiBcdFx0c2NyaXB0LnNyYyA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBjaHVua0lkICsgXCIuXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNcIjtcbiBcdFx0aWYgKG51bGwpIHNjcmlwdC5jcm9zc09yaWdpbiA9IG51bGw7XG4gXHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZE1hbmlmZXN0KHJlcXVlc3RUaW1lb3V0KSB7XG4gXHRcdHJlcXVlc3RUaW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQgfHwgMTAwMDA7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIk5vIGJyb3dzZXIgc3VwcG9ydFwiKSk7XG4gXHRcdFx0fVxuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuIFx0XHRcdFx0dmFyIHJlcXVlc3RQYXRoID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc29uXCI7XG4gXHRcdFx0XHRyZXF1ZXN0Lm9wZW4oXCJHRVRcIiwgcmVxdWVzdFBhdGgsIHRydWUpO1xuIFx0XHRcdFx0cmVxdWVzdC50aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XG4gXHRcdFx0XHRyZXF1ZXN0LnNlbmQobnVsbCk7XG4gXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRyZXR1cm4gcmVqZWN0KGVycik7XG4gXHRcdFx0fVxuIFx0XHRcdHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSByZXR1cm47XG4gXHRcdFx0XHRpZiAocmVxdWVzdC5zdGF0dXMgPT09IDApIHtcbiBcdFx0XHRcdFx0Ly8gdGltZW91dFxuIFx0XHRcdFx0XHRyZWplY3QoXG4gXHRcdFx0XHRcdFx0bmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgdGltZWQgb3V0LlwiKVxuIFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gNDA0KSB7XG4gXHRcdFx0XHRcdC8vIG5vIHVwZGF0ZSBhdmFpbGFibGVcbiBcdFx0XHRcdFx0cmVzb2x2ZSgpO1xuIFx0XHRcdFx0fSBlbHNlIGlmIChyZXF1ZXN0LnN0YXR1cyAhPT0gMjAwICYmIHJlcXVlc3Quc3RhdHVzICE9PSAzMDQpIHtcbiBcdFx0XHRcdFx0Ly8gb3RoZXIgZmFpbHVyZVxuIFx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKFwiTWFuaWZlc3QgcmVxdWVzdCB0byBcIiArIHJlcXVlc3RQYXRoICsgXCIgZmFpbGVkLlwiKSk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHQvLyBzdWNjZXNzXG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0dmFyIHVwZGF0ZSA9IEpTT04ucGFyc2UocmVxdWVzdC5yZXNwb25zZVRleHQpO1xuIFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG4gXHRcdFx0XHRcdFx0cmVqZWN0KGUpO1xuIFx0XHRcdFx0XHRcdHJldHVybjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRyZXNvbHZlKHVwZGF0ZSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdHZhciBob3RBcHBseU9uVXBkYXRlID0gdHJ1ZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRIYXNoID0gXCIyM2M4NGM2OGNlMjM5MWQ5OWE2ZFwiO1xuIFx0dmFyIGhvdFJlcXVlc3RUaW1lb3V0ID0gMTAwMDA7XG4gXHR2YXIgaG90Q3VycmVudE1vZHVsZURhdGEgPSB7fTtcbiBcdHZhciBob3RDdXJyZW50Q2hpbGRNb2R1bGU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHNUZW1wID0gW107XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgbWUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0aWYgKCFtZSkgcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX187XG4gXHRcdHZhciBmbiA9IGZ1bmN0aW9uKHJlcXVlc3QpIHtcbiBcdFx0XHRpZiAobWUuaG90LmFjdGl2ZSkge1xuIFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0pIHtcbiBcdFx0XHRcdFx0aWYgKGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5pbmRleE9mKG1vZHVsZUlkKSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMucHVzaChtb2R1bGVJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gcmVxdWVzdDtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtZS5jaGlsZHJlbi5pbmRleE9mKHJlcXVlc3QpID09PSAtMSkge1xuIFx0XHRcdFx0XHRtZS5jaGlsZHJlbi5wdXNoKHJlcXVlc3QpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcdFwiW0hNUl0gdW5leHBlY3RlZCByZXF1aXJlKFwiICtcbiBcdFx0XHRcdFx0XHRyZXF1ZXN0ICtcbiBcdFx0XHRcdFx0XHRcIikgZnJvbSBkaXNwb3NlZCBtb2R1bGUgXCIgK1xuIFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHQpO1xuIFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdFx0XHR9XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18ocmVxdWVzdCk7XG4gXHRcdH07XG4gXHRcdHZhciBPYmplY3RGYWN0b3J5ID0gZnVuY3Rpb24gT2JqZWN0RmFjdG9yeShuYW1lKSB7XG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXTtcbiBcdFx0XHRcdH0sXG4gXHRcdFx0XHRzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gXHRcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX19bbmFtZV0gPSB2YWx1ZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9O1xuIFx0XHRmb3IgKHZhciBuYW1lIGluIF9fd2VicGFja19yZXF1aXJlX18pIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoX193ZWJwYWNrX3JlcXVpcmVfXywgbmFtZSkgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwiZVwiICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcInRcIlxuIFx0XHRcdCkge1xuIFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBuYW1lLCBPYmplY3RGYWN0b3J5KG5hbWUpKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0Zm4uZSA9IGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInJlYWR5XCIpIGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0aG90Q2h1bmtzTG9hZGluZysrO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoY2h1bmtJZCkudGhlbihmaW5pc2hDaHVua0xvYWRpbmcsIGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0ZmluaXNoQ2h1bmtMb2FkaW5nKCk7XG4gXHRcdFx0XHR0aHJvdyBlcnI7XG4gXHRcdFx0fSk7XG5cbiBcdFx0XHRmdW5jdGlvbiBmaW5pc2hDaHVua0xvYWRpbmcoKSB7XG4gXHRcdFx0XHRob3RDaHVua3NMb2FkaW5nLS07XG4gXHRcdFx0XHRpZiAoaG90U3RhdHVzID09PSBcInByZXBhcmVcIikge1xuIFx0XHRcdFx0XHRpZiAoIWhvdFdhaXRpbmdGaWxlc01hcFtjaHVua0lkXSkge1xuIFx0XHRcdFx0XHRcdGhvdEVuc3VyZVVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmIChob3RDaHVua3NMb2FkaW5nID09PSAwICYmIGhvdFdhaXRpbmdGaWxlcyA9PT0gMCkge1xuIFx0XHRcdFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fTtcbiBcdFx0Zm4udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdFx0aWYgKG1vZGUgJiAxKSB2YWx1ZSA9IGZuKHZhbHVlKTtcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy50KHZhbHVlLCBtb2RlICYgfjEpO1xuIFx0XHR9O1xuIFx0XHRyZXR1cm4gZm47XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBob3QgPSB7XG4gXHRcdFx0Ly8gcHJpdmF0ZSBzdHVmZlxuIFx0XHRcdF9hY2NlcHRlZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X2RlY2xpbmVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfc2VsZkFjY2VwdGVkOiBmYWxzZSxcbiBcdFx0XHRfc2VsZkRlY2xpbmVkOiBmYWxzZSxcbiBcdFx0XHRfZGlzcG9zZUhhbmRsZXJzOiBbXSxcbiBcdFx0XHRfbWFpbjogaG90Q3VycmVudENoaWxkTW9kdWxlICE9PSBtb2R1bGVJZCxcblxuIFx0XHRcdC8vIE1vZHVsZSBBUElcbiBcdFx0XHRhY3RpdmU6IHRydWUsXG4gXHRcdFx0YWNjZXB0OiBmdW5jdGlvbihkZXAsIGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkFjY2VwdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwiZnVuY3Rpb25cIikgaG90Ll9zZWxmQWNjZXB0ZWQgPSBkZXA7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdFx0ZWxzZSBob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcF0gPSBjYWxsYmFjayB8fCBmdW5jdGlvbigpIHt9O1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGVjbGluZTogZnVuY3Rpb24oZGVwKSB7XG4gXHRcdFx0XHRpZiAoZGVwID09PSB1bmRlZmluZWQpIGhvdC5fc2VsZkRlY2xpbmVkID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGhvdC5fZGVjbGluZWREZXBlbmRlbmNpZXNbZGVwXSA9IHRydWU7XG4gXHRcdFx0fSxcbiBcdFx0XHRkaXNwb3NlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGREaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90Ll9kaXNwb3NlSGFuZGxlcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdC5fZGlzcG9zZUhhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvLyBNYW5hZ2VtZW50IEFQSVxuIFx0XHRcdGNoZWNrOiBob3RDaGVjayxcbiBcdFx0XHRhcHBseTogaG90QXBwbHksXG4gXHRcdFx0c3RhdHVzOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRpZiAoIWwpIHJldHVybiBob3RTdGF0dXM7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZVN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3RTdGF0dXNIYW5kbGVycy5pbmRleE9mKGwpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3RTdGF0dXNIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly9pbmhlcml0IGZyb20gcHJldmlvdXMgZGlzcG9zZSBjYWxsXG4gXHRcdFx0ZGF0YTogaG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdXG4gXHRcdH07XG4gXHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHVuZGVmaW5lZDtcbiBcdFx0cmV0dXJuIGhvdDtcbiBcdH1cblxuIFx0dmFyIGhvdFN0YXR1c0hhbmRsZXJzID0gW107XG4gXHR2YXIgaG90U3RhdHVzID0gXCJpZGxlXCI7XG5cbiBcdGZ1bmN0aW9uIGhvdFNldFN0YXR1cyhuZXdTdGF0dXMpIHtcbiBcdFx0aG90U3RhdHVzID0gbmV3U3RhdHVzO1xuIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGhvdFN0YXR1c0hhbmRsZXJzLmxlbmd0aDsgaSsrKVxuIFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzW2ldLmNhbGwobnVsbCwgbmV3U3RhdHVzKTtcbiBcdH1cblxuIFx0Ly8gd2hpbGUgZG93bmxvYWRpbmdcbiBcdHZhciBob3RXYWl0aW5nRmlsZXMgPSAwO1xuIFx0dmFyIGhvdENodW5rc0xvYWRpbmcgPSAwO1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90QXZhaWxhYmxlRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3REZWZlcnJlZDtcblxuIFx0Ly8gVGhlIHVwZGF0ZSBpbmZvXG4gXHR2YXIgaG90VXBkYXRlLCBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRmdW5jdGlvbiB0b01vZHVsZUlkKGlkKSB7XG4gXHRcdHZhciBpc051bWJlciA9ICtpZCArIFwiXCIgPT09IGlkO1xuIFx0XHRyZXR1cm4gaXNOdW1iZXIgPyAraWQgOiBpZDtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90Q2hlY2soYXBwbHkpIHtcbiBcdFx0aWYgKGhvdFN0YXR1cyAhPT0gXCJpZGxlXCIpIHtcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJjaGVjaygpIGlzIG9ubHkgYWxsb3dlZCBpbiBpZGxlIHN0YXR1c1wiKTtcbiBcdFx0fVxuIFx0XHRob3RBcHBseU9uVXBkYXRlID0gYXBwbHk7XG4gXHRcdGhvdFNldFN0YXR1cyhcImNoZWNrXCIpO1xuIFx0XHRyZXR1cm4gaG90RG93bmxvYWRNYW5pZmVzdChob3RSZXF1ZXN0VGltZW91dCkudGhlbihmdW5jdGlvbih1cGRhdGUpIHtcbiBcdFx0XHRpZiAoIXVwZGF0ZSkge1xuIFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiaWRsZVwiKTtcbiBcdFx0XHRcdHJldHVybiBudWxsO1xuIFx0XHRcdH1cbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdFdhaXRpbmdGaWxlc01hcCA9IHt9O1xuIFx0XHRcdGhvdEF2YWlsYWJsZUZpbGVzTWFwID0gdXBkYXRlLmM7XG4gXHRcdFx0aG90VXBkYXRlTmV3SGFzaCA9IHVwZGF0ZS5oO1xuXG4gXHRcdFx0aG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0aG90RGVmZXJyZWQgPSB7XG4gXHRcdFx0XHRcdHJlc29sdmU6IHJlc29sdmUsXG4gXHRcdFx0XHRcdHJlamVjdDogcmVqZWN0XG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdHZhciBjaHVua0lkID0gMDtcbiBcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9uZS1ibG9ja3NcbiBcdFx0XHR7XG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiZcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiZcbiBcdFx0XHRcdGhvdFdhaXRpbmdGaWxlcyA9PT0gMFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXG4gXHRcdFx0cmV0dXJuO1xuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xuIFx0XHRmb3IgKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYgKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XG4gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcbiBcdFx0aWYgKCFkZWZlcnJlZCkgcmV0dXJuO1xuIFx0XHRpZiAoaG90QXBwbHlPblVwZGF0ZSkge1xuIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXG4gXHRcdFx0Ly8gYXZvaWQgdHJpZ2dlcmluZyB1bmNhdWdodCBleGNlcHRpb24gd2FybmluZyBpbiBDaHJvbWUuXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxuIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpXG4gXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xuIFx0XHRcdFx0fSlcbiBcdFx0XHRcdC50aGVuKFxuIFx0XHRcdFx0XHRmdW5jdGlvbihyZXN1bHQpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gXHRcdFx0XHRcdH0sXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHQpO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpXG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuIFx0XHR2YXIgY2I7XG4gXHRcdHZhciBpO1xuIFx0XHR2YXIgajtcbiBcdFx0dmFyIG1vZHVsZTtcbiBcdFx0dmFyIG1vZHVsZUlkO1xuXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xuIFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXG4gXHRcdFx0XHRcdGlkOiBpZFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRpZiAoIXBhcmVudCkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHRcdH07XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXG4gXHRcdFx0fTtcbiBcdFx0fVxuXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcbiBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcbiBcdFx0XHRcdGlmIChhLmluZGV4T2YoaXRlbSkgPT09IC0xKSBhLnB1c2goaXRlbSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xuXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4gXHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCJcbiBcdFx0XHQpO1xuIFx0XHR9O1xuXG4gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XG4gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRcdFx0aWYgKGhvdFVwZGF0ZVtpZF0pIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHQpXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoXCIuL2luZGV4LmpzXCIpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9pbmRleC5qc1wiKTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuKiB7XFxuICAgIG1hcmdpbjowO1xcbiAgICBwYWRkaW5nOjA7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcbmEge1xcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XFxuICAgIGNvbG9yOiMzMzM7XFxufVxcblxcbnVsIGxpIHtcXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcXG59XFxuXFxuYm9keSB7XFxuICAgIGZvbnQtc2l6ZTogMTJweDtcXG4gICAgbGluZS1oZWlnaHQ6IDEuMjtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjojZmZmO1xcbiAgICBmb250LWZhbWlseTogXFxcIkhlbHZldGljYSBOZXVlXFxcIixIZWx2ZXRpY2EsUm9ib3RvLEFyaWFsLHNhbnMtc2VyaWY7XFxufVxcblxcbm1haW4ge1xcbiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA1MHB4KTtcXG4gICAgb3ZlcmZsb3c6c2Nyb2xsO1xcbiAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XFxufVxcblxcbm1haW4gPiBzZWN0aW9uIHtcXG4gICAgcGFkZGluZzoxMHB4O1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG5tYWluID4gc2VjdGlvbjpmaXJzdC1jaGlsZCB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG5cXG4uaXRlbSB7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjY2NjO1xcbiAgICBwYWRkaW5nLWJvdHRvbToxMHB4O1xcbiAgICBwYWRkaW5nLXRvcDoxMHB4O1xcbn1cXG5cXG4uaXRlbT5hIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5pdGVtPmEgLmNvdmVyLCAuaXRlbT5hIGltZyB7XFxuICAgIHdpZHRoOjcwcHg7XFxufVxcblxcbi5pdGVtIC5kZXRhaWwge1xcbiAgICBwYWRkaW5nLWxlZnQ6MTBweDtcXG4gICAgZmxleDoxO1xcbn1cXG5cXG4uaXRlbSAuZGV0YWlsIGgyIHtcXG4gICAgZm9udC1zaXplOiAxNnB4O1xcbn1cXG5cXG4uaXRlbSAuZGV0YWlsIC5leHRyYSB7XFxuICAgIGNvbG9yOiM5OTk7XFxuICAgIG1hcmdpbi10b3A6NHB4O1xcbn1cXG5cXG4uaXRlbSAuZGV0YWlsIC5zY29yZSB7XFxuICAgIGNvbG9yOiNmZjU3MjI7XFxuICAgIC8qIG1hcmdpbi1yaWdodDo4cHg7ICovXFxufVxcblxcbi5sb2FkaW5nIC5pY29uZm9udCB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgZm9udC1zaXplOiAzZW07XFxuICAgIGNvbG9yOmxpZ2h0cGluaztcXG4gICAgYW5pbWF0aW9uOiAxcyByb3RhdGUgbGluZWFyIGluZmluaXRlO1xcblxcbn1cXG5cXG4ubG9hZGluZyB7XFxuICAgIHBhZGRpbmc6NXB4O1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcblxcbnNlY3Rpb24gLnNlYXJjaC1hcmVhIHtcXG4gICAgY29sb3I6ICMzMzM7XFxuICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYztcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG5zZWN0aW9uIC5zZWFyY2gtYXJlYSBpbnB1dCB7XFxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA1MHB4KTtcXG4gICAgcGFkZGluZzogOHB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgICBib3JkZXI6IG5vbmU7XFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gICAgYm94LXNoYWRvdzogbm9uZTtcXG4gICAgb3V0bGluZTogbm9uZTtcXG59XFxuXFxuc2VjdGlvbiAuc2VhcmNoLWFyZWEgLmJ1dHRvbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIHBhZGRpbmc6IDhweCAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kOiAjRkY1NzIyO1xcbiAgICBjb2xvcjogI2ZmZjtcXG4gICAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbnNlY3Rpb24gI3VzIHtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4vKiBzZWN0aW9uICN1cyBpbWcge1xcbiAgICB3aWR0aDo4MHB4O1xcbiAgICBtYXJnaW46IDJweDtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbn0gICovXFxuXFxuLyog5re75Yqg6K+E5YiGICovXFxuc2VjdGlvbiAjdXMgLmltZy13cmFwIHtcXG4gICAgd2lkdGg6ODBweDtcXG4gICAgbWFyZ2luOiAycHg7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG5cXG5zZWN0aW9uICN1cyBpbWcge1xcbiAgICB3aWR0aDo4MHB4O1xcbn0gIFxcbnNlY3Rpb24gI3VzIC5zY29yZSB7XFxuICAgIGZvbnQtc2l6ZTogLjllbTtcXG4gICAgZm9udC13ZWlnaHQ6IDMwMDtcXG4gICAgcmlnaHQ6IDJweDtcXG4gICAgYm90dG9tOiA0cHg7XFxuICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBiYWNrZ3JvdW5kOiAjZmY1NzIyO1xcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgIG9wYWNpdHk6IC44O1xcbiAgICBwYWRkaW5nOiA0cHg7XFxufVxcblxcbi8qIOa3u+WKoOaUtuiXjyAqL1xcbnNlY3Rpb24gLmljb24teGlodWFuIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMTBweDtcXG4gICAgdG9wOiA1MCU7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNzAlKTtcXG4gICAgZm9udC1zaXplOiAyLjFlbTtcXG59XFxuXFxuc2VjdGlvbiAuaWNvbi14aWh1YW4uYWN0aXZlIHtcXG4gICAgY29sb3I6cmVkO1xcbn1cXG5cXG5zZWN0aW9uIC5uby1kYXRhIHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBmb250LXNpemU6IDEuM2VtO1xcbiAgICBjb2xvcjogZ3JleTtcXG4gICAgbGVmdDogNTAlO1xcbiAgICB0b3A6IDUwJTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtMjUwJSk7XFxufVxcblxcbi8qIOa3u+WKoOaUtuiXj+e7k+adnyAqL1xcblxcbnNlY3Rpb24gLml0ZW0gLmRldGFpbCB7XFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLyog5re75Yqg6K+E5YiGIOe7k+adnyovXFxuXFxuXFxuQGtleWZyYW1lcyByb3RhdGUge1xcbiAgICAwJSB7XFxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gICAgfVxcbiAgICAxMDAlIHtcXG4gICAgICAgIHRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTtcXG4gICAgfVxcbn1cXG5cXG5mb290ZXIge1xcbiAgICBoZWlnaHQ6IDUwcHg7XFxuICAgIGJvcmRlci10b3A6MXB4IHNvbGlkICNjY2M7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIFxcbn1cXG5cXG5mb290ZXIgLmFjdGl2ZSB7XFxuICAgIGNvbG9yOiNmZjU3MjI7XFxufVxcblxcbmZvb3Rlcj5kaXYge1xcbiAgICBmbGV4OjE7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuZm9vdGVyPmRpdj5zcGFuIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHBhZGRpbmctdG9wOjVweDtcXG59XFxuXFxuLyogXFxu55S15b2x6K+m5oOFXFxuKi9cXG5cXG4jZGV0YWlsIHtcXG4gICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjQpO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHRvcDogMDtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbiNkZXRhaWwgLm1vdmllX2RldGFpbCB7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgLyogbWFyZ2luOiAzMHB4IDEwcHggMHB4IDEwcHg7ICovXFxuICAgIGJhY2tncm91bmQ6d2hpdGU7XFxuICAgIG92ZXJmbG93OiBzY3JvbGw7XFxuICAgIC13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDtcXG5cXG59XFxuXFxuI2RldGFpbCAuY2FyZCB7XFxuICAgIHBhZGRpbmc6MCAxOHB4O1xcbn1cXG5cXG4jZGV0YWlsIC5zdWJqZWN0IHtcXG4gICAgZGlzcGxheTogZmxleDtcXG59XFxuXFxuI2RldGFpbCAubGVmdCB7XFxuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxMDBweCk7XFxufVxcblxcbiNkZXRhaWwgLnJpZ2h0IHtcXG4gICAgd2lkdGg6IDEwMHB4O1xcbiAgICBoZWlnaHQ6IDExMHB4O1xcbiAgICAvKiBvdXRsaW5lOiAxcHggc29saWQgcmVkOyAqL1xcbn1cXG5cXG4jZGV0YWlsIC5yaWdodCBpbWcge1xcbiAgICB3aWR0aDoxMDBweDtcXG59XFxuXFxuI2RldGFpbCAuY2hhbm5lbF90YWdze1xcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4XFxuICAgIFxcbn1cXG5cXG4jZGV0YWlsIGgyIHtcXG4gICAgY29sb3I6ICNhYWE7XFxuICAgIG1hcmdpbjogMCAwIDE1cHg7XFxuICAgIGZvbnQtc2l6ZTogMTVweDtcXG59XFxuXFxuI2RldGFpbCBoMSwjZGV0YWlsIGgyLCNkZXRhaWwgaDMge1xcbiAgICBmb250LXdpZ2h0Om5vcm1hbDtcXG59XFxuXFxuXFxuXFxuIFxcblxcbiNkZXRhaWwgaDEge1xcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcXG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcXG4gICAgY29sb3I6IHJnYigxNywxNywxNyk7XFxufVxcblxcbiNkZXRhaWwgLnNjb3JlIHtcXG4gICAgY29sb3I6cmdiKDczLDczLDczKTtcXG4gICAgbWFyZ2luLXJpZ2h0OjhweDtcXG59XFxuXFxuI2RldGFpbCAuY291bnQge1xcbiAgICBjb2xvcjpyZ2IoMTcwLDE3MCwxNzApXFxufVxcblxcbiNkZXRhaWwgLm1ldGEge1xcbiAgICBmb250LXNpemU6IDE0cHg7XFxuICAgIGNvbG9yOnJnYig3Myw3Myw3Myk7XFxuICAgIGxpbmUtaGVpZ2h0OiAyMi40cHg7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDIwcHg7XFxuICAgIG1hcmdpbi10b3A6IDEwcHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XFxuICAgIFxcbn1cXG5cXG4jZGV0YWlsIC5jaGFubmVsX3RhZyB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZmZhZjA7XFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MmJkNTY7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgICBmb250LXNpemU6IDEzcHg7XFxuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG4jZGV0YWlsIGEge1xcbiAgY29sb3I6IzQyYmQ1NiAgIFxcbn1cXG5cXG4jZGV0YWlsIC5iZCB7XFxuICAgIGZvbnQtc2l6ZTogMTVweDtcXG4gICAgbGluZS1oZWlnaHQ6IDIycHg7XFxuICAgIGNvbG9yOiAjNDk0OTQ5O1xcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xcbiAgICBcXG59XFxuXFxuI2RldGFpbCAuY2VsZWJyaXRpZXMgdWwge1xcbiAgICBvdmVyZmxvdzogYXV0bztcXG4gICAgd2hpdGUtc3BhY2U6bm93cmFwO1xcbn1cXG5cXG4jZGV0YWlsIC5jZWxlYnJpdGllcyBsaSB7XFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgd2lkdGg6IDc1cHg7XFxuICAgIG1hcmdpbi1yaWdodDo4cHg7XFxufVxcblxcblxcbiNkZXRhaWwgLmNlbGVicml0aWVzIC5wb3N0ZXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gICAgaGVpZ2h0OiAxMzBweDtcXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xcbiAgICAvKiBvdXRsaW5lOiAxcHggc29saWQgcGluazsgKi9cXG4gICAgXFxufVxcblxcbiNkZXRhaWwgLmNlbGVicml0aWVzIC5uYW1lICwgI2RldGFpbCAuY2VsZWJyaXRpZXMgLnJvbGUge1xcbiAgICBtYXJnaW4tdG9wOjhweDtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuXFxuI2RldGFpbCAuY2xvc2Uge1xcbiAgICBtYXJnaW46MzBweCAwO1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbiNkZXRhaWwgLmNsb3NlIGJ1dHRvbiB7XFxuICAgIGNvbG9yOiAjNDJiZDU2O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZmYWYwO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDJiZDU2O1xcbiAgICBmb250LXNpemU6IDE0cHg7XFxuICAgIHBhZGRpbmc6IDVweCAxNnB4O1xcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xcbn1cXG5cXG5cXG5cXG5cXG5cXG5cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59IiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0ICcuL2Nzcy9zdHlsZS5jc3MnXG5cblxue1xuICAgIC8vIC8vIFxiXGLkv67lpI1JT1PkuIpWSOeahGJ1Z1xuICAgIGxldCBpT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBhZHxpUGhvbmV8aVBvZCkvZykgPyB0cnVlOmZhbHNlO1xuICAgIGlmKGlPUyl7XG4gICAgICAgIGxldCBtYWluX2hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSAtIDUwXG4gICAgICAgICQoJ21haW4nKS5jc3Moe2hlaWdodDptYWluX2hlaWdodH0pXG4gICAgICAgIGNvbnNvbGUubG9nKFwiSU9T5LiKbWFpbueahGhlaWdodOW3sumHjee9rlwiKVxuICAgIH1cbn1cblxubGV0IEV2ZW50X2h1Yj0ge1xuICAgIGV2ZW50cyA6IHt9LFxuICAgIG9uKHR5cGUsZm4pe1xuICAgICAgICBpZih0aGlzLmV2ZW50c1t0eXBlXSA9PT0gIHVuZGVmaW5lZCl7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1t0eXBlXSA9IFtdXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudHNbdHlwZV0ucHVzaChmbilcbiAgICB9LFxuICAgIGVtaXQodHlwZSxkYXRhKXtcbiAgICAgICAgdGhpcy5ldmVudHNbdHlwZV0uZm9yRWFjaCgoZm4pPT57XG4gICAgICAgICAgICBmbi5jYWxsKG51bGwsZGF0YSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUsbG9jYWxfZGF0YSl7XG4gICAgLy8g5aSE55CG55S15b2xanNvbuagvOW8j+aVsOaNru+8jOeUn+aIkGh0bWzmqKHmnb/lrZfnrKbkuLJcbiAgICBsZXQgc3RhdHVzID0gXCJcIlxuICAgIGlmKGxvY2FsX2RhdGEgIT09ICBudWxsKXtcbiAgICAgICAgSlNPTi5wYXJzZShsb2NhbF9kYXRhKS5mb3JFYWNoKChtKT0+e1xuICAgICAgICAgICAgaWYobW92aWUuaWQgPT09IG0uaWQrJycpe1xuICAgICAgICAgICAgICAgIHN0YXR1cyA9ICdhY3RpdmUnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuICAgIGxldCB7Y2FzdHMsZGlyZWN0b3JzfSA9IG1vdmllXG4gICAgbGV0IGNhc3RfbmFtZV9hcnIgPSBbXVxuICAgIGxldCBkaXJlY3Rvcl9uYW1lX2FyciA9IFtdXG4gICAgY2FzdHMuZm9yRWFjaCgoY2FzdCk9PntcbiAgICAgICAgY2FzdF9uYW1lX2Fyci5wdXNoKGNhc3QubmFtZSlcbiAgICB9KVxuICAgIGRpcmVjdG9ycy5mb3JFYWNoKChkaXJlY3Rvcik9PntcbiAgICAgICAgZGlyZWN0b3JfbmFtZV9hcnIucHVzaChkaXJlY3Rvci5uYW1lKVxuICAgIH0pXG5cbiAgICBsZXQgdG1wID0gYCAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1tb3ZpZS1pZD0ke21vdmllLmlkfT5cbiAgICA8YSBocmVmPVwiI1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY292ZXJcIj5cbiAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL2ltZzMuZG91YmFuaW8uY29tL2YvbW92aWUvYjZkYzc2MWY1ZTRjZjA0MDMyZmFhOTY5ODI2OTg2ZWZiZWNkNTRiYi9waWNzL21vdmllL21vdmllX2RlZmF1bHRfc21hbGwucG5nXCIgZGF0YS1zcmMgPSBcIiR7bW92aWUuaW1hZ2VzLnNtYWxsfVwiIGFsdD1cIlwiPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRldGFpbFwiPlxuICAgICAgICAgICAgPGgyPiR7bW92aWUudGl0bGV9PC9oMj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJleHRyYVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2NvcmVcIj4ke21vdmllLnJhdGluZy5hdmVyYWdlfTwvc3Bhbj4gLyAke21vdmllLmNvbGxlY3RfY291bnR95pS26JePXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJleHRyYVwiPiR7bW92aWUueWVhcn0gLyAke21vdmllLmdlbnJlcy5qb2luKCfjgIEnKX08L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJleHRyYVwiPuWvvOa8lO+8miR7ZGlyZWN0b3JfbmFtZV9hcnIuam9pbign44CBJyl9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZXh0cmFcIj7kuLvmvJTvvJoke2Nhc3RfbmFtZV9hcnIuam9pbign44CBJyl9PC9kaXY+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImljb25mb250IGljb24teGlodWFuICR7c3RhdHVzfVwiPjwvc3Bhbj5cblxuICAgICAgICA8L2Rpdj5cbiAgICA8L2E+XG48L2Rpdj5cbmBcbiAgICByZXR1cm4gJCh0bXApXG59XG5cbmZ1bmN0aW9uIGxhenlfbG9hZCgpe1xuICAgIC8vIOaHkuWKoOi9vVxuICAgICQoJy5jb3ZlciBpbWcnKS5ub3QoJ1tkYXRhLWlzTG9hZGVkXScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgaWYoICQoJ21haW4nKS5oZWlnaHQoKSskKCdtYWluJykuc2Nyb2xsVG9wKCkgPiAkKHRoaXMpLm9mZnNldCgpLnRvcCApe1xuICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdzcmMnLCQodGhpcykuYXR0cignZGF0YS1zcmMnKSlcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1pc0xvYWRlZCcsMSlcbiAgICAgICAgfVxuICAgIH0pXG59XG5cblxuXG5jbGFzcyBUb3AyNTB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnI3RvcDI1MCcpXG4gICAgICAgIHRoaXMuaXNfbG9kZGluZyA9IGZhbHNlIC8vXG4gICAgICAgIHRoaXMubW9pdmVfaW5kZXggPSAwXG4gICAgICAgIHRoaXMuY2xvY2sgPSBudWxsXG4gICAgICAgIHRoaXMubGF6eV9sb2FkX3RpbWVfaWQgPSBudWxsXG4gICAgICAgIHRoaXMuZXZlbnRfaHViID0gRXZlbnRfaHViXG5cbiAgICAgICAgdGhpcy5kYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2RvdWJhbl9tb3ZpZXMnKVxuXG4gICAgfVxuICAgIFxuICAgIGluaXQoKXtcblxuICAgICAgICBcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgICAgdGhpcy5zdGFydCgpXG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBiaW5kKCl7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgbGV0ICRtYWluID0gdGhpcy4kY29udGFpbmVyLnBhcmVudHMoJ21haW4nKVxuICAgICAgICAvLyDmu5rliqjkuovku7ZcbiAgICAgICAgJG1haW4uc2Nyb2xsKCgpPT57XG4gICAgICAgICAgICBpZih0aGlzLiRjb250YWluZXIucGFyZW50KCkuY3NzKCdkaXNwbGF5JykgPT09ICdub25lJyl7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNsb2NrKXtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2xvY2spXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2xvY2sgPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuJGNvbnRhaW5lci5oZWlnaHQoKSAtIDUwIDw9ICRtYWluLmhlaWdodCgpKyRtYWluLnNjcm9sbFRvcCgpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5rua5Yqo5Yiw5bqV6YOo77yM5Y+R6LW35paw55qE6K+35rGCXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sMzAwKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZih0aGlzLmxhenlfbG9hZF90aW1lX2lkKXtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5sYXp5X2xvYWRfdGltZV9pZClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGF6eV9sb2FkX3RpbWVfaWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgbGF6eV9sb2FkKClcbiAgICAgICAgICAgIH0sNTAwKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgfSkgIFxuXG4gICAgICAgIC8v5pS26JePXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuaWNvbi14aWh1YW4nLGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgbGV0IG1vdmllX2l0ZW0gPSAkKHRoaXMpLnBhcmVudHMoJy5pdGVtJylcbiAgICAgICAgICAgIGxldCBtb3ZpZV9pZCA9IG1vdmllX2l0ZW0uZGF0YSgnbW92aWVJZCcpXG4gICAgICAgICAgICBpZiggJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykgKXtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCd1bmxpa2UnLG1vdmllX2lkKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgICAgICBsZXQgbW92aWVfaHRtbF9zdHIgPSBtb3ZpZV9pdGVtLndyYXAoJzxwLz4nKS5wYXJlbnQoKS5odG1sKClcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgnbGlrZScse2lkOm1vdmllX2lkLGh0bWw6bW92aWVfaHRtbF9zdHJ9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy/mlLbol4/pobXpnaLlj5bmtojmlLbol4/kuovku7ZcbiAgICAgICAgdGhpcy5ldmVudF9odWIub24oJ2Zhdl91bmxpa2UnLGZ1bmN0aW9uKG1vdmllX2lkKXtcbiAgICAgICAgICAgIF90aGlzLiRjb250YWluZXIuZmluZChgW2RhdGEtbW92aWUtaWQ9JHttb3ZpZV9pZH1dIC5pY29uLXhpaHVhbmApLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICB9KVxuXG4gICAgICAgIC8v5p+l55yL6K+m5oOFXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLFwiOm5vdCgnLmljb24teGlodWFuJylcIixmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdzaG93X2RldGFpbCcsJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpLmRhdGEoJ21vdmllSWQnKS50b1N0cmluZygpKVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgXG5cbiAgICB9XG4gICAgc3RhcnQoKXtcbiAgICAgICAgdGhpcy5nZXREYXRhKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoZGF0YSlcbiAgICAgICAgfSlcbiAgICB9XG4gICAgXG4gICAgZ2V0RGF0YShmbil7XG4gICAgICAgIC8v6I635Y+W6aG16Z2i5pWw5o2uXG4gICAgICAgIGlmKHRoaXMuaXNfbG9kZGluZyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbG9kZGluZ+S4re+8jOS4jemHjeaWsOivt+axguaVsOaNricpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5zaG93KClcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB1cmw6Jy8vYXBpLmRvdWJhbi5jb20vdjIvbW92aWUvdG9wMjUwJyxcbiAgICAgICAgICAgICAgICB0eXBlOidHRVQnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOidqc29ucCcsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBzdGFydDp0aGlzLm1vaXZlX2luZGV4LFxuICAgICAgICAgICAgICAgICAgICBjb3VudDoyMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2x5pWw5o2u5oiQ5YqfOicpXG4gICAgICAgICAgICAgICAgZm4ocmVzKVxuICAgICAgICAgICAgICAgIHRoaXMubW9pdmVfaW5kZXggKz0gMjBcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9seaVsOaNruWksei0pTogJylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpICAgIFxuICAgICAgICAgICAgfSkuYWx3YXlzKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiRjb250YWluZXIucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5oaWRlKClcbiAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHJlbmRlcihkYXRhKXtcbiAgICAgICAgZGF0YS5zdWJqZWN0cy5mb3JFYWNoKChtb3ZpZSk9PntcbiAgICAgICAgICAgICBsZXQgJG5vZGUgPSBnZW5lcmF0ZV9odG1sX3RtcChtb3ZpZSx0aGlzLmRhdGEpXG4gICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCgkbm9kZSlcbiAgICAgICAgfSlcbiAgICAgICAgbGF6eV9sb2FkKClcbiAgICAgICAgXG4gICAgfVxufVxuXG5jbGFzcyBVc3tcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSAkKCcjdXMnKVxuICAgICAgICB0aGlzLmNvbF9oZWlnaHRfYXJyID0gW11cbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICAgICAgdGhpcy5pbWdfd2lkdGggPSAkKCcud2F0ZXJmYWxsIGltZycpLm91dGVyV2lkdGgodHJ1ZSlcbiAgICAgICAgdGhpcy5jb2xfQ291bnQgPSAgTWF0aC5mbG9vciggJCgnLndhdGVyZmFsbCcpLndpZHRoKCkvdGhpcy5pbWdfd2lkdGggKVxuICAgICAgICBmb3IobGV0IGkgPSAwO2kgPCB0aGlzLmNvbF9Db3VudDtpKyspe1xuICAgICAgICAgICAgdGhpcy5jb2xfaGVpZ2h0X2FycltpXSA9IDBcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpbml0KCl7XG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBiaW5kKCl7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5pbWctd3JhcCcsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdzaG93X2RldGFpbCcsJCh0aGlzKS5kYXRhKCdtb3ZpZUlkJykpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbGF5b3V0KCRub2RlKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgc3RhcnQoKXtcbiAgICAgICAgdGhpcy5nZXREYXRhKChkYXRhKT0+e1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoZGF0YSlcbiAgICAgICAgfSlcbiAgICAgICBcbiAgICB9XG5cbiAgICBnZXREYXRhKGZuKXtcbiAgICAgICAgLy/ojrflj5bpobXpnaLmlbDmja5cblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3VzX2JveCcsXG4gICAgICAgICAgICB0eXBlOidHRVQnLFxuICAgICAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYJVU+eUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgZm4ocmVzKVxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxuICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2x5pWw5o2u5aSx6LSlOiAnKVxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKSAgICBcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZW5kZXIoZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbW92aWUgPSBtb3ZpZS5zdWJqZWN0XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUpXG4gICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmFwcGVuZCgkbm9kZSlcbiAgICAgICAgfSlcbiAgICB9XG59XG5cblxuY2xhc3MgU2VhcmNoe1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKCcjc2VhcmNoJylcbiAgICAgICAgdGhpcy4kaW5wdXQgPSAkKCcjc2VhcmNoIGlucHV0JylcbiAgICAgICAgdGhpcy4kY29udGFpbmVyID0gJCgnLnNlYXJjaC1yZXNsdXQgLmNvbnRhaW5lcicpXG4gICAgICAgIHRoaXMuZGF0YSA9ICgpPT5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImRvdWJhbl9tb3ZpZXNcIilcbiAgICAgICAgdGhpcy5ldmVudF9odWIgPSBFdmVudF9odWJcbiAgICB9XG4gICAgXG4gICAgaW5pdCgpe1xuICAgICAgICB0aGlzLmJpbmQoKVxuICAgICAgICB0aGlzLnN0YXJ0KClcbiAgICAgICAgdGhpcy5rZXl3b3JkID0gbnVsbDtcblxuICAgIH1cbiAgICBcbiAgICBiaW5kKCl7XG5cbiAgICAgICAgbGV0IF90aGlzID0gdGhpc1xuXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuaXRlbScsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdzaG93X2RldGFpbCcsJCh0aGlzKS5kYXRhKCdtb3ZpZUlkJykpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kZWxlbWVudC5maW5kKCcuYnV0dG9uJykuY2xpY2soKCk9PntcbiAgICAgICAgICAgIHRoaXMua2V5d29yZCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKS52YWwoKVxuICAgICAgICAgICAgdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgoZGF0YSk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcihkYXRhLHRoaXMuZGF0YSgpKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICAvL+e7keWumuaUtuiXj+S6i+S7tlxuICAgICAgICB0aGlzLiRjb250YWluZXIub24oJ2NsaWNrJywnLmljb24teGlodWFuJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBpdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcuaXRlbScpXG4gICAgICAgICAgICBsZXQgbW92aWVfaWQgPSBpdGVtLmRhdGEoJ21vdmllSWQnKVxuICAgICAgICAgICAgaWYoJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykpe1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pS26JeP5LitLi4uLlwiKVxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIilcbiAgICAgICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgndW5saWtlJyxtb3ZpZV9pZClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5rKh5pyJ5pS26JePLi4uXCIpXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKVxuICAgICAgICAgICAgICAgIGxldCBtb3ZpZV9odG1sX3N0ciA9IGl0ZW0ud3JhcCgnPHAvPicpLnBhcmVudCgpLmh0bWwoKVxuICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50X2h1Yi5lbWl0KCdsaWtlJyx7aWQ6bW92aWVfaWQsaHRtbDptb3ZpZV9odG1sX3N0cn0pXG5cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuZXZlbnRfaHViLm9uKCdmYXZfdW5saWtlJyxmdW5jdGlvbihtb3ZpZV9pZCl7XG4gICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmZpbmQoYFtkYXRhLW1vdmllLWlkPSR7bW92aWVfaWR9XSAuaWNvbi14aWh1YW5gKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDmlLbol4/pobXpnaLlj5bmtojmlLbol4/kuovku7Yg5oiQ5YqfYClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyDnu5Hlrprnoa7orqTkuovku7ZcbiAgICAgICAgdGhpcy4kaW5wdXQub24oJ2tleXByZXNzJyxmdW5jdGlvbihlKXtcbiAgICAgICAgICAgIGxldCBrZXlfY29kZSA9IGUua2V5Q29kZTtcbiAgICAgICAgICAgIF90aGlzLmtleXdvcmQgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgaWYoa2V5X2NvZGUgPT09IDEzKXtcbiAgICAgICAgICAgICAgICBfdGhpcy4kY29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXREYXRhKChkYXRhKT0+e1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW5kZXIoZGF0YSxfdGhpcy5kYXRhKCkpXG4gICAgICAgICAgICAgICAgfSkgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICB9XG4gICAgc3RhcnQoKXtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgZ2V0RGF0YShmbil7XG4gICAgICAgIC8v6I635Y+W6aG16Z2i5pWw5o2uXG4gICAgICAgIGlmKHRoaXMuaXNfbG9kZGluZyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbG9kZGluZ+S4re+8jOS4jemHjeaWsOivt+axguaVsOaNricpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmlzX2xvZGRpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3NlYXJjaCcsXG4gICAgICAgICAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTonanNvbnAnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgcTp0aGlzLmtleXdvcmRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KS5kb25lKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruaIkOWKnzonKVxuICAgICAgICAgICAgICAgIGZuKHJlcylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgICAgICAgICB9KS5mYWlsKChyZXMpPT57XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+aQnOe0oueUteW9seaVsOaNruWksei0pTogJylcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpICAgIFxuICAgICAgICAgICAgfSkuYWx3YXlzKCgpPT57XG4gICAgICAgICAgICAgICAgdGhpcy5pc19sb2RkaW5nID0gZmFsc2VcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmZpbmQoJy5sb2FkaW5nJykuaGlkZSgpXG4gICAgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKGRhdGEsbG9jYWxfZGF0YSl7XG4gICAgICAgIGRhdGEuc3ViamVjdHMuZm9yRWFjaCgobW92aWUpPT57XG4gICAgICAgICAgICAgbGV0ICRub2RlID0gZ2VuZXJhdGVfaHRtbF90bXAobW92aWUsbG9jYWxfZGF0YSlcbiAgICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCRub2RlKVxuICAgICAgICB9KVxuICAgICAgICBsYXp5X2xvYWQoKVxuICAgIH1cbn1cblxuXG5jbGFzcyBGYXZvcml0ZSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuJGNvbnRhaW5lciA9ICQoJyNmYXYnKVxuICAgICAgICB0aGlzLmxvY2FsX3N0b3JhZ2UgPSBsb2NhbFN0b3JhZ2VcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5sb2NhbF9zdG9yYWdlLmdldEl0ZW0oJ2RvdWJhbl9tb3ZpZXMnKVxuICAgICAgICB0aGlzLmV2ZW50X2h1YiA9IEV2ZW50X2h1YlxuICAgIH1cbiAgICBpbml0KCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5Yid5aeL5YyWXCIpXG4gICAgICAgIGlmKHRoaXMuZGF0YSA9PT0gbnVsbCl7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBbXVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGhpcy5kYXRhKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmluZCgpXG4gICAgICAgIHRoaXMucmVuZGVyKClcbiAgICB9XG4gICAgYmluZCgpe1xuICAgICAgICBsZXQgX3RoaXMgPSB0aGlzXG5cbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5pY29uLXhpaHVhbicsZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWPlua2iOWWnOasoi4uLlwiKVxuICAgICAgICAgICAgbGV0IGl0ZW0gPSAkKHRoaXMpLnBhcmVudHMoJy5pdGVtJylcbiAgICAgICAgICAgIGxldCBtb3ZpZV9pZCA9IGl0ZW0uZGF0YSgnbW92aWVJZCcpXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVfbW92aWUobW92aWVfaWQpXG4gICAgICAgICAgICBfdGhpcy5ldmVudF9odWIuZW1pdCgnZmF2X3VubGlrZScsbW92aWVfaWQpXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy4kY29udGFpbmVyLm9uKCdjbGljaycsJy5pdGVtJyxmdW5jdGlvbigpe1xuICAgICAgICAgICAgX3RoaXMuZXZlbnRfaHViLmVtaXQoJ3Nob3dfZGV0YWlsJywkKHRoaXMpLmRhdGEoJ21vdmllSWQnKSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmV2ZW50X2h1Yi5vbignbGlrZScsZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg5oiR55uR5ZCs5Yiw5LqGbGlrZeS6i+S7ti4uLmApXG4gICAgICAgICAgICBfdGhpcy5kYXRhLnVuc2hpZnQoZGF0YSlcbiAgICAgICAgICAgIF90aGlzLmxvY2FsX3N0b3JhZ2Uuc2V0SXRlbSgnZG91YmFuX21vdmllcycsSlNPTi5zdHJpbmdpZnkoX3RoaXMuZGF0YSkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5ldmVudF9odWIub24oJ3VubGlrZScsZnVuY3Rpb24oaWQpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coYOaIkeebkeWQrOWIsOS6hnVubGlrZeS6i+S7ti4uLmApXG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVfbW92aWUoaWQpXG5cbiAgICAgICAgfSlcblxuICAgIH1cblxuICAgIHJlbW92ZV9tb3ZpZShpZCl7XG4gICAgICAgIGxldCBtb3ZpZV9pbmRleCA9IG51bGw7XG4gICAgICAgICAgICBmb3IobGV0IFtpbmRleCxtb3ZpZV0gb2YgdGhpcy5kYXRhLmVudHJpZXMoKSl7XG4gICAgICAgICAgICAgICAgaWYobW92aWUuaWQgPT09IGlkKXtcbiAgICAgICAgICAgICAgICAgICAgbW92aWVfaW5kZXggPSBpbmRleFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YS5zcGxpY2UobW92aWVfaW5kZXgsMSlcbiAgICAgICAgdGhpcy5sb2NhbF9zdG9yYWdlLnNldEl0ZW0oJ2RvdWJhbl9tb3ZpZXMnLEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSkpXG4gICAgICAgIHRoaXMucmVuZGVyKClcbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5lbXB0eSgpXG4gICAgICAgIGlmKHRoaXMuZGF0YS5sZW5ndGggPT09IDApe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJcYlxi5pqC5peg5pS26JePLi4uXCIpXG4gICAgICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwibm8tZGF0YVwiPlxi5pqC5peg5pS26JeP5ZOmLi4uPC9zcGFuPicpKVxuXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgbGV0IG1vdmllX2FyciA9IHRoaXMuZGF0YVxuICAgICAgICAgICAgbW92aWVfYXJyLmZvckVhY2goKG1vdmllKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5hcHBlbmQoJChtb3ZpZS5odG1sKSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxufVxuXG5cblxuY2xhc3MgQXBwe1xuICAgIGNvbnN0cnVjdG9yKHt0b3AyNTAsdXMsc2VhcmNoLGZhdixkZXRhaWx9KXtcbiAgICAgICAgdGhpcy4kdGFicyA9ICQoJ2Zvb3Rlcj5kaXYnKSAvL1xidGFi5oyJ6ZKuXG4gICAgICAgIHRoaXMucGFuZWxzID0gJCgnc2VjdGlvbicpXG4gICAgICAgIHRoaXMudG9wMjUwID0gdG9wMjUwXG4gICAgICAgIHRoaXMudXMgPSB1c1xuICAgICAgICB0aGlzLnNlYXJjaCA9IHNlYXJjaFxuICAgICAgICB0aGlzLmZhdiA9IGZhdlxuICAgICAgICB0aGlzLmRldGFpbCA9IGRldGFpbFxuICAgICAgICBcbiAgICB9XG4gICAgaW5pdCgpe1xuICAgICAgICAvLyDliJ3lp4vljJZcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICAgICAgdGhpcy50b3AyNTAuaW5pdCgpXG4gICAgICAgIHRoaXMudXMuaW5pdCgpXG4gICAgICAgIHRoaXMuc2VhcmNoLmluaXQoKVxuICAgICAgICB0aGlzLmZhdi5pbml0KClcbiAgICAgICAgdGhpcy5kZXRhaWwuaW5pdCgpXG4gICAgICAgIFxuICAgIH1cbiAgICBiaW5kKCl7XG4gICAgICAgIC8vIOe7keWumuS6i+S7tlxuXG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgdGhpcy4kdGFicy5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gJCh0aGlzKS5pbmRleCgpXG4gICAgICAgICAgICBfdGhpcy5wYW5lbHMuaGlkZSgpLmVxKGluZGV4KS5mYWRlSW4oKVxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2lkJykgPT09ICd4aWh1YW4nKXtcbiAgICAgICAgICAgICAgICBfdGhpcy5mYXYucmVuZGVyKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KVxuXG4gICAgfVxuXG59XG5cbmNsYXNzIERldGFpbHtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLiRjb250YWluZXIgPSAkKCcjZGV0YWlsJylcbiAgICAgICAgdGhpcy4kaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpXG4gICAgICAgIHRoaXMuZXZlbnRfaHViID0gRXZlbnRfaHViXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGxcbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cblxuICAgIGluaXQoKXtcbiAgICAgICAgdGhpcy5iaW5kKClcbiAgICB9XG5cbiAgICBiaW5kKCl7XG4gICAgICAgIHRoaXMuJGNvbnRhaW5lci5vbignY2xpY2snLCcuY2xvc2UgYnV0dG9uJywoKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLlhbPpl63or6bmg4XpobUuLi5cIilcbiAgICAgICAgICAgIHRoaXMuJGNvbnRhaW5lci5mYWRlT3V0KClcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmV2ZW50X2h1Yi5vbignc2hvd19kZXRhaWwnLChtb3ZpZV9pZCk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1vdmllX2lkKVxuICAgICAgICAgICAgbGV0IHVybCA9IGAvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL3N1YmplY3QvJHttb3ZpZV9pZH1gXG4gICAgICAgICAgICB0aGlzLmdldF9kYXRhKHVybCwoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfSAgXG4gICAgXG4gICAgZ2V0X2RhdGEodXJsLHJlbmRlcil7XG4gICAgICAgIGxldCBfdGhpcyA9IHRoaXNcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHVybDp1cmwsXG4gICAgICAgICAgICB0eXBlOidHRVQnLFxuICAgICAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhcGlrZXk6JzBiMmJkZWRhNDNiNTY4ODkyMTgzOWM4ZWNiMjAzOTliJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfor7fmsYLnlLXlvbFcYuivpuaDheaVsOaNruaIkOWKny4nKVxuICAgICAgICAgICAgX3RoaXMuZGF0YSA9IHJlc1xuICAgICAgICAgICAgX3RoaXMucmVuZGVyKClcbiAgICAgICAgfSkuZmFpbCgocmVzKT0+e1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ+ivt+axgueUteW9sVxi6K+m5oOF5pWw5o2u5aSx6LSlLicpXG4gICAgICAgICAgICBfdGhpcy5kYXRhID0gcmVzXG5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZW5kZXIoKXtcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFcbiAgICAgICAgbGV0IG1ldGFfZGlyZWN0b3JzID0gJydcbiAgICAgICAgbGV0IGNlbGVicml0aWVzID0gJydcbiAgICAgICAgbGV0IG1ldGFfY2FzdHMgPSAnJ1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxuICAgICAgICBsZXQgZGlyZWN0b3JzID0gZGF0YS5kaXJlY3RvcnMubWFwKChkaXJlY3Rvcik9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkaXJlY3RvcilcbiAgICAgICAgICAgICAgICBtZXRhX2RpcmVjdG9ycyArPSBkaXJlY3Rvci5uYW1lKyco5a+85ryUKSAvICdcbiAgICAgICAgICAgICAgICBjZWxlYnJpdGllcyArPSBgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvc3RlclwiIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7ZGlyZWN0b3IuYXZhdGFycy5zbWFsbH0nKVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJuYW1lXCI+JHtkaXJlY3Rvci5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9sZVwiPuWvvOa8lDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5gXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IGNhc3RzID0gZGF0YS5jYXN0cy5tYXAoKGNhc3QpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXN0KVxuICAgICAgICAgICAgbWV0YV9jYXN0cyArPSBjYXN0Lm5hbWUrJyAvICdcbiAgICAgICAgICAgIGNlbGVicml0aWVzICs9IGA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9zdGVyXCIgc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtjYXN0LmF2YXRhcnMuc21hbGx9JylcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZVwiPiR7Y2FzdC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicm9sZVwiPua8lOWRmDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5gXG4gICAgICAgIH0pXG5cbiAgICAgICAgbGV0IHRhZ3MgPSBkYXRhLnRhZ3MubWFwKCh0YWcpPT57XG4gICAgICAgICAgICByZXR1cm4gYDxsaSBjbGFzcz1cImNoYW5uZWxfdGFnXCI+PGEgaHJlZj1cIlwiPiR7dGFnfTwvYT48L2xpPmBcbiAgICAgICAgfSlcblxuXG4gICAgICAgIGxldCBtZXRhID0gYCR7ZGF0YS5kdXJhdGlvbnNbMF0rJyAvICcrZGF0YS5nZW5yZXMuam9pbignIC8gJykrJyAvICcrbWV0YV9kaXJlY3RvcnMrbWV0YV9jYXN0cyt0aGlzLmRhdGEucHViZGF0ZXMuam9pbignIC8gJyl9YFxuXG4gICAgICAgIGxldCB0bXAgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb3ZpZV9kZXRhaWxcIiBzdHlsZT1cImhlaWdodDoke3RoaXMuJGhlaWdodH1weFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICA8aDE+JHtkYXRhLnRpdGxlfTwvaDE+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1YmplY3RcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicmF0dGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic3RhclwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Ryb25nIGNsYXNzPVwic2NvcmVcIj4ke2RhdGEucmF0aW5nLmF2ZXJhZ2V9PC9zdHJvbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb3VudFwiPiR7ZGF0YS5yYXRpbmdzX2NvdW50feS6uuivhOS7tzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibWV0YVwiPiR7bWV0YX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2RhdGEuaW1hZ2VzLnNtYWxsfVwiIGFsdD1cIlwiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhbm5lbF90YWdzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMj7miYDlsZ7popHpgZM8L2gyPlxuICAgICAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3RhZ3Muam9pbignJyl9XG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImludHJvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMj4ke2RhdGEudGl0bGV955qE5Ymn5oOF566A5LuLPC9oMj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJiZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2RhdGEuc3VtbWFyeX0gIFxuICAgICAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2VsZWJyaXRpZXNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgyPuW9seS6ujwvaDI+XG4gICAgICAgICAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7Y2VsZWJyaXRpZXN9ICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsb3NlXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbj7lhbPpl608L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgYFxuICAgICAgICB0aGlzLiRjb250YWluZXIuZW1wdHkoKVxuICAgICAgICB0aGlzLiRjb250YWluZXIuYXBwZW5kKHRtcCkuZmFkZUluKClcbiAgICAgICAgY29uc29sZS5sb2coXCJkZXRhaWwg5riy5p+T5oiQ5YqfLi4uXCIpXG5cblxuICAgIH1cbn1cblxubGV0IGFwcCA9IG5ldyBBcHAoXG4gICAge1xuICAgICAgICB0b3AyNTA6bmV3IFRvcDI1MCgpLFxuICAgICAgICB1czpuZXcgVXMoKSxcbiAgICAgICAgc2VhcmNoOm5ldyBTZWFyY2goKSxcbiAgICAgICAgZmF2Om5ldyBGYXZvcml0ZSgpLFxuICAgICAgICBkZXRhaWw6bmV3IERldGFpbCgpXG4gICAgICAgIFxuICAgIH1cbiAgICApLmluaXQoKVxuXG5cblxuJCgnZm9vdGVyPmRpdicpLmVxKDEpLmNsaWNrKCgpPT57XG4gICAgXG4gICAgaWYoJCgnLndhdGVyZmFsbCBpbWcnKS5sZW5ndGggPT09IDApe1xuICAgICAgICBnZXREYXRhKHJlbmRlcilcbiAgICB9XG4gICAgXG4gICAgXG59KVxuXG5cbmZ1bmN0aW9uIGdldERhdGEoZm4pe1xuICAgIC8v6I635Y+W6aG16Z2i5pWw5o2uXG4gICAgJCgnLndhdGVyZmFsbCcpLnBhcmVudCgpLmZpbmQoJy5sb2FkaW5nJykuc2hvdygpXG5cbiAgICAkLmFqYXgoe1xuICAgICAgICAvLyB1cmw6Jy8vYXBpLmRvdWJhbi5jb20vdjIvbW92aWUvdXNfYm94JyxcbiAgICAgICAgdXJsOicvL2FwaS5kb3ViYW4uY29tL3YyL21vdmllL2luX3RoZWF0ZXJzJyxcbiAgICAgICAgdHlwZTonR0VUJyxcbiAgICAgICAgZGF0YVR5cGU6J2pzb25wJyxcbiAgICAgICAgXG4gICAgICAgIFxuICAgIH0pLmRvbmUoKHJlcyk9PntcbiAgICAgICAgZm4ocmVzKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXG4gICAgfSkuZmFpbCgocmVzKT0+e1xuICAgICAgICBjb25zb2xlLmxvZygn6K+35rGC55S15b2x5pWw5o2u5aSx6LSlOiAnKVxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpICAgIFxuICAgIH0pLmFsd2F5cygoKT0+e1xuICAgICAgICAkKCcud2F0ZXJmYWxsJykucGFyZW50KCkuZmluZCgnLmxvYWRpbmcnKS5oaWRlKClcblxuICAgIH0pXG59XG5cbmZ1bmN0aW9uIHJlbmRlcihkYXRhKXtcbiAgICBsZXQgaGVpZ2h0X2FyciA9IFs3MCw4MCw5MCwxMjBdXG4gICAgZGF0YS5zdWJqZWN0cy5mb3JFYWNoKChtb3ZpZSk9PntcbiAgICAgICAgLy8gIG1vdmllID0gbW92aWUuc3ViamVjdFxuXG4gICAgICAgICBsZXQgdG1wID0gYFxuICAgICAgICAgPGRpdiBjbGFzcz1cImltZy13cmFwXCIgZGF0YS1tb3ZpZS1pZD0ke21vdmllLmlkfT5cbiAgICAgICAgICAgIDxpbWcgc3JjPVwiaHR0cDovL2ltZzMuZG91YmFuaW8uY29tL2YvbW92aWUvYjZkYzc2MWY1ZTRjZjA0MDMyZmFhOTY5ODI2OTg2ZWZiZWNkNTRiYi9waWNzL21vdmllL21vdmllX2RlZmF1bHRfc21hbGwucG5nXCIgIGRhdGEtc3JjID0gXCIke21vdmllLmltYWdlcy5zbWFsbH1cIiBhbHQ9XCJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic2NvcmVcIj4ke051bWJlcihtb3ZpZS5yYXRpbmcuYXZlcmFnZSkudG9GaXhlZCgxKX08c3Bhbj5cbiAgICAgICAgIDwvZGl2PlxuICAgICAgICAgYFxuICAgICAgICAgXG4gICAgICAgICBsZXQgJGVsZW1uZXQgPSAkKHRtcClcbiAgICAgICAgICRlbGVtbmV0LmZpbmQoJ2ltZycpLmNzcygnaGVpZ2h0JyxoZWlnaHRfYXJyW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo0KV0pXG4gICAgICAgICAkKCcud2F0ZXJmYWxsJykuYXBwZW5kKCRlbGVtbmV0KVxuICAgIH0pXG4gICAgbGF5b3V0KClcbn1cblxuZnVuY3Rpb24gbGF5b3V0KCl7XG4gICAgLy/ngJHluIPmtYHluIPlsYBcbiAgICBsZXQgY29sSGVpZ2h0QXJyYXkgPSBbXVxuICAgIC8vIGxldCBpbWdXaWR0aCA9ICQoJy53YXRlcmZhbGwgaW1nJykub3V0ZXJXaWR0aCh0cnVlKVxuICAgIGxldCBpbWdXaWR0aCA9ICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykub3V0ZXJXaWR0aCh0cnVlKVxuXG4gICAgbGV0IGNvbENvdW50ID0gIE1hdGguZmxvb3IoJCgnLndhdGVyZmFsbCcpLndpZHRoKCkvaW1nV2lkdGgpXG4gICAgZm9yKGxldCBpPTA7IGk8Y29sQ291bnQ7IGkrKyl7XG4gICAgICAgIGNvbEhlaWdodEFycmF5W2ldID0gMFxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhgJHtjb2xIZWlnaHRBcnJheX0gJHtpbWdXaWR0aH0gJHtjb2xDb3VudH1gKVxuICAgICQoJy53YXRlcmZhbGwgLmltZy13cmFwJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICBsZXQgbWluX3ZhbHVlID0gTWF0aC5taW4oLi4uY29sSGVpZ2h0QXJyYXkpXG4gICAgICAgIGxldCBtaW5faW5kZXggPSBjb2xIZWlnaHRBcnJheS5pbmRleE9mKG1pbl92YWx1ZSlcbiAgICAgICAgJCh0aGlzKS5jc3Moe1xuICAgICAgICAgICAgbGVmdDptaW5faW5kZXgqaW1nV2lkdGgsXG4gICAgICAgICAgICB0b3A6bWluX3ZhbHVlXG4gICAgICAgIH0pXG4gICAgICAgIGNvbEhlaWdodEFycmF5W21pbl9pbmRleF0gKz0gJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKVxuICAgIH0pXG5cbiAgICAvL+aHkuWKoOi9veWbvueJh1xuICAgICQoJy53YXRlcmZhbGwgaW1nJykubm90KCdbZGF0YS1pc0xvYWRlZF0nKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKCAkKCdtYWluJykuaGVpZ2h0KCkrJCgnbWFpbicpLnNjcm9sbFRvcCgpID4gJCh0aGlzKS5vZmZzZXQoKS50b3AgKXtcbiAgICAgICAgICAgICQodGhpcykuYXR0cignc3JjJywkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJykpXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtaXNMb2FkZWQnLDEpXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgLy/lsYXkuK3lr7npvZBcbiAgICBsZXQgdG90YWxfd2lkdGggPSAkKCcud2F0ZXJmYWxsIC5pbWctd3JhcCcpLnBhcmVudHMoJ3NlY3Rpb24nKS5vdXRlcldpZHRoKHRydWUpXG4gICAgbGV0IGltZ3Nfd2lkdGggPSAkKCcud2F0ZXJmYWxsIC5pbWctd3JhcCcpLmVxKDApLm91dGVyV2lkdGgodHJ1ZSkgKiBjb2xDb3VudFxuICAgIGxldCBwYWRkaW5nID0gTWF0aC5mbG9vciggKHRvdGFsX3dpZHRoIC0gaW1nc193aWR0aCkvMiApXG4gICAgJCgnLndhdGVyZmFsbCAuaW1nLXdyYXAnKS5wYXJlbnRzKCdzZWN0aW9uJykuY3NzKHsncGFkZGluZy1sZWZ0JzpwYWRkaW5nLCdwYWRkaW5nLXRvcCc6cGFkZGluZ30pXG4gICAgY29uc29sZS5sb2coYHBhZGRpbmctbGVmdCBpcyAke3BhZGRpbmd9YClcbn1cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=